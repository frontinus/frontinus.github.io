<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Marconi Firmware: Core/Src/gnss.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PRT-logo-horizontal-dark-resized.png"/></td>
  <td id="projectalign">
   <div id="projectname">Marconi Firmware<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Firmware for the Maroni-DV rocket avionics board.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gnss_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gnss.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gnss_8h_source.html">gnss.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gnss.c:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c__incl.png" border="0" usemap="#a_core_2_src_2gnss_8c" alt=""/></div>
<map name="a_core_2_src_2gnss_8c" id="a_core_2_src_2gnss_8c">
<area shape="rect" title=" " alt="" coords="381,5,497,32"/>
<area shape="rect" href="main_8h.html" title=": Header for main.c file. This file contains the common defines of the application." alt="" coords="112,155,172,181"/>
<area shape="poly" title=" " alt="" coords="381,26,313,32,239,42,175,59,151,69,136,82,129,95,127,109,133,140,128,141,122,109,124,93,132,78,149,65,173,54,238,37,312,26,380,20"/>
<area shape="rect" href="gnss_8h.html" title="Driver for the TESEO GNSS module." alt="" coords="146,80,207,107"/>
<area shape="poly" title=" " alt="" coords="392,35,222,82,221,76,391,30"/>
<area shape="rect" title=" " alt="" coords="230,80,291,107"/>
<area shape="poly" title=" " alt="" coords="409,35,306,76,304,72,407,30"/>
<area shape="rect" title=" " alt="" coords="314,80,383,107"/>
<area shape="poly" title=" " alt="" coords="425,35,377,72,374,68,422,30"/>
<area shape="rect" title=" " alt="" coords="407,80,471,107"/>
<area shape="poly" title=" " alt="" coords="442,33,442,64,437,64,437,33"/>
<area shape="rect" title=" " alt="" coords="495,80,557,107"/>
<area shape="poly" title=" " alt="" coords="456,30,501,68,498,72,453,35"/>
<area shape="rect" title=" " alt="" coords="581,80,644,107"/>
<area shape="poly" title=" " alt="" coords="470,30,569,71,567,76,468,35"/>
<area shape="rect" title=" " alt="" coords="669,80,730,107"/>
<area shape="poly" title=" " alt="" coords="486,30,654,77,653,82,484,35"/>
<area shape="rect" title=" " alt="" coords="754,80,828,107"/>
<area shape="poly" title=" " alt="" coords="499,28,739,77,738,82,498,33"/>
<area shape="rect" title=" " alt="" coords="93,304,210,331"/>
<area shape="poly" title=" " alt="" coords="112,178,73,190,35,207,20,217,11,228,8,241,14,255,26,270,42,282,79,299,76,304,39,286,23,274,9,257,3,241,6,226,17,213,32,202,71,185,111,173"/>
<area shape="rect" href="_f_l_i_g_h_t___p_a_r_a_m_e_t_e_r_s___c_o_n_f_i_g_8h.html" title="Global configuration parameters for the Marconi flight computer." alt="" coords="23,229,261,256"/>
<area shape="poly" title=" " alt="" coords="145,182,145,214,139,214,139,182"/>
<area shape="rect" href="servo_8h.html" title="General purpose portable library for driving servo motors." alt="" coords="284,229,349,256"/>
<area shape="poly" title=" " alt="" coords="173,179,273,220,271,225,171,184"/>
<area shape="poly" title=" " alt="" coords="289,259,195,300,193,295,287,254"/>
<area shape="poly" title=" " alt="" coords="173,108,157,142,152,139,168,106"/>
</map>
</div>
</div>
<p><a href="gnss_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab89453539cc5f47df9113a92ca30f747"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#ab89453539cc5f47df9113a92ca30f747">gnss_begin_dma</a> ()</td></tr>
<tr class="separator:ab89453539cc5f47df9113a92ca30f747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7f7fccc34245a337fa27e66a9d12f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#gad7f7fccc34245a337fa27e66a9d12f7b">gnss_dma_handling</a> (UART_HandleTypeDef *huart, uint16_t data_len)</td></tr>
<tr class="memdesc:gad7f7fccc34245a337fa27e66a9d12f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main GNSS data processing callback, triggered by UART Idle Line DMA.  <br /></td></tr>
<tr class="separator:gad7f7fccc34245a337fa27e66a9d12f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de9ff4ab7ecbb994c35a14c7796a439"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a1de9ff4ab7ecbb994c35a14c7796a439">gnss_enable_agps</a> ()</td></tr>
<tr class="separator:a1de9ff4ab7ecbb994c35a14c7796a439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ddbfdecbb4719f3d34c9dc23b2ae108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108">gnss_config</a> ()</td></tr>
<tr class="memdesc:ga2ddbfdecbb4719f3d34c9dc23b2ae108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the TESEO module for high-speed operation and message filtering.  <br /></td></tr>
<tr class="separator:ga2ddbfdecbb4719f3d34c9dc23b2ae108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaed443a9487bcbf23fda98fd7cfd63c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#gadaed443a9487bcbf23fda98fd7cfd63c">gnss_ping</a> ()</td></tr>
<tr class="memdesc:gadaed443a9487bcbf23fda98fd7cfd63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pings the module to check for communication.  <br /></td></tr>
<tr class="separator:gadaed443a9487bcbf23fda98fd7cfd63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa07776446f0638e6040950c11aed993f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f">gnss_init</a> ()</td></tr>
<tr class="memdesc:gaa07776446f0638e6040950c11aed993f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the GNSS module.  <br /></td></tr>
<tr class="separator:gaa07776446f0638e6040950c11aed993f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga853c438cda78d33b86cf86dc750405ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga853c438cda78d33b86cf86dc750405ce">gnss_save</a> ()</td></tr>
<tr class="memdesc:ga853c438cda78d33b86cf86dc750405ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current configuration to the TESEO's non-volatile memory.  <br /></td></tr>
<tr class="separator:ga853c438cda78d33b86cf86dc750405ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7e498a3d63b13c084f1024377d6e0d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#gaa7e498a3d63b13c084f1024377d6e0d3">gnss_reset</a> ()</td></tr>
<tr class="memdesc:gaa7e498a3d63b13c084f1024377d6e0d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a software reset of the TESEO module.  <br /></td></tr>
<tr class="separator:gaa7e498a3d63b13c084f1024377d6e0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa041a08a9551a7f46ff0d67685305f4b"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b">calc_checksum</a> (char *buffer)</td></tr>
<tr class="separator:aa041a08a9551a7f46ff0d67685305f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8601aa8f9a6897039f13bc624b7c8808"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808">hex_checksum</a> (char *out, char *buffer)</td></tr>
<tr class="separator:a8601aa8f9a6897039f13bc624b7c8808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84bcdb32b8164d778407be08b61242ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab">set_checksum</a> (char *buffer, size_t len)</td></tr>
<tr class="separator:a84bcdb32b8164d778407be08b61242ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d52964f8e8c4715d50e41af9d6ba56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#af3d52964f8e8c4715d50e41af9d6ba56">vbuild_nmea</a> (char *out, size_t size, const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd, va_list args)</td></tr>
<tr class="separator:af3d52964f8e8c4715d50e41af9d6ba56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1728a97c61c0b60ae2eaefec878df9eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga1728a97c61c0b60ae2eaefec878df9eb">build_nmea</a> (char *out, size_t size, const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd,...)</td></tr>
<tr class="memdesc:ga1728a97c61c0b60ae2eaefec878df9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a complete, checksummed NMEA sentence in a buffer.  <br /></td></tr>
<tr class="separator:ga1728a97c61c0b60ae2eaefec878df9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48b9b6eecbc038a12467358826e5b040"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040">send_nmea</a> (const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd,...)</td></tr>
<tr class="memdesc:ga48b9b6eecbc038a12467358826e5b040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds and transmits an NMEA sentence via blocking UART.  <br /></td></tr>
<tr class="separator:ga48b9b6eecbc038a12467358826e5b040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga855a05242ace80f3d9c60bfefc0b14cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga855a05242ace80f3d9c60bfefc0b14cd">check_nmea</a> (char *buffer, size_t max_size, const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd)</td></tr>
<tr class="memdesc:ga855a05242ace80f3d9c60bfefc0b14cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates an NMEA sentence string.  <br /></td></tr>
<tr class="separator:ga855a05242ace80f3d9c60bfefc0b14cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35d584d7be6da288869858d83a0bf12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#aa35d584d7be6da288869858d83a0bf12">vparse_nmea</a> (char *buffer, size_t max_size, const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd, va_list out)</td></tr>
<tr class="separator:aa35d584d7be6da288869858d83a0bf12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dc4a3ea3385c516f40e0f7272ed60da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___functions.html#ga6dc4a3ea3385c516f40e0f7272ed60da">parse_nmea</a> (char *buffer, size_t max_size, const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *cmd,...)</td></tr>
<tr class="memdesc:ga6dc4a3ea3385c516f40e0f7272ed60da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the data fields from a validated NMEA sentence.  <br /></td></tr>
<tr class="separator:ga6dc4a3ea3385c516f40e0f7272ed60da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab1497e916f15e7c54ff227a86d5bb4bf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#gab1497e916f15e7c54ff227a86d5bb4bf">PSTMGETSWVER</a> = {&quot;PSTMGETSWVER&quot;, &quot;,%d&quot;}</td></tr>
<tr class="memdesc:gab1497e916f15e7c54ff227a86d5bb4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Get firmware version.  <br /></td></tr>
<tr class="separator:gab1497e916f15e7c54ff227a86d5bb4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64cb8e143b2f58e747ee6eae8df63669"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#ga64cb8e143b2f58e747ee6eae8df63669">PSTMNMEAREQUEST</a> = {&quot;PSTMNMEAREQUEST&quot;, &quot;,%08x,%08x&quot;}</td></tr>
<tr class="memdesc:ga64cb8e143b2f58e747ee6eae8df63669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Request a specific set of NMEA messages.  <br /></td></tr>
<tr class="separator:ga64cb8e143b2f58e747ee6eae8df63669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe1c9bb2ec7185dbdccd0b509a6f3b04"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#gabe1c9bb2ec7185dbdccd0b509a6f3b04">PSTMSETPAR</a> = {&quot;PSTMSETPAR&quot;, &quot;,%d%d,%s&quot;}</td></tr>
<tr class="memdesc:gabe1c9bb2ec7185dbdccd0b509a6f3b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Set a configuration parameter in volatile memory.  <br /></td></tr>
<tr class="separator:gabe1c9bb2ec7185dbdccd0b509a6f3b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea117eaf5a9a66e3690603a2c1d183e8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#gaea117eaf5a9a66e3690603a2c1d183e8">PSTMCFGMSGL</a> = {&quot;PSTMCFGMSGL&quot;, &quot;,%d,%d,%s,%s&quot;}</td></tr>
<tr class="memdesc:gaea117eaf5a9a66e3690603a2c1d183e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Set the message list for a specific interface.  <br /></td></tr>
<tr class="separator:gaea117eaf5a9a66e3690603a2c1d183e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2830f4c8420ed131b1baeb7517b35bdf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#ga2830f4c8420ed131b1baeb7517b35bdf">PSTMSAVEPAR</a> = {&quot;PSTMSAVEPAR&quot;, &quot;&quot;}</td></tr>
<tr class="memdesc:ga2830f4c8420ed131b1baeb7517b35bdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Save configuration parameters to NVM.  <br /></td></tr>
<tr class="separator:ga2830f4c8420ed131b1baeb7517b35bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c44c5214485f83c5fdb2b9471f911c2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#ga2c44c5214485f83c5fdb2b9471f911c2">PSTMSRR</a> = {&quot;PSTMSRR&quot;, &quot;&quot;}</td></tr>
<tr class="memdesc:ga2c44c5214485f83c5fdb2b9471f911c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Perform a software reset of the module.  <br /></td></tr>
<tr class="separator:ga2c44c5214485f83c5fdb2b9471f911c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0766ec1125a572dec82bc27b98ae3a07"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a0766ec1125a572dec82bc27b98ae3a07">PSTMGETAGPSSTATUS</a> = {&quot;PSTMGETAGPSSTATUS&quot;, &quot;&quot;}</td></tr>
<tr class="separator:a0766ec1125a572dec82bc27b98ae3a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8daaa07b4c0a807f4a36a6b8a5c3b1a8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#ga8daaa07b4c0a807f4a36a6b8a5c3b1a8">PSTMSTAGPSONOFF</a> = {&quot;PSTMSTAGPSONOFF&quot;, &quot;,%d&quot;}</td></tr>
<tr class="memdesc:ga8daaa07b4c0a807f4a36a6b8a5c3b1a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command: Set the AGPS mode (on/off).  <br /></td></tr>
<tr class="separator:ga8daaa07b4c0a807f4a36a6b8a5c3b1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3421b9e356a34105e845d6952c9cea6f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a3421b9e356a34105e845d6952c9cea6f">PSTMTPOLONOFFERROR</a> = {&quot;PSTMTPOLONOFFERROR&quot;,&quot;&quot;}</td></tr>
<tr class="separator:a3421b9e356a34105e845d6952c9cea6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7f3faf0da4cb2866f576847c4f6cacc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_m_e_a___commands.html#gad7f3faf0da4cb2866f576847c4f6cacc">PSTMPV</a> = {&quot;PSTMPV&quot;, &quot;,%2d%2d%2d.%3d,%2d%2d.%5d,%c,%3d%2d.%5d,%c,%d.%d,%c,%d.%d,%d.%d,%d.%d&quot;}</td></tr>
<tr class="memdesc:gad7f3faf0da4cb2866f576847c4f6cacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proprietary Position/Velocity data message.  <br /></td></tr>
<tr class="separator:gad7f3faf0da4cb2866f576847c4f6cacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afacc36a9705f358a8983fbb3a9d75787"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#afacc36a9705f358a8983fbb3a9d75787">send_buf</a> [<a class="el" href="group___g_n_s_s___config.html#gafc5d3558e526b75f786f987b0dd6a1a2">NMEA_BUFFER_SIZE</a>]</td></tr>
<tr class="separator:afacc36a9705f358a8983fbb3a9d75787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e110e43f6b488257138df029d542159"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a4e110e43f6b488257138df029d542159">recv_buf</a> [<a class="el" href="group___g_n_s_s___config.html#gaa48bff2026fd10c88dcfe5a622935dd5">DMA_GNSS_BUFFER_SIZE</a>]</td></tr>
<tr class="separator:a4e110e43f6b488257138df029d542159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dc3349128fa3b6706c39eb0b69ffdd5"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#ga2dc3349128fa3b6706c39eb0b69ffdd5">teseo_latitude</a> = 0.0f</td></tr>
<tr class="memdesc:ga2dc3349128fa3b6706c39eb0b69ffdd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest valid latitude in decimal degrees.  <br /></td></tr>
<tr class="separator:ga2dc3349128fa3b6706c39eb0b69ffdd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6823efea177ce8d7067db0c28f2b050b"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#ga6823efea177ce8d7067db0c28f2b050b">teseo_longitude</a> = 0.0f</td></tr>
<tr class="memdesc:ga6823efea177ce8d7067db0c28f2b050b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest valid longitude in decimal degrees.  <br /></td></tr>
<tr class="separator:ga6823efea177ce8d7067db0c28f2b050b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga313d259e093adb7dda6622977bf35cef"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#ga313d259e093adb7dda6622977bf35cef">teseo_velocity_x</a> = 0.0f</td></tr>
<tr class="memdesc:ga313d259e093adb7dda6622977bf35cef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest valid velocity in the North direction (m/s).  <br /></td></tr>
<tr class="separator:ga313d259e093adb7dda6622977bf35cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga072b1c5fa49e2b5b661e5e1ea5c37098"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#ga072b1c5fa49e2b5b661e5e1ea5c37098">teseo_velocity_y</a> = 0.0f</td></tr>
<tr class="memdesc:ga072b1c5fa49e2b5b661e5e1ea5c37098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest valid velocity in the East direction (m/s).  <br /></td></tr>
<tr class="separator:ga072b1c5fa49e2b5b661e5e1ea5c37098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8476b4aab56c756d0f79921b6495c54"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#gad8476b4aab56c756d0f79921b6495c54">teseo_velocity_z</a> = 0.0f</td></tr>
<tr class="memdesc:gad8476b4aab56c756d0f79921b6495c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest valid velocity in the Vertical direction (m/s).  <br /></td></tr>
<tr class="separator:gad8476b4aab56c756d0f79921b6495c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2596ac9337f720eed9ff48019e1244"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a7f2596ac9337f720eed9ff48019e1244">fix_quality</a> = 0.0f</td></tr>
<tr class="separator:a7f2596ac9337f720eed9ff48019e1244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622c79dc1af98ce3c278e66ad174c7a5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#a622c79dc1af98ce3c278e66ad174c7a5">nb_satellites</a> = 0.0f</td></tr>
<tr class="separator:a622c79dc1af98ce3c278e66ad174c7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4424731d215d5d61e03f7a4d5654c94f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s___global___data.html#ga4424731d215d5d61e03f7a4d5654c94f">gps_velocity</a> = 0.0f</td></tr>
<tr class="memdesc:ga4424731d215d5d61e03f7a4d5654c94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated 3D speed magnitude (m/s).  <br /></td></tr>
<tr class="separator:ga4424731d215d5d61e03f7a4d5654c94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ea4f2d770f6e175c94c222b630231a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#ac3ea4f2d770f6e175c94c222b630231a">gps_velocity_last</a> = 0.0f</td></tr>
<tr class="separator:ac3ea4f2d770f6e175c94c222b630231a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b264dab2b3742b0d999e65426a8ed5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnss_8c.html#ac2b264dab2b3742b0d999e65426a8ed5">is_new_velocity_valid</a> = true</td></tr>
<tr class="separator:ac2b264dab2b3742b0d999e65426a8ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa041a08a9551a7f46ff0d67685305f4b" name="aa041a08a9551a7f46ff0d67685305f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa041a08a9551a7f46ff0d67685305f4b">&#9670;&#160;</a></span>calc_checksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char calc_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00332">332</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  332</span>                                 {</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> res = 0; <span class="comment">// 0 ^ A = A</span></div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; buffer[i] != <span class="charliteral">&#39;\0&#39;</span>; i++) {</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">if</span>(buffer[i] == <span class="charliteral">&#39;$&#39;</span>) {</div>
<div class="line"><span class="lineno">  337</span>            res = 0;</div>
<div class="line"><span class="lineno">  338</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  339</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(buffer[i] == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>        res ^= buffer[i];</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  346</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00403">check_nmea()</a>, and <a class="el" href="gnss_8c_source.html#l00348">hex_checksum()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_aa041a08a9551a7f46ff0d67685305f4b_icgraph.png" border="0" usemap="#agnss_8c_aa041a08a9551a7f46ff0d67685305f4b_icgraph" alt=""/></div>
<map name="agnss_8c_aa041a08a9551a7f46ff0d67685305f4b_icgraph" id="agnss_8c_aa041a08a9551a7f46ff0d67685305f4b_icgraph">
<area shape="rect" title=" " alt="" coords="1265,81,1377,108"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga855a05242ace80f3d9c60bfefc0b14cd" title="Validates an NMEA sentence string." alt="" coords="1115,56,1210,83"/>
<area shape="poly" title=" " alt="" coords="1249,86,1210,80,1211,74,1250,81"/>
<area shape="rect" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808" title=" " alt="" coords="1108,107,1217,133"/>
<area shape="poly" title=" " alt="" coords="1250,109,1218,114,1217,109,1249,103"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gad7f7fccc34245a337fa27e66a9d12f7b" title="Main GNSS data processing callback, triggered by UART Idle Line DMA." alt="" coords="627,5,763,32"/>
<area shape="poly" title=" " alt="" coords="1099,55,1059,47,900,29,763,22,764,17,901,24,1060,41,1100,50"/>
<area shape="rect" href="gnss_8c.html#aa35d584d7be6da288869858d83a0bf12" title=" " alt="" coords="957,56,1056,83"/>
<area shape="poly" title=" " alt="" coords="1099,72,1056,72,1056,67,1099,67"/>
<area shape="rect" href="group___system___callbacks.html#ga925534fb8bf7ca464fd05c982fe4bfa0" title="HAL UART Receive Event Callback (Idle Line)." alt="" coords="363,5,579,32"/>
<area shape="poly" title=" " alt="" coords="611,21,579,21,579,16,611,16"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga6dc4a3ea3385c516f40e0f7272ed60da" title="Parses the data fields from a validated NMEA sentence." alt="" coords="812,56,904,83"/>
<area shape="poly" title=" " alt="" coords="941,72,905,72,905,67,941,67"/>
<area shape="poly" title=" " alt="" coords="797,53,740,35,741,30,799,48"/>
<area shape="rect" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab" title=" " alt="" coords="953,107,1060,133"/>
<area shape="poly" title=" " alt="" coords="1092,123,1060,123,1060,117,1092,117"/>
<area shape="rect" href="gnss_8c.html#af3d52964f8e8c4715d50e41af9d6ba56" title=" " alt="" coords="811,107,905,133"/>
<area shape="poly" title=" " alt="" coords="938,123,906,123,906,117,938,117"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga1728a97c61c0b60ae2eaefec878df9eb" title="Builds a complete, checksummed NMEA sentence in a buffer." alt="" coords="651,107,738,133"/>
<area shape="poly" title=" " alt="" coords="796,123,739,123,739,117,796,117"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040" title="Builds and transmits an NMEA sentence via blocking UART." alt="" coords="651,157,739,184"/>
<area shape="poly" title=" " alt="" coords="799,141,740,160,738,155,797,136"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108" title="Configures the TESEO module for high&#45;speed operation and message filtering." alt="" coords="224,157,315,184"/>
<area shape="poly" title=" " alt="" coords="635,153,625,147,610,134,601,120,593,107,577,97,520,77,472,71,423,78,364,97,340,109,317,126,284,159,280,155,314,122,337,105,362,92,422,73,472,66,521,72,580,92,596,103,606,117,614,130,628,143,638,149"/>
<area shape="rect" href="gnss_8c.html#a1de9ff4ab7ecbb994c35a14c7796a439" title=" " alt="" coords="406,107,536,133"/>
<area shape="poly" title=" " alt="" coords="635,160,533,137,534,131,636,155"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gadaed443a9487bcbf23fda98fd7cfd63c" title="Pings the module to check for communication." alt="" coords="431,157,511,184"/>
<area shape="poly" title=" " alt="" coords="635,173,512,173,512,168,635,168"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa7e498a3d63b13c084f1024377d6e0d3" title="Performs a software reset of the TESEO module." alt="" coords="428,208,514,235"/>
<area shape="poly" title=" " alt="" coords="636,186,515,214,514,209,635,181"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga853c438cda78d33b86cf86dc750405ce" title="Saves the current configuration to the TESEO&#39;s non&#45;volatile memory." alt="" coords="429,259,513,285"/>
<area shape="poly" title=" " alt="" coords="666,196,627,224,580,249,547,261,514,268,513,263,545,255,578,244,624,219,663,192"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="103,157,176,184"/>
<area shape="poly" title=" " alt="" coords="209,173,177,173,177,168,209,168"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,157,55,184"/>
<area shape="poly" title=" " alt="" coords="87,173,55,173,55,168,87,168"/>
<area shape="poly" title=" " alt="" coords="395,140,364,148,316,161,315,156,363,143,394,135"/>
<area shape="poly" title=" " alt="" coords="415,173,316,173,316,168,415,168"/>
<area shape="poly" title=" " alt="" coords="412,211,363,199,315,186,316,181,364,193,413,206"/>
<area shape="poly" title=" " alt="" coords="413,266,362,249,316,218,282,186,285,182,319,214,365,244,414,261"/>
</map>
</div>

</div>
</div>
<a id="ab89453539cc5f47df9113a92ca30f747" name="ab89453539cc5f47df9113a92ca30f747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89453539cc5f47df9113a92ca30f747">&#9670;&#160;</a></span>gnss_begin_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gnss_begin_dma </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00324">324</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  324</span>                      {</div>
<div class="line"><span class="lineno">  325</span>    HAL_StatusTypeDef status = HAL_UARTEx_ReceiveToIdle_DMA(&amp;<a class="code hl_variable" href="group___core.html#ga25a82fcf0cd24eb6d39977cb5864cec8">huart5</a>, (uint8_t*) <a class="code hl_variable" href="gnss_8c.html#a4e110e43f6b488257138df029d542159">recv_buf</a>, <a class="code hl_define" href="group___g_n_s_s___config.html#gaa48bff2026fd10c88dcfe5a622935dd5">DMA_GNSS_BUFFER_SIZE</a>);</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span>(status != HAL_OK ) {</div>
<div class="line"><span class="lineno">  327</span>        errno = EIO;</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  329</span>    }</div>
<div class="line"><span class="lineno">  330</span>}</div>
<div class="ttc" id="agnss_8c_html_a4e110e43f6b488257138df029d542159"><div class="ttname"><a href="gnss_8c.html#a4e110e43f6b488257138df029d542159">recv_buf</a></div><div class="ttdeci">char recv_buf[DMA_GNSS_BUFFER_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00036">gnss.c:36</a></div></div>
<div class="ttc" id="agroup___core_html_ga25a82fcf0cd24eb6d39977cb5864cec8"><div class="ttname"><a href="group___core.html#ga25a82fcf0cd24eb6d39977cb5864cec8">huart5</a></div><div class="ttdeci">UART_HandleTypeDef huart5</div><div class="ttdoc">HAL UART handle for UART5 (TESEO GNSS).</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00129">main.c:129</a></div></div>
<div class="ttc" id="agroup___g_n_s_s___config_html_gaa48bff2026fd10c88dcfe5a622935dd5"><div class="ttname"><a href="group___g_n_s_s___config.html#gaa48bff2026fd10c88dcfe5a622935dd5">DMA_GNSS_BUFFER_SIZE</a></div><div class="ttdeci">#define DMA_GNSS_BUFFER_SIZE</div><div class="ttdoc">Size of the DMA circular buffer for incoming GNSS data.</div><div class="ttdef"><b>Definition</b> <a href="gnss_8h_source.html#l00041">gnss.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8h_source.html#l00041">DMA_GNSS_BUFFER_SIZE</a>, <a class="el" href="main_8c_source.html#l00129">huart5</a>, and <a class="el" href="gnss_8c_source.html#l00036">recv_buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00052">gnss_dma_handling()</a>, and <a class="el" href="gnss_8c_source.html#l00297">gnss_init()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_ab89453539cc5f47df9113a92ca30f747_icgraph.png" border="0" usemap="#agnss_8c_ab89453539cc5f47df9113a92ca30f747_icgraph" alt=""/></div>
<map name="agnss_8c_ab89453539cc5f47df9113a92ca30f747_icgraph" id="agnss_8c_ab89453539cc5f47df9113a92ca30f747_icgraph">
<area shape="rect" title=" " alt="" coords="453,31,572,57"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gad7f7fccc34245a337fa27e66a9d12f7b" title="Main GNSS data processing callback, triggered by UART Idle Line DMA." alt="" coords="269,5,405,32"/>
<area shape="poly" title=" " alt="" coords="437,36,405,31,405,26,438,31"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="300,56,374,83"/>
<area shape="poly" title=" " alt="" coords="438,57,374,67,374,61,437,52"/>
<area shape="rect" href="group___system___callbacks.html#ga925534fb8bf7ca464fd05c982fe4bfa0" title="HAL UART Receive Event Callback (Idle Line)." alt="" coords="5,5,221,32"/>
<area shape="poly" title=" " alt="" coords="253,21,221,21,221,16,253,16"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="88,56,138,83"/>
<area shape="poly" title=" " alt="" coords="285,72,138,72,138,67,285,67"/>
</map>
</div>

</div>
</div>
<a id="a1de9ff4ab7ecbb994c35a14c7796a439" name="a1de9ff4ab7ecbb994c35a14c7796a439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de9ff4ab7ecbb994c35a14c7796a439">&#9670;&#160;</a></span>gnss_enable_agps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gnss_enable_agps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00174">174</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>                        {</div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040">send_nmea</a>(&amp;<a class="code hl_variable" href="group___n_m_e_a___commands.html#ga8daaa07b4c0a807f4a36a6b8a5c3b1a8">PSTMSTAGPSONOFF</a>, 1)) {</div>
<div class="line"><span class="lineno">  176</span>        <span class="comment">// check errno for error type</span></div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  178</span>    }</div>
<div class="line"><span class="lineno">  179</span>}</div>
<div class="ttc" id="agroup___g_n_s_s___functions_html_ga48b9b6eecbc038a12467358826e5b040"><div class="ttname"><a href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040">send_nmea</a></div><div class="ttdeci">int send_nmea(const NMEA_CMD *cmd,...)</div><div class="ttdoc">Builds and transmits an NMEA sentence via blocking UART.</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00385">gnss.c:385</a></div></div>
<div class="ttc" id="agroup___n_m_e_a___commands_html_ga8daaa07b4c0a807f4a36a6b8a5c3b1a8"><div class="ttname"><a href="group___n_m_e_a___commands.html#ga8daaa07b4c0a807f4a36a6b8a5c3b1a8">PSTMSTAGPSONOFF</a></div><div class="ttdeci">const NMEA_CMD PSTMSTAGPSONOFF</div><div class="ttdoc">Command: Set the AGPS mode (on/off).</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00029">gnss.c:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8c_source.html#l00029">PSTMSTAGPSONOFF</a>, and <a class="el" href="gnss_8c_source.html#l00385">send_nmea()</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00192">gnss_config()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_cgraph.png" border="0" usemap="#agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_cgraph" alt=""/></div>
<map name="agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_cgraph" id="agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,135,32"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040" title="Builds and transmits an NMEA sentence via blocking UART." alt="" coords="183,5,271,32"/>
<area shape="poly" title=" " alt="" coords="135,16,167,16,167,21,135,21"/>
<area shape="rect" href="gnss_8c.html#af3d52964f8e8c4715d50e41af9d6ba56" title=" " alt="" coords="319,5,413,32"/>
<area shape="poly" title=" " alt="" coords="271,16,304,16,304,21,271,21"/>
<area shape="rect" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab" title=" " alt="" coords="461,5,568,32"/>
<area shape="poly" title=" " alt="" coords="414,16,446,16,446,21,414,21"/>
<area shape="rect" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808" title=" " alt="" coords="616,5,725,32"/>
<area shape="poly" title=" " alt="" coords="568,16,600,16,600,21,568,21"/>
<area shape="rect" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b" title=" " alt="" coords="773,5,885,32"/>
<area shape="poly" title=" " alt="" coords="725,16,757,16,757,21,725,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_icgraph.png" border="0" usemap="#agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_icgraph" alt=""/></div>
<map name="agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_icgraph" id="agnss_8c_a1de9ff4ab7ecbb994c35a14c7796a439_icgraph">
<area shape="rect" title=" " alt="" coords="363,5,493,32"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108" title="Configures the TESEO module for high&#45;speed operation and message filtering." alt="" coords="224,5,315,32"/>
<area shape="poly" title=" " alt="" coords="348,21,316,21,316,16,348,16"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="103,5,176,32"/>
<area shape="poly" title=" " alt="" coords="209,21,177,21,177,16,209,16"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a8601aa8f9a6897039f13bc624b7c8808" name="a8601aa8f9a6897039f13bc624b7c8808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8601aa8f9a6897039f13bc624b7c8808">&#9670;&#160;</a></span>hex_checksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hex_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00348">348</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  348</span>                                           {</div>
<div class="line"><span class="lineno">  349</span>    sprintf(out, <span class="stringliteral">&quot;%.2x&quot;</span>, <a class="code hl_function" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b">calc_checksum</a>(buffer));</div>
<div class="line"><span class="lineno">  350</span>}</div>
<div class="ttc" id="agnss_8c_html_aa041a08a9551a7f46ff0d67685305f4b"><div class="ttname"><a href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b">calc_checksum</a></div><div class="ttdeci">char calc_checksum(char *buffer)</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00332">gnss.c:332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8c_source.html#l00332">calc_checksum()</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00352">set_checksum()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a8601aa8f9a6897039f13bc624b7c8808_cgraph.png" border="0" usemap="#agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_cgraph" alt=""/></div>
<map name="agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_cgraph" id="agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,115,32"/>
<area shape="rect" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b" title=" " alt="" coords="163,5,275,32"/>
<area shape="poly" title=" " alt="" coords="115,16,147,16,147,21,115,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a8601aa8f9a6897039f13bc624b7c8808_icgraph.png" border="0" usemap="#agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_icgraph" alt=""/></div>
<map name="agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_icgraph" id="agnss_8c_a8601aa8f9a6897039f13bc624b7c8808_icgraph">
<area shape="rect" title=" " alt="" coords="974,59,1083,85"/>
<area shape="rect" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab" title=" " alt="" coords="819,59,926,85"/>
<area shape="poly" title=" " alt="" coords="958,75,926,75,926,69,958,69"/>
<area shape="rect" href="gnss_8c.html#af3d52964f8e8c4715d50e41af9d6ba56" title=" " alt="" coords="677,59,771,85"/>
<area shape="poly" title=" " alt="" coords="804,75,772,75,772,69,804,69"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga1728a97c61c0b60ae2eaefec878df9eb" title="Builds a complete, checksummed NMEA sentence in a buffer." alt="" coords="541,33,628,60"/>
<area shape="poly" title=" " alt="" coords="661,63,629,57,630,52,662,58"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040" title="Builds and transmits an NMEA sentence via blocking UART." alt="" coords="541,84,629,111"/>
<area shape="poly" title=" " alt="" coords="662,86,630,92,629,87,661,81"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108" title="Configures the TESEO module for high&#45;speed operation and message filtering." alt="" coords="224,84,315,111"/>
<area shape="poly" title=" " alt="" coords="543,77,539,74,525,59,516,46,507,34,491,24,457,12,429,8,400,13,364,24,340,36,317,52,284,86,280,82,314,48,337,32,362,19,398,7,428,3,458,6,494,19,511,30,520,42,529,56,542,70,546,73"/>
<area shape="rect" href="gnss_8c.html#a1de9ff4ab7ecbb994c35a14c7796a439" title=" " alt="" coords="363,33,493,60"/>
<area shape="poly" title=" " alt="" coords="526,81,471,63,473,58,528,76"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gadaed443a9487bcbf23fda98fd7cfd63c" title="Pings the module to check for communication." alt="" coords="388,84,468,111"/>
<area shape="poly" title=" " alt="" coords="525,100,469,100,469,95,525,95"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa7e498a3d63b13c084f1024377d6e0d3" title="Performs a software reset of the TESEO module." alt="" coords="385,135,471,161"/>
<area shape="poly" title=" " alt="" coords="528,119,472,137,470,132,526,113"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga853c438cda78d33b86cf86dc750405ce" title="Saves the current configuration to the TESEO&#39;s non&#45;volatile memory." alt="" coords="386,185,470,212"/>
<area shape="poly" title=" " alt="" coords="561,124,530,150,494,176,471,187,469,182,491,171,527,146,557,120"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="103,84,176,111"/>
<area shape="poly" title=" " alt="" coords="209,100,177,100,177,95,209,95"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,84,55,111"/>
<area shape="poly" title=" " alt="" coords="87,100,55,100,55,95,87,95"/>
<area shape="poly" title=" " alt="" coords="370,68,315,86,313,81,369,63"/>
<area shape="poly" title=" " alt="" coords="372,100,316,100,316,95,372,95"/>
<area shape="poly" title=" " alt="" coords="370,132,313,114,315,109,371,127"/>
<area shape="poly" title=" " alt="" coords="371,181,362,176,318,144,283,113,287,109,321,140,365,171,374,176"/>
</map>
</div>

</div>
</div>
<a id="a84bcdb32b8164d778407be08b61242ab" name="a84bcdb32b8164d778407be08b61242ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84bcdb32b8164d778407be08b61242ab">&#9670;&#160;</a></span>set_checksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00352">352</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  352</span>                                            {</div>
<div class="line"><span class="lineno">  353</span>    <a class="code hl_function" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808">hex_checksum</a>(&amp;buffer[len - 4], buffer);</div>
<div class="line"><span class="lineno">  354</span>    buffer[len - 2] = <span class="charliteral">&#39;\r&#39;</span>; <span class="comment">// remove \0 terminator added by hex_checksum</span></div>
<div class="line"><span class="lineno">  355</span>}</div>
<div class="ttc" id="agnss_8c_html_a8601aa8f9a6897039f13bc624b7c8808"><div class="ttname"><a href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808">hex_checksum</a></div><div class="ttdeci">void hex_checksum(char *out, char *buffer)</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00348">gnss.c:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8c_source.html#l00348">hex_checksum()</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00357">vbuild_nmea()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a84bcdb32b8164d778407be08b61242ab_cgraph.png" border="0" usemap="#agnss_8c_a84bcdb32b8164d778407be08b61242ab_cgraph" alt=""/></div>
<map name="agnss_8c_a84bcdb32b8164d778407be08b61242ab_cgraph" id="agnss_8c_a84bcdb32b8164d778407be08b61242ab_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,112,32"/>
<area shape="rect" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808" title=" " alt="" coords="160,5,269,32"/>
<area shape="poly" title=" " alt="" coords="112,16,144,16,144,21,112,21"/>
<area shape="rect" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b" title=" " alt="" coords="317,5,429,32"/>
<area shape="poly" title=" " alt="" coords="269,16,301,16,301,21,269,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_a84bcdb32b8164d778407be08b61242ab_icgraph.png" border="0" usemap="#agnss_8c_a84bcdb32b8164d778407be08b61242ab_icgraph" alt=""/></div>
<map name="agnss_8c_a84bcdb32b8164d778407be08b61242ab_icgraph" id="agnss_8c_a84bcdb32b8164d778407be08b61242ab_icgraph">
<area shape="rect" title=" " alt="" coords="819,59,926,85"/>
<area shape="rect" href="gnss_8c.html#af3d52964f8e8c4715d50e41af9d6ba56" title=" " alt="" coords="677,59,771,85"/>
<area shape="poly" title=" " alt="" coords="804,75,772,75,772,69,804,69"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga1728a97c61c0b60ae2eaefec878df9eb" title="Builds a complete, checksummed NMEA sentence in a buffer." alt="" coords="541,33,628,60"/>
<area shape="poly" title=" " alt="" coords="661,63,629,57,630,52,662,58"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040" title="Builds and transmits an NMEA sentence via blocking UART." alt="" coords="541,84,629,111"/>
<area shape="poly" title=" " alt="" coords="662,86,630,92,629,87,661,81"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108" title="Configures the TESEO module for high&#45;speed operation and message filtering." alt="" coords="224,84,315,111"/>
<area shape="poly" title=" " alt="" coords="543,77,539,74,525,59,516,46,507,34,491,24,457,12,429,8,400,13,364,24,340,36,317,52,284,86,280,82,314,48,337,32,362,19,398,7,428,3,458,6,494,19,511,30,520,42,529,56,542,70,546,73"/>
<area shape="rect" href="gnss_8c.html#a1de9ff4ab7ecbb994c35a14c7796a439" title=" " alt="" coords="363,33,493,60"/>
<area shape="poly" title=" " alt="" coords="526,81,471,63,473,58,528,76"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gadaed443a9487bcbf23fda98fd7cfd63c" title="Pings the module to check for communication." alt="" coords="388,84,468,111"/>
<area shape="poly" title=" " alt="" coords="525,100,469,100,469,95,525,95"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa7e498a3d63b13c084f1024377d6e0d3" title="Performs a software reset of the TESEO module." alt="" coords="385,135,471,161"/>
<area shape="poly" title=" " alt="" coords="528,119,472,137,470,132,526,113"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga853c438cda78d33b86cf86dc750405ce" title="Saves the current configuration to the TESEO&#39;s non&#45;volatile memory." alt="" coords="386,185,470,212"/>
<area shape="poly" title=" " alt="" coords="561,124,530,150,494,176,471,187,469,182,491,171,527,146,557,120"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="103,84,176,111"/>
<area shape="poly" title=" " alt="" coords="209,100,177,100,177,95,209,95"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,84,55,111"/>
<area shape="poly" title=" " alt="" coords="87,100,55,100,55,95,87,95"/>
<area shape="poly" title=" " alt="" coords="370,68,315,86,313,81,369,63"/>
<area shape="poly" title=" " alt="" coords="372,100,316,100,316,95,372,95"/>
<area shape="poly" title=" " alt="" coords="370,132,313,114,315,109,371,127"/>
<area shape="poly" title=" " alt="" coords="371,181,362,176,318,144,283,113,287,109,321,140,365,171,374,176"/>
</map>
</div>

</div>
</div>
<a id="af3d52964f8e8c4715d50e41af9d6ba56" name="af3d52964f8e8c4715d50e41af9d6ba56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d52964f8e8c4715d50e41af9d6ba56">&#9670;&#160;</a></span>vbuild_nmea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vbuild_nmea </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00357">357</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  357</span>                                                                           {</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordtype">int</span> pos = 0;</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span>((pos += snprintf(out + pos, size - pos, <span class="stringliteral">&quot;$%s&quot;</span>, cmd-&gt;<a class="code hl_variable" href="struct_n_m_e_a___c_m_d.html#ac3ccc99e08ccb1ac4d235063dcfeb898">name</a>)) &gt;= size)</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">return</span> pos;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">if</span>((pos += vsnprintf(out + pos, size - pos, cmd-&gt;<a class="code hl_variable" href="struct_n_m_e_a___c_m_d.html#a48da8c26d0e243d6c0bc9e7a00571c30">format</a>, args)) &gt;= size)</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">return</span> pos;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">if</span>((pos += snprintf(out + pos, size - pos, <span class="stringliteral">&quot;*FF\r\n&quot;</span>)) &gt;= size)</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">return</span> pos;</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_function" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab">set_checksum</a>(out, pos);</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">return</span> pos;</div>
<div class="line"><span class="lineno">  372</span>}</div>
<div class="ttc" id="agnss_8c_html_a84bcdb32b8164d778407be08b61242ab"><div class="ttname"><a href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab">set_checksum</a></div><div class="ttdeci">void set_checksum(char *buffer, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00352">gnss.c:352</a></div></div>
<div class="ttc" id="astruct_n_m_e_a___c_m_d_html_a48da8c26d0e243d6c0bc9e7a00571c30"><div class="ttname"><a href="struct_n_m_e_a___c_m_d.html#a48da8c26d0e243d6c0bc9e7a00571c30">NMEA_CMD::format</a></div><div class="ttdeci">char * format</div><div class="ttdoc">printf-style format string for the command's arguments.</div><div class="ttdef"><b>Definition</b> <a href="gnss_8h_source.html#l00081">gnss.h:81</a></div></div>
<div class="ttc" id="astruct_n_m_e_a___c_m_d_html_ac3ccc99e08ccb1ac4d235063dcfeb898"><div class="ttname"><a href="struct_n_m_e_a___c_m_d.html#ac3ccc99e08ccb1ac4d235063dcfeb898">NMEA_CMD::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">The command name (e.g., &quot;PSTMGETSWVER&quot;).</div><div class="ttdef"><b>Definition</b> <a href="gnss_8h_source.html#l00080">gnss.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8h_source.html#l00081">NMEA_CMD::format</a>, <a class="el" href="gnss_8h_source.html#l00080">NMEA_CMD::name</a>, and <a class="el" href="gnss_8c_source.html#l00352">set_checksum()</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00374">build_nmea()</a>, and <a class="el" href="gnss_8c_source.html#l00385">send_nmea()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_cgraph.png" border="0" usemap="#agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_cgraph" alt=""/></div>
<map name="agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_cgraph" id="agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,100,32"/>
<area shape="rect" href="gnss_8c.html#a84bcdb32b8164d778407be08b61242ab" title=" " alt="" coords="148,5,254,32"/>
<area shape="poly" title=" " alt="" coords="100,16,132,16,132,21,100,21"/>
<area shape="rect" href="gnss_8c.html#a8601aa8f9a6897039f13bc624b7c8808" title=" " alt="" coords="302,5,411,32"/>
<area shape="poly" title=" " alt="" coords="254,16,287,16,287,21,254,21"/>
<area shape="rect" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b" title=" " alt="" coords="459,5,572,32"/>
<area shape="poly" title=" " alt="" coords="412,16,443,16,443,21,412,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_icgraph.png" border="0" usemap="#agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_icgraph" alt=""/></div>
<map name="agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_icgraph" id="agnss_8c_af3d52964f8e8c4715d50e41af9d6ba56_icgraph">
<area shape="rect" title=" " alt="" coords="677,59,771,85"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga1728a97c61c0b60ae2eaefec878df9eb" title="Builds a complete, checksummed NMEA sentence in a buffer." alt="" coords="541,33,628,60"/>
<area shape="poly" title=" " alt="" coords="661,63,629,57,630,52,662,58"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga48b9b6eecbc038a12467358826e5b040" title="Builds and transmits an NMEA sentence via blocking UART." alt="" coords="541,84,629,111"/>
<area shape="poly" title=" " alt="" coords="662,86,630,92,629,87,661,81"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga2ddbfdecbb4719f3d34c9dc23b2ae108" title="Configures the TESEO module for high&#45;speed operation and message filtering." alt="" coords="224,84,315,111"/>
<area shape="poly" title=" " alt="" coords="543,77,539,74,525,59,516,46,507,34,491,24,457,12,429,8,400,13,364,24,340,36,317,52,284,86,280,82,314,48,337,32,362,19,398,7,428,3,458,6,494,19,511,30,520,42,529,56,542,70,546,73"/>
<area shape="rect" href="gnss_8c.html#a1de9ff4ab7ecbb994c35a14c7796a439" title=" " alt="" coords="363,33,493,60"/>
<area shape="poly" title=" " alt="" coords="526,81,471,63,473,58,528,76"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gadaed443a9487bcbf23fda98fd7cfd63c" title="Pings the module to check for communication." alt="" coords="388,84,468,111"/>
<area shape="poly" title=" " alt="" coords="525,100,469,100,469,95,525,95"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa7e498a3d63b13c084f1024377d6e0d3" title="Performs a software reset of the TESEO module." alt="" coords="385,135,471,161"/>
<area shape="poly" title=" " alt="" coords="528,119,472,137,470,132,526,113"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga853c438cda78d33b86cf86dc750405ce" title="Saves the current configuration to the TESEO&#39;s non&#45;volatile memory." alt="" coords="386,185,470,212"/>
<area shape="poly" title=" " alt="" coords="561,124,530,150,494,176,471,187,469,182,491,171,527,146,557,120"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gaa07776446f0638e6040950c11aed993f" title="Initializes the GNSS module." alt="" coords="103,84,176,111"/>
<area shape="poly" title=" " alt="" coords="209,100,177,100,177,95,209,95"/>
<area shape="rect" href="group___core.html#ga840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,84,55,111"/>
<area shape="poly" title=" " alt="" coords="87,100,55,100,55,95,87,95"/>
<area shape="poly" title=" " alt="" coords="370,68,315,86,313,81,369,63"/>
<area shape="poly" title=" " alt="" coords="372,100,316,100,316,95,372,95"/>
<area shape="poly" title=" " alt="" coords="370,132,313,114,315,109,371,127"/>
<area shape="poly" title=" " alt="" coords="371,181,362,176,318,144,283,113,287,109,321,140,365,171,374,176"/>
</map>
</div>

</div>
</div>
<a id="aa35d584d7be6da288869858d83a0bf12" name="aa35d584d7be6da288869858d83a0bf12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35d584d7be6da288869858d83a0bf12">&#9670;&#160;</a></span>vparse_nmea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vparse_nmea </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00436">436</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  436</span>                                                                                 {</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordflow">if</span>((res = <a class="code hl_function" href="group___g_n_s_s___functions.html#ga855a05242ace80f3d9c60bfefc0b14cd">check_nmea</a>(buffer, max_size, cmd)) != <a class="code hl_define" href="group___n_m_e_a___parser___codes.html#ga8fbd3e4e7339345a9939a70d5b861c66">NMEA_VALID</a>)</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">return</span> vsscanf(buffer + 1 + strlen(cmd-&gt;<a class="code hl_variable" href="struct_n_m_e_a___c_m_d.html#ac3ccc99e08ccb1ac4d235063dcfeb898">name</a>), cmd-&gt;<a class="code hl_variable" href="struct_n_m_e_a___c_m_d.html#a48da8c26d0e243d6c0bc9e7a00571c30">format</a>, out);</div>
<div class="line"><span class="lineno">  443</span>}</div>
<div class="ttc" id="agroup___g_n_s_s___functions_html_ga855a05242ace80f3d9c60bfefc0b14cd"><div class="ttname"><a href="group___g_n_s_s___functions.html#ga855a05242ace80f3d9c60bfefc0b14cd">check_nmea</a></div><div class="ttdeci">int check_nmea(char *buffer, size_t max_size, const NMEA_CMD *cmd)</div><div class="ttdoc">Validates an NMEA sentence string.</div><div class="ttdef"><b>Definition</b> <a href="gnss_8c_source.html#l00403">gnss.c:403</a></div></div>
<div class="ttc" id="agroup___n_m_e_a___parser___codes_html_ga8fbd3e4e7339345a9939a70d5b861c66"><div class="ttname"><a href="group___n_m_e_a___parser___codes.html#ga8fbd3e4e7339345a9939a70d5b861c66">NMEA_VALID</a></div><div class="ttdeci">#define NMEA_VALID</div><div class="ttdoc">NMEA message is valid.</div><div class="ttdef"><b>Definition</b> <a href="gnss_8h_source.html#l00053">gnss.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gnss_8c_source.html#l00403">check_nmea()</a>, <a class="el" href="gnss_8h_source.html#l00081">NMEA_CMD::format</a>, <a class="el" href="gnss_8h_source.html#l00080">NMEA_CMD::name</a>, and <a class="el" href="gnss_8h_source.html#l00053">NMEA_VALID</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00445">parse_nmea()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_aa35d584d7be6da288869858d83a0bf12_cgraph.png" border="0" usemap="#agnss_8c_aa35d584d7be6da288869858d83a0bf12_cgraph" alt=""/></div>
<map name="agnss_8c_aa35d584d7be6da288869858d83a0bf12_cgraph" id="agnss_8c_aa35d584d7be6da288869858d83a0bf12_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,105,32"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga855a05242ace80f3d9c60bfefc0b14cd" title="Validates an NMEA sentence string." alt="" coords="153,5,248,32"/>
<area shape="poly" title=" " alt="" coords="105,16,137,16,137,21,105,21"/>
<area shape="rect" href="gnss_8c.html#aa041a08a9551a7f46ff0d67685305f4b" title=" " alt="" coords="296,5,408,32"/>
<area shape="poly" title=" " alt="" coords="248,16,281,16,281,21,248,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gnss_8c_aa35d584d7be6da288869858d83a0bf12_icgraph.png" border="0" usemap="#agnss_8c_aa35d584d7be6da288869858d83a0bf12_icgraph" alt=""/></div>
<map name="agnss_8c_aa35d584d7be6da288869858d83a0bf12_icgraph" id="agnss_8c_aa35d584d7be6da288869858d83a0bf12_icgraph">
<area shape="rect" title=" " alt="" coords="593,5,693,32"/>
<area shape="rect" href="group___g_n_s_s___functions.html#ga6dc4a3ea3385c516f40e0f7272ed60da" title="Parses the data fields from a validated NMEA sentence." alt="" coords="453,5,545,32"/>
<area shape="poly" title=" " alt="" coords="578,21,546,21,546,16,578,16"/>
<area shape="rect" href="group___g_n_s_s___functions.html#gad7f7fccc34245a337fa27e66a9d12f7b" title="Main GNSS data processing callback, triggered by UART Idle Line DMA." alt="" coords="269,5,405,32"/>
<area shape="poly" title=" " alt="" coords="437,21,405,21,405,16,437,16"/>
<area shape="rect" href="group___system___callbacks.html#ga925534fb8bf7ca464fd05c982fe4bfa0" title="HAL UART Receive Event Callback (Idle Line)." alt="" coords="5,5,221,32"/>
<area shape="poly" title=" " alt="" coords="253,21,221,21,221,16,253,16"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7f2596ac9337f720eed9ff48019e1244" name="a7f2596ac9337f720eed9ff48019e1244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2596ac9337f720eed9ff48019e1244">&#9670;&#160;</a></span>fix_quality</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float fix_quality = 0.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00043">43</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00052">gnss_dma_handling()</a>.</p>

</div>
</div>
<a id="ac3ea4f2d770f6e175c94c222b630231a" name="ac3ea4f2d770f6e175c94c222b630231a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ea4f2d770f6e175c94c222b630231a">&#9670;&#160;</a></span>gps_velocity_last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gps_velocity_last = 0.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00047">47</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

</div>
</div>
<a id="ac2b264dab2b3742b0d999e65426a8ed5" name="ac2b264dab2b3742b0d999e65426a8ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b264dab2b3742b0d999e65426a8ed5">&#9670;&#160;</a></span>is_new_velocity_valid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_new_velocity_valid = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00048">48</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

</div>
</div>
<a id="a622c79dc1af98ce3c278e66ad174c7a5" name="a622c79dc1af98ce3c278e66ad174c7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622c79dc1af98ce3c278e66ad174c7a5">&#9670;&#160;</a></span>nb_satellites</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float nb_satellites = 0.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00044">44</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00052">gnss_dma_handling()</a>.</p>

</div>
</div>
<a id="a0766ec1125a572dec82bc27b98ae3a07" name="a0766ec1125a572dec82bc27b98ae3a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0766ec1125a572dec82bc27b98ae3a07">&#9670;&#160;</a></span>PSTMGETAGPSSTATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> PSTMGETAGPSSTATUS = {&quot;PSTMGETAGPSSTATUS&quot;, &quot;&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00027">27</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

</div>
</div>
<a id="a3421b9e356a34105e845d6952c9cea6f" name="a3421b9e356a34105e845d6952c9cea6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3421b9e356a34105e845d6952c9cea6f">&#9670;&#160;</a></span>PSTMTPOLONOFFERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_n_m_e_a___c_m_d.html">NMEA_CMD</a> PSTMTPOLONOFFERROR = {&quot;PSTMTPOLONOFFERROR&quot;,&quot;&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00031">31</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

</div>
</div>
<a id="a4e110e43f6b488257138df029d542159" name="a4e110e43f6b488257138df029d542159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e110e43f6b488257138df029d542159">&#9670;&#160;</a></span>recv_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char recv_buf[<a class="el" href="group___g_n_s_s___config.html#gaa48bff2026fd10c88dcfe5a622935dd5">DMA_GNSS_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00036">36</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00324">gnss_begin_dma()</a>, <a class="el" href="gnss_8c_source.html#l00192">gnss_config()</a>, <a class="el" href="gnss_8c_source.html#l00052">gnss_dma_handling()</a>, and <a class="el" href="gnss_8c_source.html#l00297">gnss_init()</a>.</p>

</div>
</div>
<a id="afacc36a9705f358a8983fbb3a9d75787" name="afacc36a9705f358a8983fbb3a9d75787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afacc36a9705f358a8983fbb3a9d75787">&#9670;&#160;</a></span>send_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char send_buf[<a class="el" href="group___g_n_s_s___config.html#gafc5d3558e526b75f786f987b0dd6a1a2">NMEA_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gnss_8c_source.html#l00035">35</a> of file <a class="el" href="gnss_8c_source.html">gnss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="gnss_8c_source.html#l00192">gnss_config()</a>, <a class="el" href="gnss_8c_source.html#l00297">gnss_init()</a>, and <a class="el" href="gnss_8c_source.html#l00385">send_nmea()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_b596f468b52957496e4f78b80e029268.html">Src</a></li><li class="navelem"><a class="el" href="gnss_8c.html">gnss.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
