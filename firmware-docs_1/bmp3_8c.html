<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Da Vinci Firmware: Davinci_2/Core/Src/bmp3.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PRT-logo-horizontal-dark-resized.png"/></td>
  <td id="projectalign">
   <div id="projectname">Da Vinci Firmware<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Firmware for the DaVinci-M rocket avionics board.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bmp3_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bmp3.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Sensor driver for BMP3 sensor.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bmp3_8h_source.html">bmp3.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bmp3.c:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c__incl.png" border="0" usemap="#a_davinci__2_2_core_2_src_2bmp3_8c" alt=""/></div>
<map name="a_davinci__2_2_core_2_src_2bmp3_8c" id="a_davinci__2_2_core_2_src_2bmp3_8c">
<area shape="rect" title="Sensor driver for BMP3 sensor." alt="" coords="15,5,150,48"/>
<area shape="rect" href="bmp3_8h.html" title=" " alt="" coords="51,96,115,123"/>
<area shape="poly" title=" " alt="" coords="86,49,86,80,80,80,80,49"/>
<area shape="rect" href="bmp3__defs_8h.html" title="Sensor driver for BMP3 sensor." alt="" coords="35,171,131,197"/>
<area shape="poly" title=" " alt="" coords="86,123,86,155,80,155,80,123"/>
<area shape="rect" title=" " alt="" coords="5,245,70,272"/>
<area shape="poly" title=" " alt="" coords="77,199,56,233,51,231,73,196"/>
<area shape="rect" title=" " alt="" coords="94,245,162,272"/>
<area shape="poly" title=" " alt="" coords="93,196,114,231,110,233,88,199"/>
</map>
</div>
</div>
<p><a href="bmp3_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a455d1f37d94acad6b4031ca0b3044491"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491">get_calib_data</a> (struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a455d1f37d94acad6b4031ca0b3044491"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API reads the calibration data from the sensor, parse it then compensates it and store in the device structure.  <br /></td></tr>
<tr class="separator:a455d1f37d94acad6b4031ca0b3044491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9dab11b748936abcec7b712d721ca6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a1a9dab11b748936abcec7b712d721ca6">parse_calib_data</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a1a9dab11b748936abcec7b712d721ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to parse the calibration data, compensates it and store it in device structure.  <br /></td></tr>
<tr class="separator:a1a9dab11b748936abcec7b712d721ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ab3e6c4219db46f80e0d0789fbaafb"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb">get_odr_filter_settings</a> (struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a48ab3e6c4219db46f80e0d0789fbaafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API gets the over sampling, ODR and filter settings from the sensor.  <br /></td></tr>
<tr class="separator:a48ab3e6c4219db46f80e0d0789fbaafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20da06fe77b3d93f19a83f6a0cd59b48"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a20da06fe77b3d93f19a83f6a0cd59b48">parse_sensor_data</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *uncomp_data)</td></tr>
<tr class="memdesc:a20da06fe77b3d93f19a83f6a0cd59b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to parse the pressure and temperature data and store it in the <a class="el" href="structbmp3__uncomp__data.html" title="bmp3 sensor structure which comprises of un-compensated temperature and pressure data.">bmp3_uncomp_data</a> structure instance.  <br /></td></tr>
<tr class="separator:a20da06fe77b3d93f19a83f6a0cd59b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a344fb812afdfe92d84ad51ddd84faa"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa">compensate_data</a> (uint8_t sensor_comp, const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *uncomp_data, struct <a class="el" href="structbmp3__data.html">bmp3_data</a> *comp_data, struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *calib_data)</td></tr>
<tr class="memdesc:a6a344fb812afdfe92d84ad51ddd84faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to compensate the pressure or temperature or both the data according to the component selected by the user.  <br /></td></tr>
<tr class="separator:a6a344fb812afdfe92d84ad51ddd84faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a9c7724c9fa2b33cd588814062cfaf"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf">compensate_temperature</a> (int64_t *temperature, const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *uncomp_data, struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *calib_data)</td></tr>
<tr class="memdesc:a94a9c7724c9fa2b33cd588814062cfaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to compensate the raw temperature data and return the compensated temperature data in integer data type.  <br /></td></tr>
<tr class="separator:a94a9c7724c9fa2b33cd588814062cfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc99f8ae95747be9edb8c36404e662f"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f">compensate_pressure</a> (uint64_t *pressure, const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *uncomp_data, const struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *calib_data)</td></tr>
<tr class="memdesc:a5bc99f8ae95747be9edb8c36404e662f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to compensate the pressure data and return the compensated pressure data in integer data type.  <br /></td></tr>
<tr class="separator:a5bc99f8ae95747be9edb8c36404e662f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad90cd219d0ff052e613f123f25a79e3"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3">pow_bmp3</a> (uint8_t base, uint8_t power)</td></tr>
<tr class="memdesc:aad90cd219d0ff052e613f123f25a79e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to calculate the power functionality.  <br /></td></tr>
<tr class="separator:aad90cd219d0ff052e613f123f25a79e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56ad91f72c293cfac24a7ec7c944e87"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a> (uint32_t sub_settings, uint32_t settings)</td></tr>
<tr class="memdesc:aa56ad91f72c293cfac24a7ec7c944e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to identify the settings which the user wants to modify in the sensor.  <br /></td></tr>
<tr class="separator:aa56ad91f72c293cfac24a7ec7c944e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c65995726d3062cf7e5659cbdc3472"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472">interleave_reg_addr</a> (const uint8_t *reg_addr, uint8_t *temp_buff, const uint8_t *reg_data, uint32_t len)</td></tr>
<tr class="memdesc:aa5c65995726d3062cf7e5659cbdc3472"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API interleaves the register address between the register data buffer for burst write operation.  <br /></td></tr>
<tr class="separator:aa5c65995726d3062cf7e5659cbdc3472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b42270b60c1b36ff881d3752ae477ec"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec">set_pwr_ctrl_settings</a> (uint32_t desired_settings, const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a0b42270b60c1b36ff881d3752ae477ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API sets the pressure enable and temperature enable settings of the sensor.  <br /></td></tr>
<tr class="separator:a0b42270b60c1b36ff881d3752ae477ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb43446db76a5e581b68fb613c129de3"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3">set_odr_filter_settings</a> (uint32_t desired_settings, struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:acb43446db76a5e581b68fb613c129de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings selected by the user.  <br /></td></tr>
<tr class="separator:acb43446db76a5e581b68fb613c129de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab139240281afcb1f040efb009f945a48"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48">set_int_ctrl_settings</a> (uint32_t desired_settings, const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:ab139240281afcb1f040efb009f945a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API sets the interrupt control (output mode, level, latch and data ready) settings of the sensor based on the settings selected by the user.  <br /></td></tr>
<tr class="separator:ab139240281afcb1f040efb009f945a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a072e5dd96a990f200b803e2171b9683a"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a">set_advance_settings</a> (uint32_t desired_settings, const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a072e5dd96a990f200b803e2171b9683a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the settings selected by the user.  <br /></td></tr>
<tr class="separator:a072e5dd96a990f200b803e2171b9683a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de8c70c56e9a69d09c48d25730f64e3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a3de8c70c56e9a69d09c48d25730f64e3">fill_osr_data</a> (uint32_t desired_settings, uint8_t *addr, uint8_t *reg_data, uint8_t *len, const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:a3de8c70c56e9a69d09c48d25730f64e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API fills the register address and register data of the the over sampling settings for burst write operation.  <br /></td></tr>
<tr class="separator:a3de8c70c56e9a69d09c48d25730f64e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3c1c1a6176d94e747c1a958d09e6f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ace3c1c1a6176d94e747c1a958d09e6f9">fill_odr_data</a> (uint8_t *addr, uint8_t *reg_data, uint8_t *len, struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:ace3c1c1a6176d94e747c1a958d09e6f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API fills the register address and register data of the the ODR settings for burst write operation.  <br /></td></tr>
<tr class="separator:ace3c1c1a6176d94e747c1a958d09e6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a81cd7c079dab09de2ce6cf7bc84ea4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a4a81cd7c079dab09de2ce6cf7bc84ea4">fill_filter_data</a> (uint8_t *addr, uint8_t *reg_data, uint8_t *len, const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:a4a81cd7c079dab09de2ce6cf7bc84ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API fills the register address and register data of the the filter settings for burst write operation.  <br /></td></tr>
<tr class="separator:a4a81cd7c079dab09de2ce6cf7bc84ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db82f2117ddfa4eccef8a018e738aab"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a> (const struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a9db82f2117ddfa4eccef8a018e738aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API is used to validate the device pointer for null conditions.  <br /></td></tr>
<tr class="separator:a9db82f2117ddfa4eccef8a018e738aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5620d53e3c117de27ec7d4217bf7ae2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2">parse_sett_data</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:ae5620d53e3c117de27ec7d4217bf7ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API parse the power control(power mode, pressure enable
and temperature enable), over sampling, ODR, filter and interrupt control settings and store in the device structure.  <br /></td></tr>
<tr class="separator:ae5620d53e3c117de27ec7d4217bf7ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6422c146af6af181460f70bf2d373191"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a6422c146af6af181460f70bf2d373191">parse_pwr_ctrl_settings</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:a6422c146af6af181460f70bf2d373191"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API parse the power control(power mode, pressure enable
and temperature enable) settings and store in the device structure.  <br /></td></tr>
<tr class="separator:a6422c146af6af181460f70bf2d373191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add16f6eeb6f80c2407685192259abf5c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c">parse_odr_filter_settings</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> *settings)</td></tr>
<tr class="memdesc:add16f6eeb6f80c2407685192259abf5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API parse the over sampling, ODR and filter settings and store in the device structure.  <br /></td></tr>
<tr class="separator:add16f6eeb6f80c2407685192259abf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcb87fba39df5da4a471d163e02c84e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a8fcb87fba39df5da4a471d163e02c84e">parse_int_ctrl_settings</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__int__ctrl__settings.html">bmp3_int_ctrl_settings</a> *settings)</td></tr>
<tr class="memdesc:a8fcb87fba39df5da4a471d163e02c84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API parse the interrupt control(output mode, level,
latch and data ready) settings and store in the device structure.  <br /></td></tr>
<tr class="separator:a8fcb87fba39df5da4a471d163e02c84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eac7300e956796b856d5f0279f5850f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a0eac7300e956796b856d5f0279f5850f">parse_advance_settings</a> (const uint8_t *reg_data, struct <a class="el" href="structbmp3__adv__settings.html">bmp3_adv_settings</a> *settings)</td></tr>
<tr class="memdesc:a0eac7300e956796b856d5f0279f5850f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device structure.  <br /></td></tr>
<tr class="separator:a0eac7300e956796b856d5f0279f5850f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f20bfa932dd5919e9bf0318b1abea9"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9">validate_normal_mode_settings</a> (struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:aa8f20bfa932dd5919e9bf0318b1abea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API validate the normal mode settings of the sensor.  <br /></td></tr>
<tr class="separator:aa8f20bfa932dd5919e9bf0318b1abea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150879a00fe76c1022dacadc9c33818a"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a">validate_osr_and_odr_settings</a> (const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:a150879a00fe76c1022dacadc9c33818a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API validate the over sampling, ODR settings of the sensor.  <br /></td></tr>
<tr class="separator:a150879a00fe76c1022dacadc9c33818a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae863eb025f3f05bea233fcc92c75a28d"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d">calculate_press_meas_time</a> (const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:ae863eb025f3f05bea233fcc92c75a28d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API calculates the pressure measurement duration of the sensor.  <br /></td></tr>
<tr class="separator:ae863eb025f3f05bea233fcc92c75a28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d2decc3baee2641dbc98728dfdad88"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88">calculate_temp_meas_time</a> (const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings)</td></tr>
<tr class="memdesc:ad7d2decc3baee2641dbc98728dfdad88"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API calculates the temperature measurement duration of the sensor.  <br /></td></tr>
<tr class="separator:ad7d2decc3baee2641dbc98728dfdad88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a2bc8d090721c752c43de36850859c"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c">verify_meas_time_and_odr_duration</a> (uint32_t meas_t, uint32_t odr_duration)</td></tr>
<tr class="memdesc:a85a2bc8d090721c752c43de36850859c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API checks whether the measurement time and ODR duration of the sensor are proper.  <br /></td></tr>
<tr class="separator:a85a2bc8d090721c752c43de36850859c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565abda70f15c7b170f0fa78447a38d0"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0">put_device_to_sleep</a> (struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a565abda70f15c7b170f0fa78447a38d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API puts the device to sleep mode.  <br /></td></tr>
<tr class="separator:a565abda70f15c7b170f0fa78447a38d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b913d2a13a0820beb7d1ca325c7b5a5"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5">set_normal_mode</a> (struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a2b913d2a13a0820beb7d1ca325c7b5a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API sets the normal mode in the sensor.  <br /></td></tr>
<tr class="separator:a2b913d2a13a0820beb7d1ca325c7b5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e46cadc4471037934f6291e8544c8e3"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3">write_power_mode</a> (const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a0e46cadc4471037934f6291e8544c8e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API writes the power mode in the sensor.  <br /></td></tr>
<tr class="separator:a0e46cadc4471037934f6291e8544c8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c69c0b99515a74ba3a121cc14051967"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967">get_sensor_status</a> (struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *status, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a5c69c0b99515a74ba3a121cc14051967"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API fills the fifo_config_1(fifo_mode,
fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en) settings in the reg_data variable so as to burst write in the sensor.  <br /></td></tr>
<tr class="separator:a5c69c0b99515a74ba3a121cc14051967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368ebb915fde9c9f35eabd588b1820f0"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0">get_int_status</a> (struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *status, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a368ebb915fde9c9f35eabd588b1820f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor.  <br /></td></tr>
<tr class="separator:a368ebb915fde9c9f35eabd588b1820f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195d7a3d3d58b7eb8ae7fb7001d288e7"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7">get_err_status</a> (struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *status, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a195d7a3d3d58b7eb8ae7fb7001d288e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API gets the fatal, command and configuration error from the sensor.  <br /></td></tr>
<tr class="separator:a195d7a3d3d58b7eb8ae7fb7001d288e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff608ffafb8ebd79b7a0251b75451fba"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba">bmp3_init</a> (struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:aff608ffafb8ebd79b7a0251b75451fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal API converts the no. of frames required by the user to bytes so as to write in the watermark length register.  <br /></td></tr>
<tr class="separator:aff608ffafb8ebd79b7a0251b75451fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0c2cdecfdac8aa6ed4e35940f7ade7"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a> (uint8_t reg_addr, uint8_t *reg_data, uint32_t len, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a9e0c2cdecfdac8aa6ed4e35940f7ade7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the data from the given register address of the sensor.  <br /></td></tr>
<tr class="separator:a9e0c2cdecfdac8aa6ed4e35940f7ade7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02d16a9569a75f9df070348eb7cb1fe"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a> (uint8_t *reg_addr, const uint8_t *reg_data, uint32_t len, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:ad02d16a9569a75f9df070348eb7cb1fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API writes the given data to the register address of the sensor.  <br /></td></tr>
<tr class="separator:ad02d16a9569a75f9df070348eb7cb1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a53f320e8c5a13d452bc24dfc7de58a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a">bmp3_set_sensor_settings</a> (uint32_t desired_settings, struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a0a53f320e8c5a13d452bc24dfc7de58a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sets the power control(pressure enable and
temperature enable), over sampling, ODR and filter settings in the sensor.  <br /></td></tr>
<tr class="separator:a0a53f320e8c5a13d452bc24dfc7de58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7bbd9da06309195baa80bdc5d8579fe"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe">bmp3_get_sensor_settings</a> (struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:ae7bbd9da06309195baa80bdc5d8579fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API gets the power control(power mode, pressure enable and
temperature enable), over sampling, ODR, filter, interrupt control and advance settings from the sensor.  <br /></td></tr>
<tr class="separator:ae7bbd9da06309195baa80bdc5d8579fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fadb14757875e006860607719e47f0"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0">bmp3_get_status</a> (struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *status, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a61fadb14757875e006860607719e47f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sets the fifo_config_1(fifo_mode,
fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en), fifo_config_2(fifo_subsampling, data_select) and int_ctrl(fwtm_en, ffull_en) settings in the sensor.  <br /></td></tr>
<tr class="separator:a61fadb14757875e006860607719e47f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11b6673c9cf7e6da640712c183ed2e7"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ae11b6673c9cf7e6da640712c183ed2e7">bmp3_get_fifo_length</a> (uint16_t *fifo_length, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:ae11b6673c9cf7e6da640712c183ed2e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API gets the fifo length from the sensor.  <br /></td></tr>
<tr class="separator:ae11b6673c9cf7e6da640712c183ed2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83b435b6be380ec33d48b5b84a068b1"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1">bmp3_soft_reset</a> (struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:ad83b435b6be380ec33d48b5b84a068b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API performs the soft reset of the sensor.  <br /></td></tr>
<tr class="separator:ad83b435b6be380ec33d48b5b84a068b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe254ed403bc857b64db09c771f6b83e"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#abe254ed403bc857b64db09c771f6b83e">bmp3_fifo_flush</a> (struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:abe254ed403bc857b64db09c771f6b83e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API performs the soft reset of the sensor.  <br /></td></tr>
<tr class="separator:abe254ed403bc857b64db09c771f6b83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d3b5b195ea0155ff037fdf7f1ad527"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527">bmp3_set_op_mode</a> (struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *settings, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a47d3b5b195ea0155ff037fdf7f1ad527"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sets the power mode of the sensor.  <br /></td></tr>
<tr class="separator:a47d3b5b195ea0155ff037fdf7f1ad527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab06f63f2fc075f9d40bd0a16d42fda5"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5">bmp3_get_op_mode</a> (uint8_t *op_mode, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:aab06f63f2fc075f9d40bd0a16d42fda5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API gets the power mode of the sensor.  <br /></td></tr>
<tr class="separator:aab06f63f2fc075f9d40bd0a16d42fda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7c253abd6cd44aa260578a10395697"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697">bmp3_get_sensor_data</a> (uint8_t sensor_comp, struct <a class="el" href="structbmp3__data.html">bmp3_data</a> *comp_data, struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *dev)</td></tr>
<tr class="memdesc:a8b7c253abd6cd44aa260578a10395697"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the pressure, temperature or both data from the sensor, compensates the data and store it in the <a class="el" href="structbmp3__data.html" title="bmp3 sensor structure which comprises of temperature and pressure data.">bmp3_data</a> structure instance passed by the user.  <br /></td></tr>
<tr class="separator:a8b7c253abd6cd44aa260578a10395697"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sensor driver for BMP3 sensor. </p>
<p>Copyright (c) 2022 Bosch Sensortec GmbH. All rights reserved.</p>
<p>BSD-3-Clause</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<dl class="section date"><dt>Date</dt><dd>2022-04-01 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>v2.0.6</dd></dl>

<p class="definition">Definition in file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa56ad91f72c293cfac24a7ec7c944e87" name="aa56ad91f72c293cfac24a7ec7c944e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa56ad91f72c293cfac24a7ec7c944e87">&#9670;&#160;</a></span>are_settings_changed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t are_settings_changed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sub_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to identify the settings which the user wants to modify in the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_settings</td><td>: Contains the settings subset to identify particular group of settings which the user is interested to change. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Contains the user specified settings.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether user is interested to modify the settings which are related to sub_settings. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">True</td><td>-&gt; User wants to modify this group of settings </td></tr>
    <tr><td class="paramname">False</td><td>-&gt; User does not want to modify this group of settings </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02702">2702</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2703</span>{</div>
<div class="line"><span class="lineno"> 2704</span>    uint8_t settings_changed = <a class="code hl_define" href="bmp3__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno"> 2705</span> </div>
<div class="line"><span class="lineno"> 2706</span>    <span class="keywordflow">if</span> (sub_settings &amp; desired_settings)</div>
<div class="line"><span class="lineno"> 2707</span>    {</div>
<div class="line"><span class="lineno"> 2708</span>        <span class="comment">/* User wants to modify this particular settings */</span></div>
<div class="line"><span class="lineno"> 2709</span>        settings_changed = <a class="code hl_define" href="bmp3__defs_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno"> 2710</span>    }</div>
<div class="line"><span class="lineno"> 2711</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2712</span>    {</div>
<div class="line"><span class="lineno"> 2713</span>        <span class="comment">/* User don&#39;t want to modify this particular settings */</span></div>
<div class="line"><span class="lineno"> 2714</span>        settings_changed = <a class="code hl_define" href="bmp3__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno"> 2715</span>    }</div>
<div class="line"><span class="lineno"> 2716</span> </div>
<div class="line"><span class="lineno"> 2717</span>    <span class="keywordflow">return</span> settings_changed;</div>
<div class="line"><span class="lineno"> 2718</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="bmp3__defs_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00093">bmp3_defs.h:93</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="bmp3__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00097">bmp3_defs.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00097">FALSE</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00093">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00909">bmp3_set_sensor_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aa56ad91f72c293cfac24a7ec7c944e87_icgraph.png" border="0" usemap="#abmp3_8c_aa56ad91f72c293cfac24a7ec7c944e87_icgraph" alt=""/></div>
<map name="abmp3_8c_aa56ad91f72c293cfac24a7ec7c944e87_icgraph" id="abmp3_8c_aa56ad91f72c293cfac24a7ec7c944e87_icgraph">
<area shape="rect" title="This internal API is used to identify the settings which the user wants to modify in the sensor." alt="" coords="681,31,829,57"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="665,47,436,47,436,41,665,41"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="483,56,633,83"/>
<area shape="poly" title=" " alt="" coords="665,58,633,62,632,57,665,53"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
<area shape="poly" title=" " alt="" coords="468,61,436,57,436,52,469,56"/>
</map>
</div>

</div>
</div>
<a id="abe254ed403bc857b64db09c771f6b83e" name="abe254ed403bc857b64db09c771f6b83e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe254ed403bc857b64db09c771f6b83e">&#9670;&#160;</a></span>bmp3_fifo_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_fifo_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API performs the soft reset of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01307">1307</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1308</span>{</div>
<div class="line"><span class="lineno"> 1309</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1310</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a25b43132cb39fc610fb7879ef7c58f0c">BMP3_REG_CMD</a>;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    uint8_t fifo_flush_cmd = <a class="code hl_define" href="bmp3__defs_8h.html#aa6a3d1b4f280b00dea74927c0dcc787e">BMP3_FIFO_FLUSH</a>;</div>
<div class="line"><span class="lineno"> 1313</span>    uint8_t cmd_rdy_status;</div>
<div class="line"><span class="lineno"> 1314</span>    uint8_t cmd_err_status;</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>    <span class="comment">/* Check for command ready status */</span></div>
<div class="line"><span class="lineno"> 1317</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a7f0cdaf87ebb6c453b7587a196f78a14">BMP3_REG_SENS_STATUS</a>, &amp;cmd_rdy_status, 1, dev);</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>    <span class="comment">/* Device is ready to accept new command */</span></div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordflow">if</span> ((cmd_rdy_status &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a8c158a495bfdc04f20d5f9dccf517c1c">BMP3_CMD_RDY</a>) &amp;&amp; (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>))</div>
<div class="line"><span class="lineno"> 1321</span>    {</div>
<div class="line"><span class="lineno"> 1322</span>        <span class="comment">/* Write the soft reset command in the sensor */</span></div>
<div class="line"><span class="lineno"> 1323</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;fifo_flush_cmd, 1, dev);</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>        <span class="comment">/* Proceed if everything is fine until now */</span></div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1327</span>        {</div>
<div class="line"><span class="lineno"> 1328</span>            <span class="comment">/* Wait for 2 ms */</span></div>
<div class="line"><span class="lineno"> 1329</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aaa2b96147cfca18db010d5a1844ede1a">delay_us</a>(2000, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>            <span class="comment">/* Read for command error status */</span></div>
<div class="line"><span class="lineno"> 1332</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#af63bb8bbec3bb41e07bd59a6c28b4c21">BMP3_REG_ERR</a>, &amp;cmd_err_status, 1, dev);</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>            <span class="comment">/* check for command error status */</span></div>
<div class="line"><span class="lineno"> 1335</span>            <span class="keywordflow">if</span> ((cmd_err_status &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a25b43132cb39fc610fb7879ef7c58f0c">BMP3_REG_CMD</a>) || (rslt != <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>))</div>
<div class="line"><span class="lineno"> 1336</span>            {</div>
<div class="line"><span class="lineno"> 1337</span>                <span class="comment">/* Command not written hence return</span></div>
<div class="line"><span class="lineno"> 1338</span><span class="comment">                 * error */</span></div>
<div class="line"><span class="lineno"> 1339</span>                rslt = <a class="code hl_define" href="bmp3__defs_8h.html#afda2c03a206c0b5fbd1e6a47e43b2c1a">BMP3_E_CMD_EXEC_FAILED</a>;</div>
<div class="line"><span class="lineno"> 1340</span>            }</div>
<div class="line"><span class="lineno"> 1341</span>        }</div>
<div class="line"><span class="lineno"> 1342</span>    }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1345</span>}</div>
<div class="ttc" id="abmp3_8c_html_a9e0c2cdecfdac8aa6ed4e35940f7ade7"><div class="ttname"><a href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a></div><div class="ttdeci">int8_t bmp3_get_regs(uint8_t reg_addr, uint8_t *reg_data, uint32_t len, struct bmp3_dev *dev)</div><div class="ttdoc">This API reads the data from the given register address of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l00794">bmp3.c:794</a></div></div>
<div class="ttc" id="abmp3_8c_html_ad02d16a9569a75f9df070348eb7cb1fe"><div class="ttname"><a href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a></div><div class="ttdeci">int8_t bmp3_set_regs(uint8_t *reg_addr, const uint8_t *reg_data, uint32_t len, struct bmp3_dev *dev)</div><div class="ttdoc">This API writes the given data to the register address of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l00844">bmp3.c:844</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a25b43132cb39fc610fb7879ef7c58f0c"><div class="ttname"><a href="bmp3__defs_8h.html#a25b43132cb39fc610fb7879ef7c58f0c">BMP3_REG_CMD</a></div><div class="ttdeci">#define BMP3_REG_CMD</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00163">bmp3_defs.h:163</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a7f0cdaf87ebb6c453b7587a196f78a14"><div class="ttname"><a href="bmp3__defs_8h.html#a7f0cdaf87ebb6c453b7587a196f78a14">BMP3_REG_SENS_STATUS</a></div><div class="ttdeci">#define BMP3_REG_SENS_STATUS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00147">bmp3_defs.h:147</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a8c158a495bfdc04f20d5f9dccf517c1c"><div class="ttname"><a href="bmp3__defs_8h.html#a8c158a495bfdc04f20d5f9dccf517c1c">BMP3_CMD_RDY</a></div><div class="ttdeci">#define BMP3_CMD_RDY</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00171">bmp3_defs.h:171</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aa6a3d1b4f280b00dea74927c0dcc787e"><div class="ttname"><a href="bmp3__defs_8h.html#aa6a3d1b4f280b00dea74927c0dcc787e">BMP3_FIFO_FLUSH</a></div><div class="ttdeci">#define BMP3_FIFO_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00255">bmp3_defs.h:255</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ab5fc37ec1cd737b6ccaa1460086d80ca"><div class="ttname"><a href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a></div><div class="ttdeci">#define BMP3_OK</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00258">bmp3_defs.h:258</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af63bb8bbec3bb41e07bd59a6c28b4c21"><div class="ttname"><a href="bmp3__defs_8h.html#af63bb8bbec3bb41e07bd59a6c28b4c21">BMP3_REG_ERR</a></div><div class="ttdeci">#define BMP3_REG_ERR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00146">bmp3_defs.h:146</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_afda2c03a206c0b5fbd1e6a47e43b2c1a"><div class="ttname"><a href="bmp3__defs_8h.html#afda2c03a206c0b5fbd1e6a47e43b2c1a">BMP3_E_CMD_EXEC_FAILED</a></div><div class="ttdeci">#define BMP3_E_CMD_EXEC_FAILED</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00264">bmp3_defs.h:264</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_aaa2b96147cfca18db010d5a1844ede1a"><div class="ttname"><a href="structbmp3__dev.html#aaa2b96147cfca18db010d5a1844ede1a">bmp3_dev::delay_us</a></div><div class="ttdeci">bmp3_delay_us_fptr_t delay_us</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00926">bmp3_defs.h:926</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_adc997a5a7af63e7e518892c4188e9e6f"><div class="ttname"><a href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">bmp3_dev::intf_ptr</a></div><div class="ttdeci">void * intf_ptr</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00905">bmp3_defs.h:905</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00171">BMP3_CMD_RDY</a>, <a class="el" href="bmp3__defs_8h_source.html#l00264">BMP3_E_CMD_EXEC_FAILED</a>, <a class="el" href="bmp3__defs_8h_source.html#l00255">BMP3_FIFO_FLUSH</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00163">BMP3_REG_CMD</a>, <a class="el" href="bmp3__defs_8h_source.html#l00146">BMP3_REG_ERR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00147">BMP3_REG_SENS_STATUS</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00926">bmp3_dev::delay_us</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_abe254ed403bc857b64db09c771f6b83e_cgraph.png" border="0" usemap="#abmp3_8c_abe254ed403bc857b64db09c771f6b83e_cgraph" alt=""/></div>
<map name="abmp3_8c_abe254ed403bc857b64db09c771f6b83e_cgraph" id="abmp3_8c_abe254ed403bc857b64db09c771f6b83e_cgraph">
<area shape="rect" title="This API performs the soft reset of the sensor." alt="" coords="5,31,119,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="167,5,277,32"/>
<area shape="poly" title=" " alt="" coords="119,32,151,27,152,32,120,38"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="167,56,277,83"/>
<area shape="poly" title=" " alt="" coords="120,50,152,56,151,61,119,56"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="340,5,445,32"/>
<area shape="poly" title=" " alt="" coords="278,16,324,16,324,21,278,21"/>
<area shape="poly" title=" " alt="" coords="269,53,330,34,331,39,270,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="325,56,459,83"/>
<area shape="poly" title=" " alt="" coords="278,67,309,67,309,72,278,72"/>
</map>
</div>

</div>
</div>
<a id="ae11b6673c9cf7e6da640712c183ed2e7" name="ae11b6673c9cf7e6da640712c183ed2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae11b6673c9cf7e6da640712c183ed2e7">&#9670;&#160;</a></span>bmp3_get_fifo_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_fifo_length </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>fifo_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API gets the fifo length from the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01236">1236</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1237</span>{</div>
<div class="line"><span class="lineno"> 1238</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1239</span>    uint8_t reg_data[2];</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keywordflow">if</span> (fifo_length != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1242</span>    {</div>
<div class="line"><span class="lineno"> 1243</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a9fabcbf12dca6b3d6473bab59b2e9c5a">BMP3_REG_FIFO_LENGTH</a>, reg_data, 2, dev);</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>        <span class="comment">/* Proceed if read from register is fine */</span></div>
<div class="line"><span class="lineno"> 1246</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1247</span>        {</div>
<div class="line"><span class="lineno"> 1248</span>            <span class="comment">/* Update the fifo length */</span></div>
<div class="line"><span class="lineno"> 1249</span>            *fifo_length = <a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[1], reg_data[0]);</div>
<div class="line"><span class="lineno"> 1250</span>        }</div>
<div class="line"><span class="lineno"> 1251</span>    }</div>
<div class="line"><span class="lineno"> 1252</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1253</span>    {</div>
<div class="line"><span class="lineno"> 1254</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 1255</span>    }</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1258</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00088">bmp3_defs.h:88</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a9fabcbf12dca6b3d6473bab59b2e9c5a"><div class="ttname"><a href="bmp3__defs_8h.html#a9fabcbf12dca6b3d6473bab59b2e9c5a">BMP3_REG_FIFO_LENGTH</a></div><div class="ttdeci">#define BMP3_REG_FIFO_LENGTH</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00151">bmp3_defs.h:151</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aba1bf8670ec4ab7065cbe334b188f7d2"><div class="ttname"><a href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a></div><div class="ttdeci">#define BMP3_E_NULL_PTR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00261">bmp3_defs.h:261</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ad0081e2592138bf72a3f56ef42a7cc27"><div class="ttname"><a href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a></div><div class="ttdeci">#define BMP3_CONCAT_BYTES(msb, lsb)</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00418">bmp3_defs.h:418</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00418">BMP3_CONCAT_BYTES</a>, <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00151">BMP3_REG_FIFO_LENGTH</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae11b6673c9cf7e6da640712c183ed2e7_cgraph.png" border="0" usemap="#abmp3_8c_ae11b6673c9cf7e6da640712c183ed2e7_cgraph" alt=""/></div>
<map name="abmp3_8c_ae11b6673c9cf7e6da640712c183ed2e7_cgraph" id="abmp3_8c_ae11b6673c9cf7e6da640712c183ed2e7_cgraph">
<area shape="rect" title="This API gets the fifo length from the sensor." alt="" coords="5,5,151,32"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="199,5,309,32"/>
<area shape="poly" title=" " alt="" coords="151,16,183,16,183,21,151,21"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="357,5,462,32"/>
<area shape="poly" title=" " alt="" coords="310,16,341,16,341,21,310,21"/>
</map>
</div>

</div>
</div>
<a id="aab06f63f2fc075f9d40bd0a16d42fda5" name="aab06f63f2fc075f9d40bd0a16d42fda5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab06f63f2fc075f9d40bd0a16d42fda5">&#9670;&#160;</a></span>bmp3_get_op_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_op_mode </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>op_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API gets the power mode of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01403">1403</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1404</span>{</div>
<div class="line"><span class="lineno"> 1405</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>    <span class="keywordflow">if</span> (op_mode != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1408</span>    {</div>
<div class="line"><span class="lineno"> 1409</span>        <span class="comment">/* Read the power mode register */</span></div>
<div class="line"><span class="lineno"> 1410</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a>, op_mode, 1, dev);</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>        <span class="comment">/* Assign the power mode in the device structure */</span></div>
<div class="line"><span class="lineno"> 1413</span>        *op_mode = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*op_mode, BMP3_OP_MODE);</div>
<div class="line"><span class="lineno"> 1414</span>    }</div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1416</span>    {</div>
<div class="line"><span class="lineno"> 1417</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 1418</span>    }</div>
<div class="line"><span class="lineno"> 1419</span> </div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1421</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a071f152995f1259a527ae22c44844671"><div class="ttname"><a href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a></div><div class="ttdeci">#define BMP3_REG_PWR_CTRL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00158">bmp3_defs.h:158</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ad3ce8f9cdfe76180cb45f6d1028d4e18"><div class="ttname"><a href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a></div><div class="ttdeci">#define BMP3_GET_BITS(reg_data, bitname)</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00429">bmp3_defs.h:429</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00158">BMP3_REG_PWR_CTRL</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01350">bmp3_set_op_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_cgraph.png" border="0" usemap="#abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_cgraph" alt=""/></div>
<map name="abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_cgraph" id="abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_cgraph">
<area shape="rect" title="This API gets the power mode of the sensor." alt="" coords="5,5,144,32"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="192,5,302,32"/>
<area shape="poly" title=" " alt="" coords="144,16,176,16,176,21,144,21"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="350,5,455,32"/>
<area shape="poly" title=" " alt="" coords="303,16,334,16,334,21,303,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_icgraph.png" border="0" usemap="#abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_icgraph" alt=""/></div>
<map name="abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_icgraph" id="abmp3_8c_aab06f63f2fc075f9d40bd0a16d42fda5_icgraph">
<area shape="rect" title="This API gets the power mode of the sensor." alt="" coords="444,31,583,57"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="428,47,397,47,397,41,428,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a9e0c2cdecfdac8aa6ed4e35940f7ade7" name="a9e0c2cdecfdac8aa6ed4e35940f7ade7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0c2cdecfdac8aa6ed4e35940f7ade7">&#9670;&#160;</a></span>bmp3_get_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_regs </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the data from the given register address of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l00794">794</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  795</span>{</div>
<div class="line"><span class="lineno">  796</span>    int8_t rslt;</div>
<div class="line"><span class="lineno">  797</span>    uint32_t idx;</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <span class="comment">/* Check for null pointer in the device structure */</span></div>
<div class="line"><span class="lineno">  800</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a>(dev);</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>    <span class="comment">/* Proceed if null check is fine */</span></div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>) &amp;&amp; (reg_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><span class="lineno">  804</span>    {</div>
<div class="line"><span class="lineno">  805</span>        uint32_t temp_len = len + dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">dummy_byte</a>;</div>
<div class="line"><span class="lineno">  806</span>        uint8_t temp_buff[len + dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">dummy_byte</a>];</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>        <span class="comment">/* If interface selected is SPI */</span></div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a9ab34ce30f0d4078d0ca93417702ff1d">intf</a> != <a class="code hl_enumvalue" href="bmp3__defs_8h.html#a3d202063e29772e3470b2338644ab05dad72873d32b2c0eaad465b08a17786d91">BMP3_I2C_INTF</a>)</div>
<div class="line"><span class="lineno">  810</span>        {</div>
<div class="line"><span class="lineno">  811</span>            reg_addr = reg_addr | 0x80;</div>
<div class="line"><span class="lineno">  812</span> </div>
<div class="line"><span class="lineno">  813</span>            <span class="comment">/* Read the data from the register */</span></div>
<div class="line"><span class="lineno">  814</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">intf_rslt</a> = dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a056343ee3b4ab8ae54a2ebc844c46199">read</a>(reg_addr, temp_buff, temp_len, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno">  815</span>            <span class="keywordflow">for</span> (idx = 0; idx &lt; len; idx++)</div>
<div class="line"><span class="lineno">  816</span>            {</div>
<div class="line"><span class="lineno">  817</span>                reg_data[idx] = temp_buff[idx + dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">dummy_byte</a>];</div>
<div class="line"><span class="lineno">  818</span>            }</div>
<div class="line"><span class="lineno">  819</span>        }</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  821</span>        {</div>
<div class="line"><span class="lineno">  822</span>            <span class="comment">/* Read the data using I2C */</span></div>
<div class="line"><span class="lineno">  823</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">intf_rslt</a> = dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a056343ee3b4ab8ae54a2ebc844c46199">read</a>(reg_addr, reg_data, len, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>        <span class="comment">/* Check for communication error */</span></div>
<div class="line"><span class="lineno">  827</span>        <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">intf_rslt</a> != <a class="code hl_define" href="bmp3__defs_8h.html#a2d7d529273007ace7d4f57e6ae5c0a5c">BMP3_INTF_RET_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  828</span>        {</div>
<div class="line"><span class="lineno">  829</span>            rslt = <a class="code hl_define" href="bmp3__defs_8h.html#a71de1df6b91355b5670d26c1910696eb">BMP3_E_COMM_FAIL</a>;</div>
<div class="line"><span class="lineno">  830</span>        }</div>
<div class="line"><span class="lineno">  831</span>    }</div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  833</span>    {</div>
<div class="line"><span class="lineno">  834</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  835</span>    }</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  838</span>}</div>
<div class="ttc" id="abmp3_8c_html_a9db82f2117ddfa4eccef8a018e738aab"><div class="ttname"><a href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a></div><div class="ttdeci">static int8_t null_ptr_check(const struct bmp3_dev *dev)</div><div class="ttdoc">This internal API is used to validate the device pointer for null conditions.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02724">bmp3.c:2724</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a2d7d529273007ace7d4f57e6ae5c0a5c"><div class="ttname"><a href="bmp3__defs_8h.html#a2d7d529273007ace7d4f57e6ae5c0a5c">BMP3_INTF_RET_SUCCESS</a></div><div class="ttdeci">#define BMP3_INTF_RET_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00124">bmp3_defs.h:124</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a3d202063e29772e3470b2338644ab05dad72873d32b2c0eaad465b08a17786d91"><div class="ttname"><a href="bmp3__defs_8h.html#a3d202063e29772e3470b2338644ab05dad72873d32b2c0eaad465b08a17786d91">BMP3_I2C_INTF</a></div><div class="ttdeci">@ BMP3_I2C_INTF</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00508">bmp3_defs.h:507</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a71de1df6b91355b5670d26c1910696eb"><div class="ttname"><a href="bmp3__defs_8h.html#a71de1df6b91355b5670d26c1910696eb">BMP3_E_COMM_FAIL</a></div><div class="ttdeci">#define BMP3_E_COMM_FAIL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00262">bmp3_defs.h:262</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_a056343ee3b4ab8ae54a2ebc844c46199"><div class="ttname"><a href="structbmp3__dev.html#a056343ee3b4ab8ae54a2ebc844c46199">bmp3_dev::read</a></div><div class="ttdeci">bmp3_read_fptr_t read</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00920">bmp3_defs.h:920</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_a306b45e3ed7c2069e1e3366a594cfe01"><div class="ttname"><a href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">bmp3_dev::intf_rslt</a></div><div class="ttdeci">BMP3_INTF_RET_TYPE intf_rslt</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00914">bmp3_defs.h:914</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_a9ab34ce30f0d4078d0ca93417702ff1d"><div class="ttname"><a href="structbmp3__dev.html#a9ab34ce30f0d4078d0ca93417702ff1d">bmp3_dev::intf</a></div><div class="ttdeci">enum bmp3_intf intf</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00911">bmp3_defs.h:911</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_acbd5975a457d69886cf7fb64dec50e72"><div class="ttname"><a href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">bmp3_dev::dummy_byte</a></div><div class="ttdeci">uint8_t dummy_byte</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00917">bmp3_defs.h:917</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00262">BMP3_E_COMM_FAIL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00507">BMP3_I2C_INTF</a>, <a class="el" href="bmp3__defs_8h_source.html#l00124">BMP3_INTF_RET_SUCCESS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00917">bmp3_dev::dummy_byte</a>, <a class="el" href="bmp3__defs_8h_source.html#l00911">bmp3_dev::intf</a>, <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00914">bmp3_dev::intf_rslt</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3_8c_source.html#l02724">null_ptr_check()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00920">bmp3_dev::read</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01307">bmp3_fifo_flush()</a>, <a class="el" href="bmp3_8c_source.html#l01236">bmp3_get_fifo_length()</a>, <a class="el" href="bmp3_8c_source.html#l01403">bmp3_get_op_mode()</a>, <a class="el" href="bmp3_8c_source.html#l01428">bmp3_get_sensor_data()</a>, <a class="el" href="bmp3_8c_source.html#l00953">bmp3_get_sensor_settings()</a>, <a class="el" href="bmp3_8c_source.html#l00738">bmp3_init()</a>, <a class="el" href="bmp3_8c_source.html#l01263">bmp3_soft_reset()</a>, <a class="el" href="bmp3_8c_source.html#l01786">get_calib_data()</a>, <a class="el" href="bmp3_8c_source.html#l02945">get_err_status()</a>, <a class="el" href="bmp3_8c_source.html#l02924">get_int_status()</a>, <a class="el" href="bmp3_8c_source.html#l02072">get_odr_filter_settings()</a>, <a class="el" href="bmp3_8c_source.html#l02898">get_sensor_status()</a>, <a class="el" href="bmp3_8c_source.html#l01743">put_device_to_sleep()</a>, <a class="el" href="bmp3_8c_source.html#l02037">set_advance_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01987">set_int_ctrl_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01680">set_normal_mode()</a>, <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01891">set_pwr_ctrl_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01716">write_power_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_cgraph.png" border="0" usemap="#abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_cgraph" alt=""/></div>
<map name="abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_cgraph" id="abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_cgraph">
<area shape="rect" title="This API reads the data from the given register address of the sensor." alt="" coords="5,5,116,32"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="164,5,269,32"/>
<area shape="poly" title=" " alt="" coords="116,16,148,16,148,21,116,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_icgraph.png" border="0" usemap="#abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_icgraph" alt=""/></div>
<map name="abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_icgraph" id="abmp3_8c_a9e0c2cdecfdac8aa6ed4e35940f7ade7_icgraph">
<area shape="rect" title="This API reads the data from the given register address of the sensor." alt="" coords="1083,465,1194,492"/>
<area shape="rect" href="bmp3_8c.html#abe254ed403bc857b64db09c771f6b83e" title="This API performs the soft reset of the sensor." alt="" coords="890,5,1003,32"/>
<area shape="poly" title=" " alt="" coords="1132,450,1120,358,1100,237,1071,121,1053,76,1033,46,1019,35,1003,28,1005,23,1022,30,1037,42,1058,74,1076,119,1105,236,1125,357,1137,449"/>
<area shape="rect" href="bmp3_8c.html#ae11b6673c9cf7e6da640712c183ed2e7" title="This API gets the fifo length from the sensor." alt="" coords="874,56,1019,83"/>
<area shape="poly" title=" " alt="" coords="1135,450,1132,381,1119,288,1106,239,1088,190,1064,144,1033,103,1008,85,1011,81,1037,99,1069,141,1093,188,1111,237,1124,287,1138,380,1141,450"/>
<area shape="rect" href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5" title="This API gets the power mode of the sensor." alt="" coords="445,137,584,164"/>
<area shape="poly" title=" " alt="" coords="1135,450,1133,387,1120,306,1107,264,1089,224,1065,188,1034,158,1000,142,953,132,895,127,831,126,698,133,584,144,584,139,697,128,830,121,895,122,954,127,1002,137,1037,154,1069,185,1093,221,1112,262,1125,305,1138,386,1141,450"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="868,719,1025,745"/>
<area shape="poly" title=" " alt="" coords="1135,508,1124,552,1106,606,1077,661,1059,686,1037,709,1019,720,1016,716,1034,705,1055,683,1073,658,1101,604,1119,550,1130,507"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="858,769,1035,796"/>
<area shape="poly" title=" " alt="" coords="1138,508,1130,562,1113,629,1083,699,1062,731,1037,759,1020,771,1017,767,1034,755,1058,728,1079,696,1108,627,1125,561,1132,507"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="683,415,760,441"/>
<area shape="poly" title=" " alt="" coords="1113,457,1078,428,1034,405,998,396,961,392,885,393,816,404,761,418,760,413,815,399,884,388,961,386,999,391,1036,400,1081,424,1116,453"/>
<area shape="rect" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1" title="This API performs the soft reset of the sensor." alt="" coords="888,415,1006,441"/>
<area shape="poly" title=" " alt="" coords="1070,463,999,445,1001,439,1071,458"/>
<area shape="rect" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="894,465,999,492"/>
<area shape="poly" title=" " alt="" coords="1068,481,1000,481,1000,476,1068,476"/>
<area shape="rect" href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7" title="This API gets the fatal, command and configuration error from the sensor." alt="" coords="894,820,999,847"/>
<area shape="poly" title=" " alt="" coords="1140,508,1135,570,1120,651,1107,694,1089,736,1066,775,1037,810,1020,822,1000,830,998,825,1017,818,1034,806,1062,772,1084,734,1102,692,1115,650,1129,569,1134,508"/>
<area shape="rect" href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0" title="This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor." alt="" coords="895,871,998,897"/>
<area shape="poly" title=" " alt="" coords="1141,507,1139,578,1126,673,1114,723,1095,773,1070,819,1037,861,1020,873,1000,881,998,876,1017,869,1033,857,1066,816,1090,771,1108,722,1121,672,1134,578,1136,507"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="872,212,1021,239"/>
<area shape="poly" title=" " alt="" coords="1129,451,1118,409,1099,357,1071,305,1054,281,1034,259,1005,242,1008,237,1037,255,1058,277,1076,302,1104,355,1123,407,1134,449"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="452,220,577,247"/>
<area shape="poly" title=" " alt="" coords="1134,450,1128,395,1113,326,1100,290,1083,257,1061,227,1034,202,1004,184,973,170,905,154,835,151,765,157,698,171,638,188,547,222,545,217,636,183,697,165,764,152,835,145,906,149,974,165,1007,179,1037,198,1065,223,1088,254,1105,288,1118,324,1134,394,1139,449"/>
<area shape="rect" href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967" title="This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,..." alt="" coords="882,921,1011,948"/>
<area shape="poly" title=" " alt="" coords="1137,508,1125,599,1105,719,1076,835,1058,880,1037,911,1013,927,1010,923,1033,907,1053,877,1071,833,1100,718,1120,598,1131,507"/>
<area shape="rect" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0" title="This internal API puts the device to sleep mode." alt="" coords="444,325,585,352"/>
<area shape="poly" title=" " alt="" coords="1117,454,1082,414,1060,395,1034,380,977,358,916,342,854,332,793,326,678,325,585,332,585,327,678,320,793,321,855,327,917,337,978,353,1036,375,1063,390,1086,410,1122,451"/>
<area shape="rect" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="872,516,1021,543"/>
<area shape="poly" title=" " alt="" coords="1071,499,1001,518,999,513,1070,494"/>
<area shape="rect" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="878,567,1016,593"/>
<area shape="poly" title=" " alt="" coords="1113,505,1078,532,1037,557,1008,569,1006,564,1034,552,1075,527,1109,500"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="872,617,1021,644"/>
<area shape="poly" title=" " alt="" coords="1125,507,1089,558,1065,585,1037,608,1014,619,1012,614,1034,603,1061,581,1085,555,1120,504"/>
<area shape="rect" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="874,668,1019,695"/>
<area shape="poly" title=" " alt="" coords="1131,508,1118,542,1098,583,1071,623,1037,658,1017,670,1015,665,1034,654,1067,620,1093,580,1113,540,1126,506"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="656,275,786,301"/>
<area shape="poly" title=" " alt="" coords="1127,451,1114,417,1095,378,1069,340,1034,310,1005,295,974,285,908,274,844,273,787,278,787,273,844,268,908,268,975,280,1007,291,1037,306,1073,337,1100,375,1119,415,1132,450"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,300,396,327"/>
<area shape="poly" title=" " alt="" coords="486,176,446,210,345,301,342,298,443,206,483,172"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,440,210,467"/>
<area shape="poly" title=" " alt="" coords="299,339,176,442,173,437,296,335"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,516,209,543"/>
<area shape="poly" title=" " alt="" coords="312,341,269,406,212,480,175,517,172,514,208,477,264,403,307,339"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,516,55,543"/>
<area shape="poly" title=" " alt="" coords="121,478,55,518,52,513,118,473"/>
<area shape="poly" title=" " alt="" coords="88,532,55,532,55,527,88,527"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="264,643,390,669"/>
<area shape="poly" title=" " alt="" coords="852,723,390,666,391,661,853,718"/>
<area shape="poly" title=" " alt="" coords="279,639,54,542,56,537,281,634"/>
<area shape="poly" title=" " alt="" coords="668,433,210,454,210,448,667,428"/>
<area shape="poly" title=" " alt="" coords="668,440,210,523,209,517,667,435"/>
<area shape="poly" title=" " alt="" coords="872,431,760,431,760,425,872,425"/>
<area shape="poly" title=" " alt="" coords="878,466,760,439,761,434,879,461"/>
<area shape="rect" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="661,871,782,897"/>
<area shape="poly" title=" " alt="" coords="880,851,783,873,782,868,879,846"/>
<area shape="poly" title=" " alt="" coords="880,887,782,887,782,881,880,881"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="646,208,797,251"/>
<area shape="poly" title=" " alt="" coords="857,230,798,231,798,225,857,224"/>
<area shape="poly" title=" " alt="" coords="630,234,577,235,577,229,630,228"/>
<area shape="poly" title=" " alt="" coords="468,256,361,302,359,297,466,251"/>
<area shape="poly" title=" " alt="" coords="868,920,782,900,783,895,870,915"/>
<area shape="poly" title=" " alt="" coords="429,330,397,325,397,320,429,324"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="633,567,810,593"/>
<area shape="poly" title=" " alt="" coords="870,549,784,569,783,563,869,544"/>
<area shape="poly" title=" " alt="" coords="643,565,210,468,211,463,644,560"/>
<area shape="poly" title=" " alt="" coords="617,579,448,569,258,551,209,543,210,538,258,545,449,564,617,574"/>
<area shape="poly" title=" " alt="" coords="862,583,810,583,810,577,862,577"/>
<area shape="poly" title=" " alt="" coords="869,616,783,597,784,591,870,611"/>
<area shape="poly" title=" " alt="" coords="875,665,857,658,794,627,743,596,745,592,796,622,859,654,877,660"/>
<area shape="poly" title=" " alt="" coords="641,296,397,312,397,306,640,290"/>
<area shape="poly" title=" " alt="" coords="653,273,567,250,568,245,654,268"/>
</map>
</div>

</div>
</div>
<a id="a8b7c253abd6cd44aa260578a10395697" name="a8b7c253abd6cd44aa260578a10395697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b7c253abd6cd44aa260578a10395697">&#9670;&#160;</a></span>bmp3_get_sensor_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_sensor_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sensor_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__data.html">bmp3_data</a> *&#160;</td>
          <td class="paramname"><em>comp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the pressure, temperature or both data from the sensor, compensates the data and store it in the <a class="el" href="structbmp3__data.html" title="bmp3 sensor structure which comprises of temperature and pressure data.">bmp3_data</a> structure instance passed by the user. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01428">1428</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1429</span>{</div>
<div class="line"><span class="lineno"> 1430</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>    <span class="comment">/* Array to store the pressure and temperature data read from</span></div>
<div class="line"><span class="lineno"> 1433</span><span class="comment">     * the sensor */</span></div>
<div class="line"><span class="lineno"> 1434</span>    uint8_t reg_data[<a class="code hl_define" href="bmp3__defs_8h.html#a74c070f5d11720785252247604a38dc8">BMP3_LEN_P_T_DATA</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> uncomp_data = { 0 };</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>    <span class="keywordflow">if</span> (comp_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1438</span>    {</div>
<div class="line"><span class="lineno"> 1439</span>        <span class="comment">/* Read the pressure and temperature data from the sensor */</span></div>
<div class="line"><span class="lineno"> 1440</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#aaf4f001410bcdbbb2ecf3c77d4d87e2b">BMP3_REG_DATA</a>, reg_data, <a class="code hl_define" href="bmp3__defs_8h.html#a74c070f5d11720785252247604a38dc8">BMP3_LEN_P_T_DATA</a>, dev);</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1443</span>        {</div>
<div class="line"><span class="lineno"> 1444</span>            <span class="comment">/* Parse the read data from the sensor */</span></div>
<div class="line"><span class="lineno"> 1445</span>            <a class="code hl_function" href="bmp3_8c.html#a20da06fe77b3d93f19a83f6a0cd59b48">parse_sensor_data</a>(reg_data, &amp;uncomp_data);</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>            <span class="comment">/* Compensate the pressure/temperature/both data read</span></div>
<div class="line"><span class="lineno"> 1448</span><span class="comment">             * from the sensor */</span></div>
<div class="line"><span class="lineno"> 1449</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa">compensate_data</a>(sensor_comp, &amp;uncomp_data, comp_data, &amp;dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aa0c2c57cc91b5783cf7398d2b7633232">calib_data</a>);</div>
<div class="line"><span class="lineno"> 1450</span>        }</div>
<div class="line"><span class="lineno"> 1451</span>    }</div>
<div class="line"><span class="lineno"> 1452</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1453</span>    {</div>
<div class="line"><span class="lineno"> 1454</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 1455</span>    }</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1458</span>}</div>
<div class="ttc" id="abmp3_8c_html_a20da06fe77b3d93f19a83f6a0cd59b48"><div class="ttname"><a href="bmp3_8c.html#a20da06fe77b3d93f19a83f6a0cd59b48">parse_sensor_data</a></div><div class="ttdeci">static void parse_sensor_data(const uint8_t *reg_data, struct bmp3_uncomp_data *uncomp_data)</div><div class="ttdoc">This internal API is used to parse the pressure and temperature data and store it in the bmp3_uncomp_...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02273">bmp3.c:2273</a></div></div>
<div class="ttc" id="abmp3_8c_html_a6a344fb812afdfe92d84ad51ddd84faa"><div class="ttname"><a href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa">compensate_data</a></div><div class="ttdeci">static int8_t compensate_data(uint8_t sensor_comp, const struct bmp3_uncomp_data *uncomp_data, struct bmp3_data *comp_data, struct bmp3_calib_data *calib_data)</div><div class="ttdoc">This internal API is used to compensate the pressure or temperature or both the data according to the...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02297">bmp3.c:2297</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a74c070f5d11720785252247604a38dc8"><div class="ttname"><a href="bmp3__defs_8h.html#a74c070f5d11720785252247604a38dc8">BMP3_LEN_P_T_DATA</a></div><div class="ttdeci">#define BMP3_LEN_P_T_DATA</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00442">bmp3_defs.h:442</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aaf4f001410bcdbbb2ecf3c77d4d87e2b"><div class="ttname"><a href="bmp3__defs_8h.html#aaf4f001410bcdbbb2ecf3c77d4d87e2b">BMP3_REG_DATA</a></div><div class="ttdeci">#define BMP3_REG_DATA</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00148">bmp3_defs.h:148</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_aa0c2c57cc91b5783cf7398d2b7633232"><div class="ttname"><a href="structbmp3__dev.html#aa0c2c57cc91b5783cf7398d2b7633232">bmp3_dev::calib_data</a></div><div class="ttdeci">struct bmp3_calib_data calib_data</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00929">bmp3_defs.h:929</a></div></div>
<div class="ttc" id="astructbmp3__uncomp__data_html"><div class="ttname"><a href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a></div><div class="ttdoc">bmp3 sensor structure which comprises of un-compensated temperature and pressure data.</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00881">bmp3_defs.h:882</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00442">BMP3_LEN_P_T_DATA</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00148">BMP3_REG_DATA</a>, <a class="el" href="bmp3__defs_8h_source.html#l00929">bmp3_dev::calib_data</a>, <a class="el" href="bmp3_8c_source.html#l02297">compensate_data()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, and <a class="el" href="bmp3_8c_source.html#l02273">parse_sensor_data()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8c_source.html#l01588">StartSensor_Task()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a8b7c253abd6cd44aa260578a10395697_cgraph.png" border="0" usemap="#abmp3_8c_a8b7c253abd6cd44aa260578a10395697_cgraph" alt=""/></div>
<map name="abmp3_8c_a8b7c253abd6cd44aa260578a10395697_cgraph" id="abmp3_8c_a8b7c253abd6cd44aa260578a10395697_cgraph">
<area shape="rect" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="5,56,162,83"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="220,5,330,32"/>
<area shape="poly" title=" " alt="" coords="136,53,207,34,208,39,138,58"/>
<area shape="rect" href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa" title="This internal API is used to compensate the pressure or temperature or both the data according to the..." alt="" coords="213,56,338,83"/>
<area shape="poly" title=" " alt="" coords="162,67,198,67,198,72,162,72"/>
<area shape="rect" href="bmp3_8c.html#a20da06fe77b3d93f19a83f6a0cd59b48" title="This internal API is used to parse the pressure and temperature data and store it in the bmp3_uncomp_..." alt="" coords="210,107,341,133"/>
<area shape="poly" title=" " alt="" coords="138,81,208,100,207,105,136,86"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="420,5,526,32"/>
<area shape="poly" title=" " alt="" coords="331,16,405,16,405,21,331,21"/>
<area shape="rect" href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f" title="This internal API is used to compensate the pressure data and return the compensated pressure data in..." alt="" coords="398,56,548,83"/>
<area shape="poly" title=" " alt="" coords="338,67,383,67,383,72,338,72"/>
<area shape="rect" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf" title="This internal API is used to compensate the raw temperature data and return the compensated temperatu..." alt="" coords="389,107,557,133"/>
<area shape="poly" title=" " alt="" coords="331,81,404,100,403,105,330,86"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a8b7c253abd6cd44aa260578a10395697_icgraph.png" border="0" usemap="#abmp3_8c_a8b7c253abd6cd44aa260578a10395697_icgraph" alt=""/></div>
<map name="abmp3_8c_a8b7c253abd6cd44aa260578a10395697_icgraph" id="abmp3_8c_a8b7c253abd6cd44aa260578a10395697_icgraph">
<area shape="rect" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="276,5,432,32"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="103,5,228,32"/>
<area shape="poly" title=" " alt="" coords="260,21,228,21,228,16,260,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ae7bbd9da06309195baa80bdc5d8579fe" name="ae7bbd9da06309195baa80bdc5d8579fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7bbd9da06309195baa80bdc5d8579fe">&#9670;&#160;</a></span>bmp3_get_sensor_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_sensor_settings </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API gets the power control(power mode, pressure enable and
temperature enable), over sampling, ODR, filter, interrupt control and advance settings from the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l00953">953</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  954</span>{</div>
<div class="line"><span class="lineno">  955</span>    int8_t rslt;</div>
<div class="line"><span class="lineno">  956</span>    uint8_t settings_data[<a class="code hl_define" href="bmp3__defs_8h.html#ac2da3f2cf646a928da4863d989d1c1a3">BMP3_LEN_GEN_SETT</a>];</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordflow">if</span> (settings != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  959</span>    {</div>
<div class="line"><span class="lineno">  960</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#ad3235e7f3d847a9bdf3dcf69334cbf72">BMP3_REG_INT_CTRL</a>, settings_data, <a class="code hl_define" href="bmp3__defs_8h.html#ac2da3f2cf646a928da4863d989d1c1a3">BMP3_LEN_GEN_SETT</a>, dev);</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno">  963</span>        {</div>
<div class="line"><span class="lineno">  964</span>            <span class="comment">/* Parse the settings data */</span></div>
<div class="line"><span class="lineno">  965</span>            <a class="code hl_function" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2">parse_sett_data</a>(settings_data, settings);</div>
<div class="line"><span class="lineno">  966</span>        }</div>
<div class="line"><span class="lineno">  967</span>    }</div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  969</span>    {</div>
<div class="line"><span class="lineno">  970</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  971</span>    }</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  974</span>}</div>
<div class="ttc" id="abmp3_8c_html_ae5620d53e3c117de27ec7d4217bf7ae2"><div class="ttname"><a href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2">parse_sett_data</a></div><div class="ttdeci">static void parse_sett_data(const uint8_t *reg_data, struct bmp3_settings *settings)</div><div class="ttdoc">This internal API parse the power control(power mode, pressure enable and temperature enable),...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01823">bmp3.c:1823</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ac2da3f2cf646a928da4863d989d1c1a3"><div class="ttname"><a href="bmp3__defs_8h.html#ac2da3f2cf646a928da4863d989d1c1a3">BMP3_LEN_GEN_SETT</a></div><div class="ttdeci">#define BMP3_LEN_GEN_SETT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00443">bmp3_defs.h:443</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ad3235e7f3d847a9bdf3dcf69334cbf72"><div class="ttname"><a href="bmp3__defs_8h.html#ad3235e7f3d847a9bdf3dcf69334cbf72">BMP3_REG_INT_CTRL</a></div><div class="ttdeci">#define BMP3_REG_INT_CTRL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00156">bmp3_defs.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00443">BMP3_LEN_GEN_SETT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00156">BMP3_REG_INT_CTRL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, and <a class="el" href="bmp3_8c_source.html#l01823">parse_sett_data()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae7bbd9da06309195baa80bdc5d8579fe_cgraph.png" border="0" usemap="#abmp3_8c_ae7bbd9da06309195baa80bdc5d8579fe_cgraph" alt=""/></div>
<map name="abmp3_8c_ae7bbd9da06309195baa80bdc5d8579fe_cgraph" id="abmp3_8c_ae7bbd9da06309195baa80bdc5d8579fe_cgraph">
<area shape="rect" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,81,183,108"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="233,31,343,57"/>
<area shape="poly" title=" " alt="" coords="147,78,219,59,220,64,149,83"/>
<area shape="rect" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="231,107,345,133"/>
<area shape="poly" title=" " alt="" coords="183,104,216,108,215,113,183,109"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="422,5,527,32"/>
<area shape="poly" title=" " alt="" coords="343,34,406,25,407,30,344,39"/>
<area shape="rect" href="bmp3_8c.html#a0eac7300e956796b856d5f0279f5850f" title="This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device struct..." alt="" coords="394,56,556,83"/>
<area shape="poly" title=" " alt="" coords="339,103,408,85,409,90,341,109"/>
<area shape="rect" href="bmp3_8c.html#a8fcb87fba39df5da4a471d163e02c84e" title="This internal API parse the interrupt control(output mode, level, latch and data ready) settings and ..." alt="" coords="398,107,551,133"/>
<area shape="poly" title=" " alt="" coords="345,117,383,117,383,123,345,123"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="393,157,556,184"/>
<area shape="poly" title=" " alt="" coords="341,131,409,150,408,155,339,137"/>
<area shape="rect" href="bmp3_8c.html#a6422c146af6af181460f70bf2d373191" title="This internal API parse the power control(power mode, pressure enable and temperature enable) setting..." alt="" coords="395,208,554,235"/>
<area shape="poly" title=" " alt="" coords="306,132,345,163,394,194,408,200,405,205,392,198,342,167,303,136"/>
</map>
</div>

</div>
</div>
<a id="a61fadb14757875e006860607719e47f0" name="a61fadb14757875e006860607719e47f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fadb14757875e006860607719e47f0">&#9670;&#160;</a></span>bmp3_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_get_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sets the fifo_config_1(fifo_mode,
fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en), fifo_config_2(fifo_subsampling, data_select) and int_ctrl(fwtm_en, ffull_en) settings in the sensor. </p>
<pre class="fragment"> @brief This API gets the fifo_config_1(fifo_mode,
 fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en),
 fifo_config_2(fifo_subsampling, data_select) and int_ctrl(fwtm_en, ffull_en)
 settings from the sensor.
&amp;zwj;/
</pre><p> int8_t bmp3_get_fifo_settings(struct bmp3_fifo_settings *fifo_settings, struct bmp3_dev *dev) { int8_t rslt; uint8_t fifo_sett[3]; uint8_t len = 3;</p>
<p>/* Proceed if null check is fine *&zwj;/ if (fifo_settings != NULL) { rslt = bmp3_get_regs(BMP3_REG_FIFO_CONFIG_1, fifo_sett, len, dev);</p>
<p>/* Parse the fifo settings *&zwj;/ parse_fifo_settings(fifo_sett, fifo_settings); } else { rslt = BMP3_E_NULL_PTR; }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API gets the fifo data from the sensor. &zwj;/ int8_t bmp3_get_fifo_data(struct bmp3_fifo_data *fifo,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev) { int8_t rslt; uint16_t fifo_len;</p>
<p>if ((fifo != NULL) &amp;&amp; (fifo_settings != NULL)) { reset_fifo_index(fifo);</p>
<p>/* Get the total number of bytes available in FIFO *&zwj;/ rslt = bmp3_get_fifo_length(&amp;fifo_len, dev);</p>
<p>if (rslt == BMP3_OK) { /* For sensor time frame , add additional overhead bytes *&zwj;/ if (fifo_settings-&gt;time_en == TRUE) { fifo_len = fifo_len + BMP3_SENSORTIME_OVERHEAD_BYTES; }</p>
<p>/* Update the fifo length in the fifo structure *&zwj;/ fifo-&gt;byte_count = fifo_len;</p>
<p>/* Read the fifo data *&zwj;/ rslt = bmp3_get_regs(BMP3_REG_FIFO_DATA, fifo-&gt;buffer, fifo_len, dev); } } else { rslt = BMP3_E_NULL_PTR; }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API sets the fifo watermark length according to the frames count set by the user in the device structure. Refer below for usage. &zwj;/ int8_t bmp3_set_fifo_watermark(const struct bmp3_fifo_data *fifo,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev) { int8_t rslt; uint8_t reg_data[2]; uint8_t reg_addr[2] = { BMP3_REG_FIFO_WM, BMP3_REG_FIFO_WM + 1 }; uint16_t watermark_len;</p>
<p>if ((fifo != NULL) &amp;&amp; (fifo_settings != NULL)) { rslt = convert_frames_to_bytes(&amp;watermark_len, fifo, fifo_settings);</p>
<p>if (rslt == BMP3_OK) { reg_data[0] = <a class="el" href="bmp3__defs_8h.html#a2008ac95d335ba6fc9f071a65ffdb83f">BMP3_GET_LSB(watermark_len)</a>; reg_data[1] = <a class="el" href="bmp3__defs_8h.html#af7c6d2afe1ef5d5611d7d33b1c6e5184">BMP3_GET_MSB(watermark_len)</a> &amp; 0x01; rslt = bmp3_set_regs(reg_addr, reg_data, 2, dev); } } else { rslt = BMP3_E_NULL_PTR; }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API sets the fifo watermark length according to the frames count set by the user in the device structure. Refer below for usage. &zwj;/ int8_t bmp3_get_fifo_watermark(uint16_t *watermark_len, struct bmp3_dev *dev) { int8_t rslt; uint8_t reg_data[2]; uint8_t reg_addr = BMP3_REG_FIFO_WM;</p>
<p>if (watermark_len != NULL) { rslt = bmp3_get_regs(reg_addr, reg_data, 2, dev); if (rslt == BMP3_OK) { *watermark_len = (reg_data[0]) + (reg_data[1] &lt;&lt; 8); } } else { rslt = BMP3_E_NULL_PTR; }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API extracts the temperature and/or pressure data from the FIFO data which is already read from the fifo. &zwj;/ int8_t bmp3_extract_fifo_data(struct bmp3_data *data, struct bmp3_fifo_data *fifo, struct bmp3_dev *dev) { int8_t rslt; uint8_t header; uint8_t parsed_frames = 0; uint8_t t_p_frame; struct <a class="el" href="structbmp3__uncomp__data.html" title="bmp3 sensor structure which comprises of un-compensated temperature and pressure data.">bmp3_uncomp_data</a> uncomp_data = { 0 };</p>
<p>rslt = null_ptr_check(dev);</p>
<p>if ((rslt == BMP3_OK) &amp;&amp; (fifo != NULL) &amp;&amp; (data != NULL)) { uint16_t byte_index = fifo-&gt;start_idx;</p>
<p>while (byte_index &lt; fifo-&gt;byte_count) { get_header_info(&amp;header, fifo-&gt;buffer, &amp;byte_index); t_p_frame = parse_fifo_data_frame(header, fifo, &amp;byte_index, &amp;uncomp_data, &amp;parsed_frames);</p>
<p>/* If the frame is pressure and/or temperature data <em>&zwj;/ if (t_p_frame != FALSE) { /</em> Compensate temperature and pressure data *&zwj;/ rslt = compensate_data(t_p_frame, &amp;uncomp_data, &amp;data[parsed_frames - 1], &amp;dev-&gt;calib_data); } }</p>
<p>/* Check if any frames are parsed in FIFO <em>&zwj;/ if (parsed_frames != 0) { /</em> Update the bytes parsed in the device structure <em>&zwj;/ fifo-&gt;start_idx = byte_index; fifo-&gt;parsed_frames += parsed_frames; } else { /</em> No frames are there to parse. It is time to read the FIFO, if more frames are needed *&zwj;/ fifo-&gt;frame_not_available = TRUE; } } else { rslt = BMP3_E_NULL_PTR; }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API gets the command ready, data ready for pressure and temperature and interrupt (fifo watermark, fifo full, data ready) and error status from the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01204">1204</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1205</span>{</div>
<div class="line"><span class="lineno"> 1206</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>    <span class="keywordflow">if</span> (status != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1209</span>    {</div>
<div class="line"><span class="lineno"> 1210</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967">get_sensor_status</a>(status, dev);</div>
<div class="line"><span class="lineno"> 1211</span> </div>
<div class="line"><span class="lineno"> 1212</span>        <span class="comment">/* Proceed further if the earlier operation is fine */</span></div>
<div class="line"><span class="lineno"> 1213</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1214</span>        {</div>
<div class="line"><span class="lineno"> 1215</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0">get_int_status</a>(status, dev);</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>            <span class="comment">/* Proceed further if the earlier operation is fine */</span></div>
<div class="line"><span class="lineno"> 1218</span>            <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1219</span>            {</div>
<div class="line"><span class="lineno"> 1220</span>                <span class="comment">/* Get the error status */</span></div>
<div class="line"><span class="lineno"> 1221</span>                rslt = <a class="code hl_function" href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7">get_err_status</a>(status, dev);</div>
<div class="line"><span class="lineno"> 1222</span>            }</div>
<div class="line"><span class="lineno"> 1223</span>        }</div>
<div class="line"><span class="lineno"> 1224</span>    }</div>
<div class="line"><span class="lineno"> 1225</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1226</span>    {</div>
<div class="line"><span class="lineno"> 1227</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 1228</span>    }</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1231</span>}</div>
<div class="ttc" id="abmp3_8c_html_a195d7a3d3d58b7eb8ae7fb7001d288e7"><div class="ttname"><a href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7">get_err_status</a></div><div class="ttdeci">static int8_t get_err_status(struct bmp3_status *status, struct bmp3_dev *dev)</div><div class="ttdoc">This API gets the fatal, command and configuration error from the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02945">bmp3.c:2945</a></div></div>
<div class="ttc" id="abmp3_8c_html_a368ebb915fde9c9f35eabd588b1820f0"><div class="ttname"><a href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0">get_int_status</a></div><div class="ttdeci">static int8_t get_int_status(struct bmp3_status *status, struct bmp3_dev *dev)</div><div class="ttdoc">This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02924">bmp3.c:2924</a></div></div>
<div class="ttc" id="abmp3_8c_html_a5c69c0b99515a74ba3a121cc14051967"><div class="ttname"><a href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967">get_sensor_status</a></div><div class="ttdeci">static int8_t get_sensor_status(struct bmp3_status *status, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02898">bmp3.c:2898</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3_8c_source.html#l02945">get_err_status()</a>, <a class="el" href="bmp3_8c_source.html#l02924">get_int_status()</a>, <a class="el" href="bmp3_8c_source.html#l02898">get_sensor_status()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a61fadb14757875e006860607719e47f0_cgraph.png" border="0" usemap="#abmp3_8c_a61fadb14757875e006860607719e47f0_cgraph" alt=""/></div>
<map name="abmp3_8c_a61fadb14757875e006860607719e47f0_cgraph" id="abmp3_8c_a61fadb14757875e006860607719e47f0_cgraph">
<area shape="rect" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="5,56,127,83"/>
<area shape="rect" href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7" title="This API gets the fatal, command and configuration error from the sensor." alt="" coords="187,5,291,32"/>
<area shape="poly" title=" " alt="" coords="114,53,176,34,177,39,115,58"/>
<area shape="rect" href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0" title="This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor." alt="" coords="187,56,290,83"/>
<area shape="poly" title=" " alt="" coords="127,67,171,67,171,72,127,72"/>
<area shape="rect" href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967" title="This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,..." alt="" coords="175,107,303,133"/>
<area shape="poly" title=" " alt="" coords="115,81,177,99,176,104,114,86"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="351,56,461,83"/>
<area shape="poly" title=" " alt="" coords="286,30,346,48,344,53,285,35"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="509,56,615,83"/>
<area shape="poly" title=" " alt="" coords="462,67,494,67,494,72,462,72"/>
<area shape="poly" title=" " alt="" coords="291,67,335,67,335,72,291,72"/>
<area shape="poly" title=" " alt="" coords="285,103,344,85,346,90,286,109"/>
</map>
</div>

</div>
</div>
<a id="aff608ffafb8ebd79b7a0251b75451fba" name="aff608ffafb8ebd79b7a0251b75451fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff608ffafb8ebd79b7a0251b75451fba">&#9670;&#160;</a></span>bmp3_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This internal API converts the no. of frames required by the user to bytes so as to write in the watermark length register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">watermark_len</td><td>: Pointer variable which contains the watermark length. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo</td><td>: Structure instance of <a class="el" href="structbmp3__fifo__data.html" title="bmp3 fifo frame">bmp3_fifo_data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_settings</td><td>: Structure instance of <a class="el" href="structbmp3__fifo__settings.html" title="bmp3 fifo configuration">bmp3_fifo_settings</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail</td></tr>
  </table>
  </dd>
</dl>
<p>This API is the entry point. It performs the selection of I2C/SPI read mechanism according to the selected interface and reads the chip-id and calibration data of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l00738">738</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  739</span>{</div>
<div class="line"><span class="lineno">  740</span>    int8_t rslt;</div>
<div class="line"><span class="lineno">  741</span>    uint8_t chip_id = 0;</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <span class="comment">/* Check for null pointer in the device structure */</span></div>
<div class="line"><span class="lineno">  744</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a>(dev);</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="comment">/* Proceed if null check is fine */</span></div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno">  748</span>    {</div>
<div class="line"><span class="lineno">  749</span>        <span class="comment">/* Read mechanism according to selected interface */</span></div>
<div class="line"><span class="lineno">  750</span>        <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a9ab34ce30f0d4078d0ca93417702ff1d">intf</a> != <a class="code hl_enumvalue" href="bmp3__defs_8h.html#a3d202063e29772e3470b2338644ab05dad72873d32b2c0eaad465b08a17786d91">BMP3_I2C_INTF</a>)</div>
<div class="line"><span class="lineno">  751</span>        {</div>
<div class="line"><span class="lineno">  752</span>            <span class="comment">/* If SPI interface is selected, read extra byte */</span></div>
<div class="line"><span class="lineno">  753</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">dummy_byte</a> = 1;</div>
<div class="line"><span class="lineno">  754</span>        }</div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  756</span>        {</div>
<div class="line"><span class="lineno">  757</span>            <span class="comment">/* If I2C interface is selected, no need to read</span></div>
<div class="line"><span class="lineno">  758</span><span class="comment">             * extra byte */</span></div>
<div class="line"><span class="lineno">  759</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#acbd5975a457d69886cf7fb64dec50e72">dummy_byte</a> = 0;</div>
<div class="line"><span class="lineno">  760</span>        }</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>        <span class="comment">/* Read the chip-id of bmp3 sensor */</span></div>
<div class="line"><span class="lineno">  763</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#aed6af6f4d76a2388beefcdb4354e1c01">BMP3_REG_CHIP_ID</a>, &amp;chip_id, 1, dev);</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>        <span class="comment">/* Proceed if everything is fine until now */</span></div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno">  767</span>        {</div>
<div class="line"><span class="lineno">  768</span>            <span class="comment">/* Check for chip id validity */</span></div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">if</span> ((chip_id == <a class="code hl_define" href="bmp3__defs_8h.html#aa17c4ec4ae892f9d1686e6a38d50f26c">BMP3_CHIP_ID</a>) || (chip_id == <a class="code hl_define" href="bmp3__defs_8h.html#af9fd9aad238a4e992a1a7d70c49cf852">BMP390_CHIP_ID</a>))</div>
<div class="line"><span class="lineno">  770</span>            {</div>
<div class="line"><span class="lineno">  771</span>                dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a924194c1526c9cf6b846ac66c62f8ced">chip_id</a> = chip_id;</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>                <span class="comment">/* Reset the sensor */</span></div>
<div class="line"><span class="lineno">  774</span>                rslt = <a class="code hl_function" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1">bmp3_soft_reset</a>(dev);</div>
<div class="line"><span class="lineno">  775</span>                <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno">  776</span>                {</div>
<div class="line"><span class="lineno">  777</span>                    <span class="comment">/* Read the calibration data */</span></div>
<div class="line"><span class="lineno">  778</span>                    rslt = <a class="code hl_function" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491">get_calib_data</a>(dev);</div>
<div class="line"><span class="lineno">  779</span>                }</div>
<div class="line"><span class="lineno">  780</span>            }</div>
<div class="line"><span class="lineno">  781</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  782</span>            {</div>
<div class="line"><span class="lineno">  783</span>                rslt = <a class="code hl_define" href="bmp3__defs_8h.html#adc651634bc905f7d67754b664981d523">BMP3_E_DEV_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  784</span>            }</div>
<div class="line"><span class="lineno">  785</span>        }</div>
<div class="line"><span class="lineno">  786</span>    }</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  789</span>}</div>
<div class="ttc" id="abmp3_8c_html_a455d1f37d94acad6b4031ca0b3044491"><div class="ttname"><a href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491">get_calib_data</a></div><div class="ttdeci">static int8_t get_calib_data(struct bmp3_dev *dev)</div><div class="ttdoc">This internal API reads the calibration data from the sensor, parse it then compensates it and store ...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01786">bmp3.c:1786</a></div></div>
<div class="ttc" id="abmp3_8c_html_ad83b435b6be380ec33d48b5b84a068b1"><div class="ttname"><a href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1">bmp3_soft_reset</a></div><div class="ttdeci">int8_t bmp3_soft_reset(struct bmp3_dev *dev)</div><div class="ttdoc">This API performs the soft reset of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01263">bmp3.c:1263</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aa17c4ec4ae892f9d1686e6a38d50f26c"><div class="ttname"><a href="bmp3__defs_8h.html#aa17c4ec4ae892f9d1686e6a38d50f26c">BMP3_CHIP_ID</a></div><div class="ttdeci">#define BMP3_CHIP_ID</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00132">bmp3_defs.h:132</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_adc651634bc905f7d67754b664981d523"><div class="ttname"><a href="bmp3__defs_8h.html#adc651634bc905f7d67754b664981d523">BMP3_E_DEV_NOT_FOUND</a></div><div class="ttdeci">#define BMP3_E_DEV_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00267">bmp3_defs.h:267</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aed6af6f4d76a2388beefcdb4354e1c01"><div class="ttname"><a href="bmp3__defs_8h.html#aed6af6f4d76a2388beefcdb4354e1c01">BMP3_REG_CHIP_ID</a></div><div class="ttdeci">#define BMP3_REG_CHIP_ID</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00145">bmp3_defs.h:145</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af9fd9aad238a4e992a1a7d70c49cf852"><div class="ttname"><a href="bmp3__defs_8h.html#af9fd9aad238a4e992a1a7d70c49cf852">BMP390_CHIP_ID</a></div><div class="ttdeci">#define BMP390_CHIP_ID</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00133">bmp3_defs.h:133</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_a924194c1526c9cf6b846ac66c62f8ced"><div class="ttname"><a href="structbmp3__dev.html#a924194c1526c9cf6b846ac66c62f8ced">bmp3_dev::chip_id</a></div><div class="ttdeci">uint8_t chip_id</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00897">bmp3_defs.h:897</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00133">BMP390_CHIP_ID</a>, <a class="el" href="bmp3__defs_8h_source.html#l00132">BMP3_CHIP_ID</a>, <a class="el" href="bmp3__defs_8h_source.html#l00267">BMP3_E_DEV_NOT_FOUND</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00507">BMP3_I2C_INTF</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00145">BMP3_REG_CHIP_ID</a>, <a class="el" href="bmp3_8c_source.html#l01263">bmp3_soft_reset()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00897">bmp3_dev::chip_id</a>, <a class="el" href="bmp3__defs_8h_source.html#l00917">bmp3_dev::dummy_byte</a>, <a class="el" href="bmp3_8c_source.html#l01786">get_calib_data()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00911">bmp3_dev::intf</a>, and <a class="el" href="bmp3_8c_source.html#l02724">null_ptr_check()</a>.</p>

<p class="reference">Referenced by <a class="el" href="utilities_8c_source.html#l00723">init_bmp390_B()</a>, and <a class="el" href="utilities_8c_source.html#l00252">init_bmp390_p()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_cgraph.png" border="0" usemap="#abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_cgraph" alt=""/></div>
<map name="abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_cgraph" id="abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_cgraph">
<area shape="rect" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="5,51,83,77"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="302,25,412,52"/>
<area shape="poly" title=" " alt="" coords="83,58,286,42,286,47,83,64"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="479,25,584,52"/>
<area shape="poly" title=" " alt="" coords="78,48,130,31,209,13,272,4,336,4,417,11,465,19,464,24,416,16,336,9,273,10,210,18,131,36,79,53"/>
<area shape="rect" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1" title="This API performs the soft reset of the sensor." alt="" coords="131,76,249,103"/>
<area shape="poly" title=" " alt="" coords="84,68,116,74,115,79,83,73"/>
<area shape="rect" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="137,127,242,153"/>
<area shape="poly" title=" " alt="" coords="68,76,132,112,142,117,140,122,129,117,66,80"/>
<area shape="poly" title=" " alt="" coords="412,36,463,36,463,41,412,41"/>
<area shape="poly" title=" " alt="" coords="236,73,295,54,296,60,237,78"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="302,76,412,103"/>
<area shape="poly" title=" " alt="" coords="250,87,286,87,286,92,250,92"/>
<area shape="poly" title=" " alt="" coords="405,73,467,54,469,59,406,78"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="464,76,599,103"/>
<area shape="poly" title=" " alt="" coords="412,87,449,87,449,92,412,92"/>
<area shape="poly" title=" " alt="" coords="228,124,247,112,262,100,271,88,280,75,295,62,302,57,305,62,299,66,284,79,275,91,266,103,251,117,230,128"/>
<area shape="rect" href="bmp3_8c.html#a1a9dab11b748936abcec7b712d721ca6" title="This internal API is used to parse the calibration data, compensates it and store it in device struct..." alt="" coords="297,127,416,153"/>
<area shape="poly" title=" " alt="" coords="243,137,282,137,282,143,243,143"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_icgraph.png" border="0" usemap="#abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_icgraph" alt=""/></div>
<map name="abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_icgraph" id="abmp3_8c_aff608ffafb8ebd79b7a0251b75451fba_icgraph">
<area shape="rect" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="258,31,335,57"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,37,210,31,211,26,243,32"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,56,210,62,209,57,242,51"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a47d3b5b195ea0155ff037fdf7f1ad527" name="a47d3b5b195ea0155ff037fdf7f1ad527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47d3b5b195ea0155ff037fdf7f1ad527">&#9670;&#160;</a></span>bmp3_set_op_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_set_op_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sets the power mode of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01350">1350</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1351</span>{</div>
<div class="line"><span class="lineno"> 1352</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1353</span>    uint8_t last_set_mode;</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>    <span class="comment">/* Check for null pointer in the device structure */</span></div>
<div class="line"><span class="lineno"> 1356</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a>(dev);</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>) &amp;&amp; (settings != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><span class="lineno"> 1359</span>    {</div>
<div class="line"><span class="lineno"> 1360</span>        uint8_t curr_mode = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a083f16f7e5ef228ada7957a14320a66b">op_mode</a>;</div>
<div class="line"><span class="lineno"> 1361</span> </div>
<div class="line"><span class="lineno"> 1362</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5">bmp3_get_op_mode</a>(&amp;last_set_mode, dev);</div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>        <span class="comment">/* If the sensor is not in sleep mode put the device to sleep</span></div>
<div class="line"><span class="lineno"> 1365</span><span class="comment">         * mode */</span></div>
<div class="line"><span class="lineno"> 1366</span>        <span class="keywordflow">if</span> ((last_set_mode != <a class="code hl_define" href="bmp3__defs_8h.html#aec5770a2be8913dd8ce8418550f4f5db">BMP3_MODE_SLEEP</a>) &amp;&amp; (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>))</div>
<div class="line"><span class="lineno"> 1367</span>        {</div>
<div class="line"><span class="lineno"> 1368</span>            <span class="comment">/* Device should be put to sleep before transiting to</span></div>
<div class="line"><span class="lineno"> 1369</span><span class="comment">             * forced mode or normal mode */</span></div>
<div class="line"><span class="lineno"> 1370</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0">put_device_to_sleep</a>(dev);</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>            <span class="comment">/* Give some time for device to go into sleep mode */</span></div>
<div class="line"><span class="lineno"> 1373</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aaa2b96147cfca18db010d5a1844ede1a">delay_us</a>(5000, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno"> 1374</span>        }</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>        <span class="comment">/* Set the power mode */</span></div>
<div class="line"><span class="lineno"> 1377</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1378</span>        {</div>
<div class="line"><span class="lineno"> 1379</span>            <span class="keywordflow">if</span> (curr_mode == <a class="code hl_define" href="bmp3__defs_8h.html#afa87e0442708786815dcf129108b60fb">BMP3_MODE_NORMAL</a>)</div>
<div class="line"><span class="lineno"> 1380</span>            {</div>
<div class="line"><span class="lineno"> 1381</span>                <span class="comment">/* Set normal mode and validate</span></div>
<div class="line"><span class="lineno"> 1382</span><span class="comment">                 * necessary settings */</span></div>
<div class="line"><span class="lineno"> 1383</span>                rslt = <a class="code hl_function" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5">set_normal_mode</a>(settings, dev);</div>
<div class="line"><span class="lineno"> 1384</span>            }</div>
<div class="line"><span class="lineno"> 1385</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curr_mode == <a class="code hl_define" href="bmp3__defs_8h.html#ae97f267b3f7b74dd3a9c3bf4b57c9745">BMP3_MODE_FORCED</a>)</div>
<div class="line"><span class="lineno"> 1386</span>            {</div>
<div class="line"><span class="lineno"> 1387</span>                <span class="comment">/* Set forced mode */</span></div>
<div class="line"><span class="lineno"> 1388</span>                rslt = <a class="code hl_function" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3">write_power_mode</a>(settings, dev);</div>
<div class="line"><span class="lineno"> 1389</span>            }</div>
<div class="line"><span class="lineno"> 1390</span>        }</div>
<div class="line"><span class="lineno"> 1391</span>    }</div>
<div class="line"><span class="lineno"> 1392</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1393</span>    {</div>
<div class="line"><span class="lineno"> 1394</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 1395</span>    }</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1398</span>}</div>
<div class="ttc" id="abmp3_8c_html_a0e46cadc4471037934f6291e8544c8e3"><div class="ttname"><a href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3">write_power_mode</a></div><div class="ttdeci">static int8_t write_power_mode(const struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API writes the power mode in the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01716">bmp3.c:1716</a></div></div>
<div class="ttc" id="abmp3_8c_html_a2b913d2a13a0820beb7d1ca325c7b5a5"><div class="ttname"><a href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5">set_normal_mode</a></div><div class="ttdeci">static int8_t set_normal_mode(struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API sets the normal mode in the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01680">bmp3.c:1680</a></div></div>
<div class="ttc" id="abmp3_8c_html_a565abda70f15c7b170f0fa78447a38d0"><div class="ttname"><a href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0">put_device_to_sleep</a></div><div class="ttdeci">static int8_t put_device_to_sleep(struct bmp3_dev *dev)</div><div class="ttdoc">This internal API puts the device to sleep mode.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01743">bmp3.c:1743</a></div></div>
<div class="ttc" id="abmp3_8c_html_aab06f63f2fc075f9d40bd0a16d42fda5"><div class="ttname"><a href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5">bmp3_get_op_mode</a></div><div class="ttdeci">int8_t bmp3_get_op_mode(uint8_t *op_mode, struct bmp3_dev *dev)</div><div class="ttdoc">This API gets the power mode of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01403">bmp3.c:1403</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ae97f267b3f7b74dd3a9c3bf4b57c9745"><div class="ttname"><a href="bmp3__defs_8h.html#ae97f267b3f7b74dd3a9c3bf4b57c9745">BMP3_MODE_FORCED</a></div><div class="ttdeci">#define BMP3_MODE_FORCED</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00177">bmp3_defs.h:177</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aec5770a2be8913dd8ce8418550f4f5db"><div class="ttname"><a href="bmp3__defs_8h.html#aec5770a2be8913dd8ce8418550f4f5db">BMP3_MODE_SLEEP</a></div><div class="ttdeci">#define BMP3_MODE_SLEEP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00176">bmp3_defs.h:176</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_afa87e0442708786815dcf129108b60fb"><div class="ttname"><a href="bmp3__defs_8h.html#afa87e0442708786815dcf129108b60fb">BMP3_MODE_NORMAL</a></div><div class="ttdeci">#define BMP3_MODE_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00178">bmp3_defs.h:178</a></div></div>
<div class="ttc" id="astructbmp3__settings_html_a083f16f7e5ef228ada7957a14320a66b"><div class="ttname"><a href="structbmp3__settings.html#a083f16f7e5ef228ada7957a14320a66b">bmp3_settings::op_mode</a></div><div class="ttdeci">uint8_t op_mode</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00709">bmp3_defs.h:709</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3_8c_source.html#l01403">bmp3_get_op_mode()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00177">BMP3_MODE_FORCED</a>, <a class="el" href="bmp3__defs_8h_source.html#l00178">BMP3_MODE_NORMAL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00176">BMP3_MODE_SLEEP</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00926">bmp3_dev::delay_us</a>, <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3_8c_source.html#l02724">null_ptr_check()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00709">bmp3_settings::op_mode</a>, <a class="el" href="bmp3_8c_source.html#l01743">put_device_to_sleep()</a>, <a class="el" href="bmp3_8c_source.html#l01680">set_normal_mode()</a>, and <a class="el" href="bmp3_8c_source.html#l01716">write_power_mode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="utilities_8c_source.html#l00723">init_bmp390_B()</a>, and <a class="el" href="utilities_8c_source.html#l00252">init_bmp390_p()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_cgraph.png" border="0" usemap="#abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_cgraph" alt=""/></div>
<map name="abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_cgraph" id="abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_cgraph">
<area shape="rect" title="This API sets the power mode of the sensor." alt="" coords="5,168,144,195"/>
<area shape="rect" href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5" title="This API gets the power mode of the sensor." alt="" coords="192,41,330,68"/>
<area shape="poly" title=" " alt="" coords="94,165,226,75,229,79,97,170"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="1006,168,1111,195"/>
<area shape="poly" title=" " alt="" coords="94,193,151,234,236,285,287,309,340,328,396,342,453,347,827,427,971,454,972,455,964,452,907,432,651,349,742,350,812,354,845,351,879,344,915,331,957,310,985,288,1009,261,1043,207,1047,210,1013,264,989,292,959,314,918,336,880,349,846,356,813,359,742,356,656,350,909,427,966,447,977,455,972,459,826,432,452,352,395,347,339,333,285,314,234,290,148,238,91,197"/>
<area shape="rect" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0" title="This internal API puts the device to sleep mode." alt="" coords="384,117,524,144"/>
<area shape="poly" title=" " alt="" coords="143,167,191,160,368,138,369,143,192,165,144,173"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="199,219,323,245"/>
<area shape="poly" title=" " alt="" coords="127,193,195,212,194,217,126,198"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="388,168,519,195"/>
<area shape="poly" title=" " alt="" coords="144,179,373,179,373,184,144,184"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="811,168,922,195"/>
<area shape="poly" title=" " alt="" coords="304,38,388,18,441,9,498,4,558,4,617,11,675,26,728,52,741,64,749,76,755,103,760,130,766,142,776,154,798,167,795,171,773,158,761,145,754,131,750,104,744,78,737,67,725,57,673,31,616,16,557,9,498,9,442,14,389,23,305,43"/>
<area shape="poly" title=" " alt="" coords="922,179,990,179,990,184,922,184"/>
<area shape="poly" title=" " alt="" coords="525,136,727,160,797,169,796,175,726,165,524,141"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="597,67,707,93"/>
<area shape="poly" title=" " alt="" coords="508,114,582,95,583,100,510,119"/>
<area shape="poly" title=" " alt="" coords="708,73,762,72,825,75,893,84,959,103,1001,127,1036,155,1032,159,998,131,957,108,892,89,825,80,761,77,708,78"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="799,117,934,144"/>
<area shape="poly" title=" " alt="" coords="708,90,793,111,791,116,707,96"/>
<area shape="poly" title=" " alt="" coords="323,224,795,185,796,190,324,230"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="378,269,529,312"/>
<area shape="poly" title=" " alt="" coords="308,243,368,262,366,267,306,248"/>
<area shape="poly" title=" " alt="" coords="314,215,385,197,386,202,315,221"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="577,273,727,300"/>
<area shape="poly" title=" " alt="" coords="529,287,562,286,562,291,530,292"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="580,416,724,459"/>
<area shape="poly" title=" " alt="" coords="486,311,611,405,608,409,483,315"/>
<area shape="poly" title=" " alt="" coords="681,270,725,248,823,200,825,204,728,253,683,275"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="785,273,948,300"/>
<area shape="poly" title=" " alt="" coords="727,284,769,284,769,289,727,289"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="775,504,958,531"/>
<area shape="poly" title=" " alt="" coords="699,457,776,490,796,497,795,502,774,495,697,462"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="776,453,956,480"/>
<area shape="poly" title=" " alt="" coords="725,445,761,450,760,455,724,450"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="790,387,942,429"/>
<area shape="poly" title=" " alt="" coords="724,425,774,418,775,423,725,430"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="1016,479,1101,505"/>
<area shape="poly" title=" " alt="" coords="958,503,1001,497,1001,502,959,508"/>
<area shape="poly" title=" " alt="" coords="957,476,1002,482,1001,487,957,481"/>
<area shape="poly" title=" " alt="" coords="519,179,795,179,795,184,519,184"/>
<area shape="poly" title=" " alt="" coords="500,165,528,154,576,127,618,100,621,105,579,132,530,158,502,170"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_icgraph.png" border="0" usemap="#abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_icgraph" alt=""/></div>
<map name="abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_icgraph" id="abmp3_8c_a47d3b5b195ea0155ff037fdf7f1ad527_icgraph">
<area shape="rect" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="ad02d16a9569a75f9df070348eb7cb1fe" name="ad02d16a9569a75f9df070348eb7cb1fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02d16a9569a75f9df070348eb7cb1fe">&#9670;&#160;</a></span>bmp3_set_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_set_regs </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API writes the given data to the register address of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l00844">844</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  845</span>{</div>
<div class="line"><span class="lineno">  846</span>    int8_t rslt;</div>
<div class="line"><span class="lineno">  847</span>    uint8_t temp_buff[len * 2];</div>
<div class="line"><span class="lineno">  848</span>    uint32_t temp_len;</div>
<div class="line"><span class="lineno">  849</span>    uint8_t reg_addr_cnt;</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    <span class="comment">/* Check for null pointer in the device structure */</span></div>
<div class="line"><span class="lineno">  852</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab">null_ptr_check</a>(dev);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">/* Check for arguments validity */</span></div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>) &amp;&amp; (reg_addr != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (reg_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><span class="lineno">  856</span>    {</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">if</span> (len != 0)</div>
<div class="line"><span class="lineno">  858</span>        {</div>
<div class="line"><span class="lineno">  859</span>            temp_buff[0] = reg_data[0];</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>            <span class="comment">/* If interface selected is SPI */</span></div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a9ab34ce30f0d4078d0ca93417702ff1d">intf</a> == <a class="code hl_enumvalue" href="bmp3__defs_8h.html#a3d202063e29772e3470b2338644ab05daa3b60ab66ae4e3f56f2deeb68ad752a9">BMP3_SPI_INTF</a>)</div>
<div class="line"><span class="lineno">  863</span>            {</div>
<div class="line"><span class="lineno">  864</span>                <span class="keywordflow">for</span> (reg_addr_cnt = 0; reg_addr_cnt &lt; len; reg_addr_cnt++)</div>
<div class="line"><span class="lineno">  865</span>                {</div>
<div class="line"><span class="lineno">  866</span>                    reg_addr[reg_addr_cnt] = reg_addr[reg_addr_cnt] &amp; 0x7F;</div>
<div class="line"><span class="lineno">  867</span>                }</div>
<div class="line"><span class="lineno">  868</span>            }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>            <span class="comment">/* Burst write mode */</span></div>
<div class="line"><span class="lineno">  871</span>            <span class="keywordflow">if</span> (len &gt; 1)</div>
<div class="line"><span class="lineno">  872</span>            {</div>
<div class="line"><span class="lineno">  873</span>                <span class="comment">/* Interleave register address w.r.t data for</span></div>
<div class="line"><span class="lineno">  874</span><span class="comment">                 * burst write*/</span></div>
<div class="line"><span class="lineno">  875</span>                <a class="code hl_function" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472">interleave_reg_addr</a>(reg_addr, temp_buff, reg_data, len);</div>
<div class="line"><span class="lineno">  876</span>                temp_len = len * 2;</div>
<div class="line"><span class="lineno">  877</span>            }</div>
<div class="line"><span class="lineno">  878</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  879</span>            {</div>
<div class="line"><span class="lineno">  880</span>                temp_len = len;</div>
<div class="line"><span class="lineno">  881</span>            }</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">intf_rslt</a> = dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a5ffd9caba25c47dc58dcfc8937a310e7">write</a>(reg_addr[0], temp_buff, temp_len, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>            <span class="comment">/* Check for communication error */</span></div>
<div class="line"><span class="lineno">  886</span>            <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a306b45e3ed7c2069e1e3366a594cfe01">intf_rslt</a> != <a class="code hl_define" href="bmp3__defs_8h.html#a2d7d529273007ace7d4f57e6ae5c0a5c">BMP3_INTF_RET_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  887</span>            {</div>
<div class="line"><span class="lineno">  888</span>                rslt = <a class="code hl_define" href="bmp3__defs_8h.html#a71de1df6b91355b5670d26c1910696eb">BMP3_E_COMM_FAIL</a>;</div>
<div class="line"><span class="lineno">  889</span>            }</div>
<div class="line"><span class="lineno">  890</span>        }</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  892</span>        {</div>
<div class="line"><span class="lineno">  893</span>            rslt = <a class="code hl_define" href="bmp3__defs_8h.html#afa7a7808bc7da6d4398dc075bad4f7c2">BMP3_E_INVALID_LEN</a>;</div>
<div class="line"><span class="lineno">  894</span>        }</div>
<div class="line"><span class="lineno">  895</span>    }</div>
<div class="line"><span class="lineno">  896</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  897</span>    {</div>
<div class="line"><span class="lineno">  898</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  899</span>    }</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  902</span>}</div>
<div class="ttc" id="abmp3_8c_html_aa5c65995726d3062cf7e5659cbdc3472"><div class="ttname"><a href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472">interleave_reg_addr</a></div><div class="ttdeci">static void interleave_reg_addr(const uint8_t *reg_addr, uint8_t *temp_buff, const uint8_t *reg_data, uint32_t len)</div><div class="ttdoc">This internal API interleaves the register address between the register data buffer for burst write o...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01807">bmp3.c:1807</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a3d202063e29772e3470b2338644ab05daa3b60ab66ae4e3f56f2deeb68ad752a9"><div class="ttname"><a href="bmp3__defs_8h.html#a3d202063e29772e3470b2338644ab05daa3b60ab66ae4e3f56f2deeb68ad752a9">BMP3_SPI_INTF</a></div><div class="ttdeci">@ BMP3_SPI_INTF</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00505">bmp3_defs.h:505</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_afa7a7808bc7da6d4398dc075bad4f7c2"><div class="ttname"><a href="bmp3__defs_8h.html#afa7a7808bc7da6d4398dc075bad4f7c2">BMP3_E_INVALID_LEN</a></div><div class="ttdeci">#define BMP3_E_INVALID_LEN</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00266">bmp3_defs.h:266</a></div></div>
<div class="ttc" id="astructbmp3__dev_html_a5ffd9caba25c47dc58dcfc8937a310e7"><div class="ttname"><a href="structbmp3__dev.html#a5ffd9caba25c47dc58dcfc8937a310e7">bmp3_dev::write</a></div><div class="ttdeci">bmp3_write_fptr_t write</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00923">bmp3_defs.h:923</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00262">BMP3_E_COMM_FAIL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00266">BMP3_E_INVALID_LEN</a>, <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00124">BMP3_INTF_RET_SUCCESS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00505">BMP3_SPI_INTF</a>, <a class="el" href="bmp3_8c_source.html#l01807">interleave_reg_addr()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00911">bmp3_dev::intf</a>, <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00914">bmp3_dev::intf_rslt</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3_8c_source.html#l02724">null_ptr_check()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00923">bmp3_dev::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01307">bmp3_fifo_flush()</a>, <a class="el" href="bmp3_8c_source.html#l01263">bmp3_soft_reset()</a>, <a class="el" href="bmp3_8c_source.html#l01743">put_device_to_sleep()</a>, <a class="el" href="bmp3_8c_source.html#l02037">set_advance_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01987">set_int_ctrl_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01891">set_pwr_ctrl_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01716">write_power_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_cgraph.png" border="0" usemap="#abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_cgraph" alt=""/></div>
<map name="abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_cgraph" id="abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_cgraph">
<area shape="rect" title="This API writes the given data to the register address of the sensor." alt="" coords="5,31,116,57"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="164,5,298,32"/>
<area shape="poly" title=" " alt="" coords="116,33,148,28,148,34,117,38"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="178,56,284,83"/>
<area shape="poly" title=" " alt="" coords="117,50,163,57,162,62,116,55"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_icgraph.png" border="0" usemap="#abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_icgraph" alt=""/></div>
<map name="abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_icgraph" id="abmp3_8c_ad02d16a9569a75f9df070348eb7cb1fe_icgraph">
<area shape="rect" title="This API writes the given data to the register address of the sensor." alt="" coords="867,183,977,209"/>
<area shape="rect" href="bmp3_8c.html#abe254ed403bc857b64db09c771f6b83e" title="This API performs the soft reset of the sensor." alt="" coords="688,5,801,32"/>
<area shape="poly" title=" " alt="" coords="907,170,872,107,847,74,817,46,798,35,801,30,821,42,851,71,877,104,911,167"/>
<area shape="rect" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1" title="This API performs the soft reset of the sensor." alt="" coords="474,309,592,336"/>
<area shape="poly" title=" " alt="" coords="914,225,900,256,881,291,854,325,820,350,788,364,753,370,718,372,683,369,617,356,566,339,568,334,619,351,683,364,718,367,752,365,786,358,818,346,850,321,876,288,896,254,909,223"/>
<area shape="rect" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0" title="This internal API puts the device to sleep mode." alt="" coords="463,132,603,159"/>
<area shape="poly" title=" " alt="" coords="886,177,854,160,818,148,763,139,706,135,604,139,604,134,706,130,764,133,820,143,856,155,888,172"/>
<area shape="rect" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="670,208,818,235"/>
<area shape="poly" title=" " alt="" coords="852,209,819,213,818,208,851,203"/>
<area shape="rect" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="675,259,814,285"/>
<area shape="poly" title=" " alt="" coords="883,219,820,249,790,261,788,256,818,244,881,214"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="670,309,819,336"/>
<area shape="poly" title=" " alt="" coords="903,223,867,262,820,300,797,311,795,306,818,295,864,258,899,219"/>
<area shape="rect" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="672,157,817,184"/>
<area shape="poly" title=" " alt="" coords="851,189,817,184,818,178,852,183"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="679,56,810,83"/>
<area shape="poly" title=" " alt="" coords="897,173,861,138,818,104,783,86,785,81,820,99,865,134,901,169"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="288,208,366,235"/>
<area shape="poly" title=" " alt="" coords="489,305,355,237,357,233,492,300"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,208,210,235"/>
<area shape="poly" title=" " alt="" coords="273,224,211,224,211,219,273,219"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,157,209,184"/>
<area shape="poly" title=" " alt="" coords="273,208,203,187,204,182,275,203"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,183,55,209"/>
<area shape="poly" title=" " alt="" coords="87,210,54,203,55,198,88,205"/>
<area shape="poly" title=" " alt="" coords="89,187,56,194,55,188,88,182"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,107,396,133"/>
<area shape="poly" title=" " alt="" coords="447,137,397,131,397,126,447,132"/>
<area shape="poly" title=" " alt="" coords="295,145,211,198,189,210,187,205,209,194,292,140"/>
<area shape="poly" title=" " alt="" coords="266,141,205,159,203,154,264,136"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="444,233,622,260"/>
<area shape="poly" title=" " alt="" coords="655,235,622,239,622,233,655,229"/>
<area shape="poly" title=" " alt="" coords="429,255,345,255,258,249,202,238,203,233,258,244,345,250,429,250"/>
<area shape="poly" title=" " alt="" coords="486,229,443,213,396,199,297,182,209,175,210,170,298,177,397,193,445,208,488,224"/>
<area shape="poly" title=" " alt="" coords="660,265,622,260,623,255,660,259"/>
<area shape="poly" title=" " alt="" coords="687,306,669,300,569,263,571,258,671,295,689,301"/>
<area shape="poly" title=" " alt="" coords="689,192,671,199,571,235,569,230,669,193,687,187"/>
<area shape="poly" title=" " alt="" coords="663,63,559,60,501,64,445,72,395,88,354,108,351,104,393,83,444,67,501,58,558,55,664,58"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="471,81,595,108"/>
<area shape="poly" title=" " alt="" coords="664,82,596,90,595,85,664,76"/>
<area shape="poly" title=" " alt="" coords="456,107,397,114,397,109,455,102"/>
</map>
</div>

</div>
</div>
<a id="a0a53f320e8c5a13d452bc24dfc7de58a" name="a0a53f320e8c5a13d452bc24dfc7de58a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a53f320e8c5a13d452bc24dfc7de58a">&#9670;&#160;</a></span>bmp3_set_sensor_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_set_sensor_settings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sets the power control(pressure enable and
temperature enable), over sampling, ODR and filter settings in the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l00909">909</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  910</span>{</div>
<div class="line"><span class="lineno">  911</span>    int8_t rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span> (settings != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  914</span>    {</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a231db33ab9975044f382b163b12f0f94">BMP3_POWER_CNTL</a>, desired_settings))</div>
<div class="line"><span class="lineno">  917</span>        {</div>
<div class="line"><span class="lineno">  918</span>            <span class="comment">/* Set the power control settings */</span></div>
<div class="line"><span class="lineno">  919</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec">set_pwr_ctrl_settings</a>(desired_settings, settings, dev);</div>
<div class="line"><span class="lineno">  920</span>        }</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#af5c5da366b417a968c7e3ee1c37a874e">BMP3_ODR_FILTER</a>, desired_settings))</div>
<div class="line"><span class="lineno">  923</span>        {</div>
<div class="line"><span class="lineno">  924</span>            <span class="comment">/* Set the over sampling, ODR and filter settings */</span></div>
<div class="line"><span class="lineno">  925</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3">set_odr_filter_settings</a>(desired_settings, settings, dev);</div>
<div class="line"><span class="lineno">  926</span>        }</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#ab9176bea4149811dd6b05a3fa2339d96">BMP3_INT_CTRL</a>, desired_settings))</div>
<div class="line"><span class="lineno">  929</span>        {</div>
<div class="line"><span class="lineno">  930</span>            <span class="comment">/* Set the interrupt control settings */</span></div>
<div class="line"><span class="lineno">  931</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48">set_int_ctrl_settings</a>(desired_settings, settings, dev);</div>
<div class="line"><span class="lineno">  932</span>        }</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a26fbc43686d9fe0fa4349cd9c068de85">BMP3_ADV_SETT</a>, desired_settings))</div>
<div class="line"><span class="lineno">  935</span>        {</div>
<div class="line"><span class="lineno">  936</span>            <span class="comment">/* Set the advance settings */</span></div>
<div class="line"><span class="lineno">  937</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a">set_advance_settings</a>(desired_settings, settings, dev);</div>
<div class="line"><span class="lineno">  938</span>        }</div>
<div class="line"><span class="lineno">  939</span>    }</div>
<div class="line"><span class="lineno">  940</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  941</span>    {</div>
<div class="line"><span class="lineno">  942</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  943</span>    }</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  946</span>}</div>
<div class="ttc" id="abmp3_8c_html_a072e5dd96a990f200b803e2171b9683a"><div class="ttname"><a href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a">set_advance_settings</a></div><div class="ttdeci">static int8_t set_advance_settings(uint32_t desired_settings, const struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02037">bmp3.c:2037</a></div></div>
<div class="ttc" id="abmp3_8c_html_a0b42270b60c1b36ff881d3752ae477ec"><div class="ttname"><a href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec">set_pwr_ctrl_settings</a></div><div class="ttdeci">static int8_t set_pwr_ctrl_settings(uint32_t desired_settings, const struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API sets the pressure enable and temperature enable settings of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01891">bmp3.c:1891</a></div></div>
<div class="ttc" id="abmp3_8c_html_aa56ad91f72c293cfac24a7ec7c944e87"><div class="ttname"><a href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a></div><div class="ttdeci">static uint8_t are_settings_changed(uint32_t sub_settings, uint32_t settings)</div><div class="ttdoc">This internal API is used to identify the settings which the user wants to modify in the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02702">bmp3.c:2702</a></div></div>
<div class="ttc" id="abmp3_8c_html_ab139240281afcb1f040efb009f945a48"><div class="ttname"><a href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48">set_int_ctrl_settings</a></div><div class="ttdeci">static int8_t set_int_ctrl_settings(uint32_t desired_settings, const struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01987">bmp3.c:1987</a></div></div>
<div class="ttc" id="abmp3_8c_html_acb43446db76a5e581b68fb613c129de3"><div class="ttname"><a href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3">set_odr_filter_settings</a></div><div class="ttdeci">static int8_t set_odr_filter_settings(uint32_t desired_settings, struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01928">bmp3.c:1928</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a231db33ab9975044f382b163b12f0f94"><div class="ttname"><a href="bmp3__defs_8h.html#a231db33ab9975044f382b163b12f0f94">BMP3_POWER_CNTL</a></div><div class="ttdeci">#define BMP3_POWER_CNTL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00450">bmp3_defs.h:450</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a26fbc43686d9fe0fa4349cd9c068de85"><div class="ttname"><a href="bmp3__defs_8h.html#a26fbc43686d9fe0fa4349cd9c068de85">BMP3_ADV_SETT</a></div><div class="ttdeci">#define BMP3_ADV_SETT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00459">bmp3_defs.h:459</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ab9176bea4149811dd6b05a3fa2339d96"><div class="ttname"><a href="bmp3__defs_8h.html#ab9176bea4149811dd6b05a3fa2339d96">BMP3_INT_CTRL</a></div><div class="ttdeci">#define BMP3_INT_CTRL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00456">bmp3_defs.h:456</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af5c5da366b417a968c7e3ee1c37a874e"><div class="ttname"><a href="bmp3__defs_8h.html#af5c5da366b417a968c7e3ee1c37a874e">BMP3_ODR_FILTER</a></div><div class="ttdeci">#define BMP3_ODR_FILTER</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00453">bmp3_defs.h:453</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l02702">are_settings_changed()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00459">BMP3_ADV_SETT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00456">BMP3_INT_CTRL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00453">BMP3_ODR_FILTER</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00450">BMP3_POWER_CNTL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3_8c_source.html#l02037">set_advance_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01987">set_int_ctrl_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01891">set_pwr_ctrl_settings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="utilities_8c_source.html#l00723">init_bmp390_B()</a>, and <a class="el" href="utilities_8c_source.html#l00252">init_bmp390_p()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_cgraph.png" border="0" usemap="#abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_cgraph" alt=""/></div>
<map name="abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_cgraph" id="abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_cgraph">
<area shape="rect" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="5,96,183,123"/>
<area shape="rect" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87" title="This internal API is used to identify the settings which the user wants to modify in the sensor." alt="" coords="428,5,576,32"/>
<area shape="poly" title=" " alt="" coords="112,93,163,60,196,44,230,31,276,20,323,14,413,11,413,16,324,19,277,26,231,36,198,49,166,65,115,98"/>
<area shape="rect" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="231,45,380,72"/>
<area shape="poly" title=" " alt="" coords="152,93,231,74,232,79,154,98"/>
<area shape="rect" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="236,96,374,123"/>
<area shape="poly" title=" " alt="" coords="183,107,221,107,221,112,183,112"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="231,197,380,224"/>
<area shape="poly" title=" " alt="" coords="119,121,169,151,232,183,246,189,244,194,230,188,167,156,116,126"/>
<area shape="rect" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="233,147,378,173"/>
<area shape="poly" title=" " alt="" coords="154,121,232,140,231,145,152,126"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="447,128,557,155"/>
<area shape="poly" title=" " alt="" coords="354,70,381,82,405,98,429,114,442,119,440,124,427,118,403,102,379,86,352,75"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="447,77,557,104"/>
<area shape="poly" title=" " alt="" coords="381,68,432,77,431,82,380,73"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="663,107,769,133"/>
<area shape="poly" title=" " alt="" coords="558,133,648,124,648,129,558,138"/>
<area shape="poly" title=" " alt="" coords="558,96,648,108,648,113,558,101"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="649,56,783,83"/>
<area shape="poly" title=" " alt="" coords="558,83,633,75,634,80,558,88"/>
<area shape="poly" title=" " alt="" coords="376,118,432,127,431,133,375,123"/>
<area shape="poly" title=" " alt="" coords="375,100,431,95,432,100,375,105"/>
<area shape="poly" title=" " alt="" coords="362,195,378,183,390,169,397,155,403,127,408,96,415,80,426,64,456,38,459,42,430,67,419,83,413,98,408,128,402,157,395,172,382,187,365,199"/>
<area shape="poly" title=" " alt="" coords="347,194,379,183,427,164,445,158,447,163,429,169,381,188,349,199"/>
<area shape="poly" title=" " alt="" coords="359,194,378,183,394,167,402,150,410,132,426,114,433,109,436,114,430,118,414,135,406,152,398,170,382,187,361,199"/>
<area shape="rect" href="bmp3_8c.html#a4a81cd7c079dab09de2ce6cf7bc84ea4" title="This internal API fills the register address and register data of the the filter settings for burst w..." alt="" coords="453,245,551,272"/>
<area shape="poly" title=" " alt="" coords="363,222,439,241,437,246,362,227"/>
<area shape="rect" href="bmp3_8c.html#ace3c1c1a6176d94e747c1a958d09e6f9" title="This internal API fills the register address and register data of the the ODR settings for burst writ..." alt="" coords="456,296,548,323"/>
<area shape="poly" title=" " alt="" coords="328,222,373,251,429,282,443,288,441,292,427,286,371,256,325,227"/>
<area shape="rect" href="bmp3_8c.html#a3de8c70c56e9a69d09c48d25730f64e3" title="This internal API fills the register address and register data of the the over sampling settings for ..." alt="" coords="456,347,548,373"/>
<area shape="poly" title=" " alt="" coords="319,223,363,276,395,306,429,332,443,340,441,345,427,337,391,310,359,279,315,226"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="430,179,574,221"/>
<area shape="poly" title=" " alt="" coords="380,204,414,202,415,207,381,209"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="624,208,808,235"/>
<area shape="poly" title=" " alt="" coords="575,205,609,208,609,213,575,210"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="626,157,806,184"/>
<area shape="poly" title=" " alt="" coords="575,187,610,183,611,188,575,193"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="640,259,792,301"/>
<area shape="poly" title=" " alt="" coords="560,219,625,244,642,250,640,255,623,249,558,224"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="856,183,940,209"/>
<area shape="poly" title=" " alt="" coords="808,206,840,201,840,207,808,211"/>
<area shape="poly" title=" " alt="" coords="807,181,840,185,840,191,806,186"/>
<area shape="poly" title=" " alt="" coords="378,150,431,145,432,151,379,156"/>
<area shape="poly" title=" " alt="" coords="347,144,379,132,427,114,445,107,447,112,429,118,381,137,349,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_icgraph.png" border="0" usemap="#abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_icgraph" alt=""/></div>
<map name="abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_icgraph" id="abmp3_8c_a0a53f320e8c5a13d452bc24dfc7de58a_icgraph">
<area shape="rect" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="ad83b435b6be380ec33d48b5b84a068b1" name="ad83b435b6be380ec33d48b5b84a068b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83b435b6be380ec33d48b5b84a068b1">&#9670;&#160;</a></span>bmp3_soft_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp3_soft_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API performs the soft reset of the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01263">1263</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1264</span>{</div>
<div class="line"><span class="lineno"> 1265</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1266</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a25b43132cb39fc610fb7879ef7c58f0c">BMP3_REG_CMD</a>;</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    <span class="comment">/* 0xB6 is the soft reset command */</span></div>
<div class="line"><span class="lineno"> 1269</span>    uint8_t soft_rst_cmd = <a class="code hl_define" href="bmp3__defs_8h.html#ab47bfb384e3fafe3f775eb79f5fdf431">BMP3_SOFT_RESET</a>;</div>
<div class="line"><span class="lineno"> 1270</span>    uint8_t cmd_rdy_status;</div>
<div class="line"><span class="lineno"> 1271</span>    uint8_t cmd_err_status;</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>    <span class="comment">/* Check for command ready status */</span></div>
<div class="line"><span class="lineno"> 1274</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a7f0cdaf87ebb6c453b7587a196f78a14">BMP3_REG_SENS_STATUS</a>, &amp;cmd_rdy_status, 1, dev);</div>
<div class="line"><span class="lineno"> 1275</span> </div>
<div class="line"><span class="lineno"> 1276</span>    <span class="comment">/* Device is ready to accept new command */</span></div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keywordflow">if</span> ((cmd_rdy_status &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a8c158a495bfdc04f20d5f9dccf517c1c">BMP3_CMD_RDY</a>) &amp;&amp; (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>))</div>
<div class="line"><span class="lineno"> 1278</span>    {</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="comment">/* Write the soft reset command in the sensor */</span></div>
<div class="line"><span class="lineno"> 1280</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;soft_rst_cmd, 1, dev);</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>        <span class="comment">/* Proceed if everything is fine until now */</span></div>
<div class="line"><span class="lineno"> 1283</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1284</span>        {</div>
<div class="line"><span class="lineno"> 1285</span>            <span class="comment">/* Wait for 2 ms */</span></div>
<div class="line"><span class="lineno"> 1286</span>            dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aaa2b96147cfca18db010d5a1844ede1a">delay_us</a>(2000, dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a>);</div>
<div class="line"><span class="lineno"> 1287</span> </div>
<div class="line"><span class="lineno"> 1288</span>            <span class="comment">/* Read for command error status */</span></div>
<div class="line"><span class="lineno"> 1289</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#af63bb8bbec3bb41e07bd59a6c28b4c21">BMP3_REG_ERR</a>, &amp;cmd_err_status, 1, dev);</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>            <span class="comment">/* check for command error status */</span></div>
<div class="line"><span class="lineno"> 1292</span>            <span class="keywordflow">if</span> ((cmd_err_status &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a25b43132cb39fc610fb7879ef7c58f0c">BMP3_REG_CMD</a>) || (rslt != <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>))</div>
<div class="line"><span class="lineno"> 1293</span>            {</div>
<div class="line"><span class="lineno"> 1294</span>                <span class="comment">/* Command not written hence return</span></div>
<div class="line"><span class="lineno"> 1295</span><span class="comment">                 * error */</span></div>
<div class="line"><span class="lineno"> 1296</span>                rslt = <a class="code hl_define" href="bmp3__defs_8h.html#afda2c03a206c0b5fbd1e6a47e43b2c1a">BMP3_E_CMD_EXEC_FAILED</a>;</div>
<div class="line"><span class="lineno"> 1297</span>            }</div>
<div class="line"><span class="lineno"> 1298</span>        }</div>
<div class="line"><span class="lineno"> 1299</span>    }</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1302</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_ab47bfb384e3fafe3f775eb79f5fdf431"><div class="ttname"><a href="bmp3__defs_8h.html#ab47bfb384e3fafe3f775eb79f5fdf431">BMP3_SOFT_RESET</a></div><div class="ttdeci">#define BMP3_SOFT_RESET</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00252">bmp3_defs.h:252</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00171">BMP3_CMD_RDY</a>, <a class="el" href="bmp3__defs_8h_source.html#l00264">BMP3_E_CMD_EXEC_FAILED</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00163">BMP3_REG_CMD</a>, <a class="el" href="bmp3__defs_8h_source.html#l00146">BMP3_REG_ERR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00147">BMP3_REG_SENS_STATUS</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00252">BMP3_SOFT_RESET</a>, <a class="el" href="bmp3__defs_8h_source.html#l00926">bmp3_dev::delay_us</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00738">bmp3_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_cgraph.png" border="0" usemap="#abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_cgraph" alt=""/></div>
<map name="abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_cgraph" id="abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_cgraph">
<area shape="rect" title="This API performs the soft reset of the sensor." alt="" coords="5,31,124,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="172,5,282,32"/>
<area shape="poly" title=" " alt="" coords="124,32,156,27,157,32,124,37"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="172,56,282,83"/>
<area shape="poly" title=" " alt="" coords="124,51,157,56,156,61,124,56"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="344,5,450,32"/>
<area shape="poly" title=" " alt="" coords="283,16,329,16,329,21,283,21"/>
<area shape="poly" title=" " alt="" coords="274,53,335,34,336,39,275,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="330,56,464,83"/>
<area shape="poly" title=" " alt="" coords="283,67,314,67,314,72,283,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_icgraph.png" border="0" usemap="#abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_icgraph" alt=""/></div>
<map name="abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_icgraph" id="abmp3_8c_ad83b435b6be380ec33d48b5b84a068b1_icgraph">
<area shape="rect" title="This API performs the soft reset of the sensor." alt="" coords="383,31,502,57"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="258,31,335,57"/>
<area shape="poly" title=" " alt="" coords="368,47,336,47,336,41,368,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,37,210,31,211,26,243,32"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,56,210,62,209,57,242,51"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="ae863eb025f3f05bea233fcc92c75a28d" name="ae863eb025f3f05bea233fcc92c75a28d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae863eb025f3f05bea233fcc92c75a28d">&#9670;&#160;</a></span>calculate_press_meas_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t calculate_press_meas_time </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API calculates the pressure measurement duration of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pressure measurement time </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Pressure</td><td>measurement time in microseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02153">2153</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2154</span>{</div>
<div class="line"><span class="lineno"> 2155</span>    uint32_t press_meas_t;</div>
<div class="line"><span class="lineno"> 2156</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> odr_filter = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>;</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span><span class="preprocessor">#ifdef BMP3_FLOAT_COMPENSATION</span></div>
<div class="line"><span class="lineno"> 2159</span>    <span class="keywordtype">double</span> base = 2.0;</div>
<div class="line"><span class="lineno"> 2160</span>    <span class="keywordtype">float</span> partial_out;</div>
<div class="line"><span class="lineno"> 2161</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2162</span>    uint8_t base = 2;</div>
<div class="line"><span class="lineno"> 2163</span>    uint32_t partial_out;</div>
<div class="line"><span class="lineno"> 2164</span><span class="preprocessor">#endif </span><span class="comment">/* BMP3_FLOAT_COMPENSATION */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2165</span>    partial_out = <a class="code hl_function" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3">pow_bmp3</a>(base, odr_filter.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a3973292431df56f2b563838c1f39b97d">press_os</a>);</div>
<div class="line"><span class="lineno"> 2166</span>    press_meas_t = (uint32_t)(<a class="code hl_define" href="bmp3__defs_8h.html#ad5602abdbb14d7a3ef5d9319385a91c4">BMP3_SETTLE_TIME_PRESS</a> + partial_out * <a class="code hl_define" href="bmp3__defs_8h.html#a6d0a13a7527bfee1a45177cb758a367b">BMP3_ADC_CONV_TIME</a>);</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>    <span class="comment">/* Output in microseconds */</span></div>
<div class="line"><span class="lineno"> 2169</span>    <span class="keywordflow">return</span> press_meas_t;</div>
<div class="line"><span class="lineno"> 2170</span>}</div>
<div class="ttc" id="abmp3_8c_html_aad90cd219d0ff052e613f123f25a79e3"><div class="ttname"><a href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3">pow_bmp3</a></div><div class="ttdeci">static uint32_t pow_bmp3(uint8_t base, uint8_t power)</div><div class="ttdoc">This internal API is used to calculate the power functionality.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02683">bmp3.c:2683</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a6d0a13a7527bfee1a45177cb758a367b"><div class="ttname"><a href="bmp3__defs_8h.html#a6d0a13a7527bfee1a45177cb758a367b">BMP3_ADC_CONV_TIME</a></div><div class="ttdeci">#define BMP3_ADC_CONV_TIME</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00142">bmp3_defs.h:142</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ad5602abdbb14d7a3ef5d9319385a91c4"><div class="ttname"><a href="bmp3__defs_8h.html#ad5602abdbb14d7a3ef5d9319385a91c4">BMP3_SETTLE_TIME_PRESS</a></div><div class="ttdeci">#define BMP3_SETTLE_TIME_PRESS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00136">bmp3_defs.h:136</a></div></div>
<div class="ttc" id="astructbmp3__odr__filter__settings_html"><div class="ttname"><a href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a></div><div class="ttdoc">bmp3 odr and filter settings</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00601">bmp3_defs.h:602</a></div></div>
<div class="ttc" id="astructbmp3__odr__filter__settings_html_a3973292431df56f2b563838c1f39b97d"><div class="ttname"><a href="structbmp3__odr__filter__settings.html#a3973292431df56f2b563838c1f39b97d">bmp3_odr_filter_settings::press_os</a></div><div class="ttdeci">uint8_t press_os</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00604">bmp3_defs.h:604</a></div></div>
<div class="ttc" id="astructbmp3__settings_html_ad5a0340fef9bb40b6129385ce843e56c"><div class="ttname"><a href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">bmp3_settings::odr_filter</a></div><div class="ttdeci">struct bmp3_odr_filter_settings odr_filter</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00718">bmp3_defs.h:718</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00142">BMP3_ADC_CONV_TIME</a>, <a class="el" href="bmp3__defs_8h_source.html#l00136">BMP3_SETTLE_TIME_PRESS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, <a class="el" href="bmp3_8c_source.html#l02683">pow_bmp3()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00604">bmp3_odr_filter_settings::press_os</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02090">validate_osr_and_odr_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_cgraph.png" border="0" usemap="#abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_cgraph" alt=""/></div>
<map name="abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_cgraph" id="abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_cgraph">
<area shape="rect" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="5,5,189,32"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="237,5,321,32"/>
<area shape="poly" title=" " alt="" coords="189,16,221,16,221,21,189,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_icgraph.png" border="0" usemap="#abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_icgraph" alt=""/></div>
<map name="abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_icgraph" id="abmp3_8c_ae863eb025f3f05bea233fcc92c75a28d_icgraph">
<area shape="rect" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="1047,35,1231,61"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="855,27,999,69"/>
<area shape="poly" title=" " alt="" coords="1032,51,1000,51,1000,45,1032,45"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="657,5,806,32"/>
<area shape="poly" title=" " alt="" coords="839,38,806,32,807,27,840,32"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="656,56,807,99"/>
<area shape="poly" title=" " alt="" coords="840,64,808,69,807,63,839,58"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,8,435,35"/>
<area shape="poly" title=" " alt="" coords="641,22,436,23,436,18,641,17"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,8,210,35"/>
<area shape="poly" title=" " alt="" coords="243,24,211,24,211,19,243,19"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,59,209,85"/>
<area shape="poly" title=" " alt="" coords="280,42,210,61,209,55,278,37"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,33,55,60"/>
<area shape="poly" title=" " alt="" coords="88,38,55,44,54,39,87,33"/>
<area shape="poly" title=" " alt="" coords="88,61,55,54,56,49,89,56"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="483,60,608,87"/>
<area shape="poly" title=" " alt="" coords="640,78,608,77,608,72,641,73"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="278,59,416,85"/>
<area shape="poly" title=" " alt="" coords="468,75,416,75,416,70,468,70"/>
<area shape="poly" title=" " alt="" coords="278,57,209,38,210,33,280,51"/>
<area shape="poly" title=" " alt="" coords="262,75,209,75,209,69,262,69"/>
</map>
</div>

</div>
</div>
<a id="ad7d2decc3baee2641dbc98728dfdad88" name="ad7d2decc3baee2641dbc98728dfdad88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d2decc3baee2641dbc98728dfdad88">&#9670;&#160;</a></span>calculate_temp_meas_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t calculate_temp_meas_time </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API calculates the temperature measurement duration of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Temperature measurement time </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Temperature</td><td>measurement time in microseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02176">2176</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2177</span>{</div>
<div class="line"><span class="lineno"> 2178</span>    uint32_t temp_meas_t;</div>
<div class="line"><span class="lineno"> 2179</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> odr_filter = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>;</div>
<div class="line"><span class="lineno"> 2180</span> </div>
<div class="line"><span class="lineno"> 2181</span><span class="preprocessor">#ifdef BMP3_FLOAT_COMPENSATION</span></div>
<div class="line"><span class="lineno"> 2182</span>    <span class="keywordtype">double</span> base = 2.0;</div>
<div class="line"><span class="lineno"> 2183</span>    <span class="keywordtype">float</span> partial_out;</div>
<div class="line"><span class="lineno"> 2184</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2185</span>    uint8_t base = 2;</div>
<div class="line"><span class="lineno"> 2186</span>    uint32_t partial_out;</div>
<div class="line"><span class="lineno"> 2187</span><span class="preprocessor">#endif </span><span class="comment">/* BMP3_FLOAT_COMPENSATION */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2188</span>    partial_out = <a class="code hl_function" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3">pow_bmp3</a>(base, odr_filter.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a107585c84a2fe539c98ea86220b227cf">temp_os</a>);</div>
<div class="line"><span class="lineno"> 2189</span>    temp_meas_t = (uint32_t)(<a class="code hl_define" href="bmp3__defs_8h.html#a5e7b15e5c8ae24cad5380de465ed06f9">BMP3_SETTLE_TIME_TEMP</a> + partial_out * <a class="code hl_define" href="bmp3__defs_8h.html#a6d0a13a7527bfee1a45177cb758a367b">BMP3_ADC_CONV_TIME</a>);</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>    <span class="comment">/* Output in uint32_t */</span></div>
<div class="line"><span class="lineno"> 2192</span>    <span class="keywordflow">return</span> temp_meas_t;</div>
<div class="line"><span class="lineno"> 2193</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a5e7b15e5c8ae24cad5380de465ed06f9"><div class="ttname"><a href="bmp3__defs_8h.html#a5e7b15e5c8ae24cad5380de465ed06f9">BMP3_SETTLE_TIME_TEMP</a></div><div class="ttdeci">#define BMP3_SETTLE_TIME_TEMP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00139">bmp3_defs.h:139</a></div></div>
<div class="ttc" id="astructbmp3__odr__filter__settings_html_a107585c84a2fe539c98ea86220b227cf"><div class="ttname"><a href="structbmp3__odr__filter__settings.html#a107585c84a2fe539c98ea86220b227cf">bmp3_odr_filter_settings::temp_os</a></div><div class="ttdeci">uint8_t temp_os</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00607">bmp3_defs.h:607</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00142">BMP3_ADC_CONV_TIME</a>, <a class="el" href="bmp3__defs_8h_source.html#l00139">BMP3_SETTLE_TIME_TEMP</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, <a class="el" href="bmp3_8c_source.html#l02683">pow_bmp3()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00607">bmp3_odr_filter_settings::temp_os</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02090">validate_osr_and_odr_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_cgraph.png" border="0" usemap="#abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_cgraph" alt=""/></div>
<map name="abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_cgraph" id="abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_cgraph">
<area shape="rect" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="5,5,186,32"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="234,5,318,32"/>
<area shape="poly" title=" " alt="" coords="186,16,218,16,218,21,186,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_icgraph.png" border="0" usemap="#abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_icgraph" alt=""/></div>
<map name="abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_icgraph" id="abmp3_8c_ad7d2decc3baee2641dbc98728dfdad88_icgraph">
<area shape="rect" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="1047,35,1228,61"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="855,27,999,69"/>
<area shape="poly" title=" " alt="" coords="1032,51,1000,51,1000,45,1032,45"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="657,5,806,32"/>
<area shape="poly" title=" " alt="" coords="839,38,806,32,807,27,840,32"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="656,56,807,99"/>
<area shape="poly" title=" " alt="" coords="840,64,808,69,807,63,839,58"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,8,435,35"/>
<area shape="poly" title=" " alt="" coords="641,22,436,23,436,18,641,17"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,8,210,35"/>
<area shape="poly" title=" " alt="" coords="243,24,211,24,211,19,243,19"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,59,209,85"/>
<area shape="poly" title=" " alt="" coords="280,42,210,61,209,55,278,37"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,33,55,60"/>
<area shape="poly" title=" " alt="" coords="88,38,55,44,54,39,87,33"/>
<area shape="poly" title=" " alt="" coords="88,61,55,54,56,49,89,56"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="483,60,608,87"/>
<area shape="poly" title=" " alt="" coords="640,78,608,77,608,72,641,73"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="278,59,416,85"/>
<area shape="poly" title=" " alt="" coords="468,75,416,75,416,70,468,70"/>
<area shape="poly" title=" " alt="" coords="278,57,209,38,210,33,280,51"/>
<area shape="poly" title=" " alt="" coords="262,75,209,75,209,69,262,69"/>
</map>
</div>

</div>
</div>
<a id="a6a344fb812afdfe92d84ad51ddd84faa" name="a6a344fb812afdfe92d84ad51ddd84faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a344fb812afdfe92d84ad51ddd84faa">&#9670;&#160;</a></span>compensate_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t compensate_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sensor_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *&#160;</td>
          <td class="paramname"><em>uncomp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__data.html">bmp3_data</a> *&#160;</td>
          <td class="paramname"><em>comp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *&#160;</td>
          <td class="paramname"><em>calib_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to compensate the pressure or temperature or both the data according to the component selected by the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_comp</td><td>: Used to select pressure or temperature. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uncomp_data</td><td>: Contains the uncompensated pressure and temperature data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">comp_data</td><td>: Contains the compensated pressure and temperature data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">calib_data</td><td>: Pointer to the calibration data structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02297">2297</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2301</span>{</div>
<div class="line"><span class="lineno"> 2302</span>    int8_t rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno"> 2303</span> </div>
<div class="line"><span class="lineno"> 2304</span>    <span class="keywordflow">if</span> ((uncomp_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (comp_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (calib_data != <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><span class="lineno"> 2305</span>    {</div>
<div class="line"><span class="lineno"> 2306</span>        <span class="comment">/* If pressure and temperature component is selected */</span></div>
<div class="line"><span class="lineno"> 2307</span>        <span class="keywordflow">if</span> (sensor_comp == <a class="code hl_define" href="bmp3__defs_8h.html#ab6b9e27977a4f9b87357e65c88a045b4">BMP3_PRESS_TEMP</a>)</div>
<div class="line"><span class="lineno"> 2308</span>        {</div>
<div class="line"><span class="lineno"> 2309</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2310</span><span class="comment">             * NOTE : Temperature compensation must be done first.</span></div>
<div class="line"><span class="lineno"> 2311</span><span class="comment">             * Followed by pressure compensation</span></div>
<div class="line"><span class="lineno"> 2312</span><span class="comment">             * Compensated temperature updated in calib structure,</span></div>
<div class="line"><span class="lineno"> 2313</span><span class="comment">             * is needed for pressure calculation</span></div>
<div class="line"><span class="lineno"> 2314</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2315</span> </div>
<div class="line"><span class="lineno"> 2316</span>            <span class="comment">/* Compensate pressure and temperature data */</span></div>
<div class="line"><span class="lineno"> 2317</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf">compensate_temperature</a>(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">temperature</a>, uncomp_data, calib_data);</div>
<div class="line"><span class="lineno"> 2318</span> </div>
<div class="line"><span class="lineno"> 2319</span>            <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2320</span>            {</div>
<div class="line"><span class="lineno"> 2321</span>                rslt = <a class="code hl_function" href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f">compensate_pressure</a>(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#ae12b796c80f6c1b6c72a5ff6782f4d84">pressure</a>, uncomp_data, calib_data);</div>
<div class="line"><span class="lineno"> 2322</span>            }</div>
<div class="line"><span class="lineno"> 2323</span>        }</div>
<div class="line"><span class="lineno"> 2324</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sensor_comp == <a class="code hl_define" href="bmp3__defs_8h.html#a0bc291d86e14260388098c461c49b37e">BMP3_PRESS</a>)</div>
<div class="line"><span class="lineno"> 2325</span>        {</div>
<div class="line"><span class="lineno"> 2326</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2327</span><span class="comment">             * NOTE : Temperature compensation must be done first.</span></div>
<div class="line"><span class="lineno"> 2328</span><span class="comment">             * Followed by pressure compensation</span></div>
<div class="line"><span class="lineno"> 2329</span><span class="comment">             * Compensated temperature updated in calib structure,</span></div>
<div class="line"><span class="lineno"> 2330</span><span class="comment">             * is needed for pressure calculation.</span></div>
<div class="line"><span class="lineno"> 2331</span><span class="comment">             * As only pressure is enabled in &#39;sensor_comp&#39;, after calculating</span></div>
<div class="line"><span class="lineno"> 2332</span><span class="comment">             * compensated temperature, assign it to zero.</span></div>
<div class="line"><span class="lineno"> 2333</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2334</span>            (void)<a class="code hl_function" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf">compensate_temperature</a>(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">temperature</a>, uncomp_data, calib_data);</div>
<div class="line"><span class="lineno"> 2335</span>            comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">temperature</a> = 0;</div>
<div class="line"><span class="lineno"> 2336</span> </div>
<div class="line"><span class="lineno"> 2337</span>            <span class="comment">/* Compensate the pressure data */</span></div>
<div class="line"><span class="lineno"> 2338</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f">compensate_pressure</a>(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#ae12b796c80f6c1b6c72a5ff6782f4d84">pressure</a>, uncomp_data, calib_data);</div>
<div class="line"><span class="lineno"> 2339</span>        }</div>
<div class="line"><span class="lineno"> 2340</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sensor_comp == <a class="code hl_define" href="bmp3__defs_8h.html#a367e3fd6ae22dbc91d46571d405c81f1">BMP3_TEMP</a>)</div>
<div class="line"><span class="lineno"> 2341</span>        {</div>
<div class="line"><span class="lineno"> 2342</span>            <span class="comment">/* Compensate the temperature data */</span></div>
<div class="line"><span class="lineno"> 2343</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf">compensate_temperature</a>(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">temperature</a>, uncomp_data, calib_data);</div>
<div class="line"><span class="lineno"> 2344</span> </div>
<div class="line"><span class="lineno"> 2345</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2346</span><span class="comment">             * As only temperature is enabled in &#39;sensor_comp&#39;</span></div>
<div class="line"><span class="lineno"> 2347</span><span class="comment">             * make compensated pressure as zero</span></div>
<div class="line"><span class="lineno"> 2348</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 2349</span>            comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#ae12b796c80f6c1b6c72a5ff6782f4d84">pressure</a> = 0;</div>
<div class="line"><span class="lineno"> 2350</span>        }</div>
<div class="line"><span class="lineno"> 2351</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2352</span>        {</div>
<div class="line"><span class="lineno"> 2353</span>            comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#ae12b796c80f6c1b6c72a5ff6782f4d84">pressure</a> = 0;</div>
<div class="line"><span class="lineno"> 2354</span>            comp_data-&gt;<a class="code hl_variable" href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">temperature</a> = 0;</div>
<div class="line"><span class="lineno"> 2355</span>        }</div>
<div class="line"><span class="lineno"> 2356</span>    }</div>
<div class="line"><span class="lineno"> 2357</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2358</span>    {</div>
<div class="line"><span class="lineno"> 2359</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 2360</span>    }</div>
<div class="line"><span class="lineno"> 2361</span> </div>
<div class="line"><span class="lineno"> 2362</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2363</span>}</div>
<div class="ttc" id="abmp3_8c_html_a5bc99f8ae95747be9edb8c36404e662f"><div class="ttname"><a href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f">compensate_pressure</a></div><div class="ttdeci">static int8_t compensate_pressure(uint64_t *pressure, const struct bmp3_uncomp_data *uncomp_data, const struct bmp3_calib_data *calib_data)</div><div class="ttdoc">This internal API is used to compensate the pressure data and return the compensated pressure data in...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02618">bmp3.c:2618</a></div></div>
<div class="ttc" id="abmp3_8c_html_a94a9c7724c9fa2b33cd588814062cfaf"><div class="ttname"><a href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf">compensate_temperature</a></div><div class="ttdeci">static int8_t compensate_temperature(int64_t *temperature, const struct bmp3_uncomp_data *uncomp_data, struct bmp3_calib_data *calib_data)</div><div class="ttdoc">This internal API is used to compensate the raw temperature data and return the compensated temperatu...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02572">bmp3.c:2572</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a0bc291d86e14260388098c461c49b37e"><div class="ttname"><a href="bmp3__defs_8h.html#a0bc291d86e14260388098c461c49b37e">BMP3_PRESS</a></div><div class="ttdeci">#define BMP3_PRESS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00311">bmp3_defs.h:311</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a367e3fd6ae22dbc91d46571d405c81f1"><div class="ttname"><a href="bmp3__defs_8h.html#a367e3fd6ae22dbc91d46571d405c81f1">BMP3_TEMP</a></div><div class="ttdeci">#define BMP3_TEMP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00312">bmp3_defs.h:312</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ab6b9e27977a4f9b87357e65c88a045b4"><div class="ttname"><a href="bmp3__defs_8h.html#ab6b9e27977a4f9b87357e65c88a045b4">BMP3_PRESS_TEMP</a></div><div class="ttdeci">#define BMP3_PRESS_TEMP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00313">bmp3_defs.h:313</a></div></div>
<div class="ttc" id="astructbmp3__data_html_ae12b796c80f6c1b6c72a5ff6782f4d84"><div class="ttname"><a href="structbmp3__data.html#ae12b796c80f6c1b6c72a5ff6782f4d84">bmp3_data::pressure</a></div><div class="ttdeci">double pressure</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00847">bmp3_defs.h:847</a></div></div>
<div class="ttc" id="astructbmp3__data_html_afddb317411caf4941b1247ed2fe1691b"><div class="ttname"><a href="structbmp3__data.html#afddb317411caf4941b1247ed2fe1691b">bmp3_data::temperature</a></div><div class="ttdeci">double temperature</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00844">bmp3_defs.h:844</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00311">BMP3_PRESS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00313">BMP3_PRESS_TEMP</a>, <a class="el" href="bmp3__defs_8h_source.html#l00312">BMP3_TEMP</a>, <a class="el" href="bmp3_8c_source.html#l02618">compensate_pressure()</a>, <a class="el" href="bmp3_8c_source.html#l02572">compensate_temperature()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00847">bmp3_data::pressure</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00844">bmp3_data::temperature</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01428">bmp3_get_sensor_data()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_cgraph.png" border="0" usemap="#abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_cgraph" alt=""/></div>
<map name="abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_cgraph" id="abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_cgraph">
<area shape="rect" title="This internal API is used to compensate the pressure or temperature or both the data according to the..." alt="" coords="5,31,130,57"/>
<area shape="rect" href="bmp3_8c.html#a5bc99f8ae95747be9edb8c36404e662f" title="This internal API is used to compensate the pressure data and return the compensated pressure data in..." alt="" coords="187,5,336,32"/>
<area shape="poly" title=" " alt="" coords="130,33,171,28,172,33,130,39"/>
<area shape="rect" href="bmp3_8c.html#a94a9c7724c9fa2b33cd588814062cfaf" title="This internal API is used to compensate the raw temperature data and return the compensated temperatu..." alt="" coords="178,56,346,83"/>
<area shape="poly" title=" " alt="" coords="130,49,163,54,162,59,130,55"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_icgraph.png" border="0" usemap="#abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_icgraph" alt=""/></div>
<map name="abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_icgraph" id="abmp3_8c_a6a344fb812afdfe92d84ad51ddd84faa_icgraph">
<area shape="rect" title="This internal API is used to compensate the pressure or temperature or both the data according to the..." alt="" coords="480,5,605,32"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="276,5,432,32"/>
<area shape="poly" title=" " alt="" coords="465,21,433,21,433,16,465,16"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="103,5,228,32"/>
<area shape="poly" title=" " alt="" coords="260,21,228,21,228,16,260,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a5bc99f8ae95747be9edb8c36404e662f" name="a5bc99f8ae95747be9edb8c36404e662f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc99f8ae95747be9edb8c36404e662f">&#9670;&#160;</a></span>compensate_pressure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t compensate_pressure </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>pressure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *&#160;</td>
          <td class="paramname"><em>uncomp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *&#160;</td>
          <td class="paramname"><em>calib_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to compensate the pressure data and return the compensated pressure data in integer data type. </p>
<p>This internal API is used to compensate the raw pressure data and return the compensated pressure data in integer data type. for eg return if pressure is 9528709 which is 9528709/100 = 95287.09 Pascal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">comp_pressure</td><td>: Compensated pressure data in integer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uncomp_data</td><td>: Contains the uncompensated pressure data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">calib_data</td><td>: Pointer to the calibration data structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02618">2618</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2621</span>{</div>
<div class="line"><span class="lineno"> 2622</span>    int8_t rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno"> 2623</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__reg__calib__data.html">bmp3_reg_calib_data</a> *reg_calib_data = &amp;calib_data-&gt;<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>;</div>
<div class="line"><span class="lineno"> 2624</span>    int64_t partial_data1;</div>
<div class="line"><span class="lineno"> 2625</span>    int64_t partial_data2;</div>
<div class="line"><span class="lineno"> 2626</span>    int64_t partial_data3;</div>
<div class="line"><span class="lineno"> 2627</span>    int64_t partial_data4;</div>
<div class="line"><span class="lineno"> 2628</span>    int64_t partial_data5;</div>
<div class="line"><span class="lineno"> 2629</span>    int64_t partial_data6;</div>
<div class="line"><span class="lineno"> 2630</span>    int64_t offset;</div>
<div class="line"><span class="lineno"> 2631</span>    int64_t sensitivity;</div>
<div class="line"><span class="lineno"> 2632</span>    uint64_t comp_press;</div>
<div class="line"><span class="lineno"> 2633</span> </div>
<div class="line"><span class="lineno"> 2634</span>    partial_data1 = (int64_t)(reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a> * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a>);</div>
<div class="line"><span class="lineno"> 2635</span>    partial_data2 = (int64_t)(partial_data1 / 64);</div>
<div class="line"><span class="lineno"> 2636</span>    partial_data3 = (int64_t)((partial_data2 * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a>) / 256);</div>
<div class="line"><span class="lineno"> 2637</span>    partial_data4 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#ab09c5d1dea9a780e85e188e207274548">par_p8</a> * partial_data3) / 32);</div>
<div class="line"><span class="lineno"> 2638</span>    partial_data5 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a41adc35302e55f84e909f8ccae1bf075">par_p7</a> * partial_data1) * 16);</div>
<div class="line"><span class="lineno"> 2639</span>    partial_data6 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a3a8ccb3a112b72387c43a36e0155a278">par_p6</a> * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a>) * 4194304);</div>
<div class="line"><span class="lineno"> 2640</span>    offset = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a894b732113d106550c5a2b7c6012d7ea">par_p5</a> * 140737488355328) + partial_data4 + partial_data5 + partial_data6);</div>
<div class="line"><span class="lineno"> 2641</span>    partial_data2 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a2a3bba4e57f9085ccc171ec47f963f4a">par_p4</a> * partial_data3) / 32);</div>
<div class="line"><span class="lineno"> 2642</span>    partial_data4 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a00816e56a67724ef7051bfae69d537c4">par_p3</a> * partial_data1) * 4);</div>
<div class="line"><span class="lineno"> 2643</span>    partial_data5 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a62fc7c62cea3dda52926eddcb820ffb9">par_p2</a> - (int32_t)16384) * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a> * 2097152);</div>
<div class="line"><span class="lineno"> 2644</span>    sensitivity =</div>
<div class="line"><span class="lineno"> 2645</span>        (int64_t)(((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a64c3673ac35d9867171484ad9e45cf3d">par_p1</a> - (int32_t)16384) * 70368744177664) + partial_data2 + partial_data4 +</div>
<div class="line"><span class="lineno"> 2646</span>                  partial_data5);</div>
<div class="line"><span class="lineno"> 2647</span>    partial_data1 = (int64_t)((sensitivity / 16777216) * uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a>);</div>
<div class="line"><span class="lineno"> 2648</span>    partial_data2 = (int64_t)(reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a4a05b84eb333f465806a91e3b70d2cd8">par_p10</a> * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a>);</div>
<div class="line"><span class="lineno"> 2649</span>    partial_data3 = (int64_t)(partial_data2 + ((int32_t)65536 * reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#af6368a7595506acd5eb933f409bebd8a">par_p9</a>));</div>
<div class="line"><span class="lineno"> 2650</span>    partial_data4 = (int64_t)((partial_data3 * uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a>) / (int32_t)8192);</div>
<div class="line"><span class="lineno"> 2651</span> </div>
<div class="line"><span class="lineno"> 2652</span>    <span class="comment">/* dividing by 10 followed by multiplying by 10</span></div>
<div class="line"><span class="lineno"> 2653</span><span class="comment">     * To avoid overflow caused by (uncomp_data-&gt;pressure * partial_data4)</span></div>
<div class="line"><span class="lineno"> 2654</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2655</span>    partial_data5 = (int64_t)((uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a> * (partial_data4 / 10)) / (int32_t)512);</div>
<div class="line"><span class="lineno"> 2656</span>    partial_data5 = (int64_t)(partial_data5 * 10);</div>
<div class="line"><span class="lineno"> 2657</span>    partial_data6 = (int64_t)(uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a> * uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a>);</div>
<div class="line"><span class="lineno"> 2658</span>    partial_data2 = (int64_t)((reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a081849c35af6533d4761a11bb512bd70">par_p11</a> * partial_data6) / (int32_t)65536);</div>
<div class="line"><span class="lineno"> 2659</span>    partial_data3 = (int64_t)((int64_t)(partial_data2 * uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a>) / 128);</div>
<div class="line"><span class="lineno"> 2660</span>    partial_data4 = (int64_t)((offset / 4) + partial_data1 + partial_data5 + partial_data3);</div>
<div class="line"><span class="lineno"> 2661</span>    comp_press = (((uint64_t)partial_data4 * 25) / (uint64_t)1099511627776);</div>
<div class="line"><span class="lineno"> 2662</span> </div>
<div class="line"><span class="lineno"> 2663</span>    <span class="keywordflow">if</span> (comp_press &lt; <a class="code hl_define" href="bmp3__defs_8h.html#a7d9229d44f9c416717b0616bf2df6a3e">BMP3_MIN_PRES_INT</a>)</div>
<div class="line"><span class="lineno"> 2664</span>    {</div>
<div class="line"><span class="lineno"> 2665</span>        comp_press = <a class="code hl_define" href="bmp3__defs_8h.html#a7d9229d44f9c416717b0616bf2df6a3e">BMP3_MIN_PRES_INT</a>;</div>
<div class="line"><span class="lineno"> 2666</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#af3698f7a91157087bd05994cf92aa7d1">BMP3_W_MIN_PRES</a>;</div>
<div class="line"><span class="lineno"> 2667</span>    }</div>
<div class="line"><span class="lineno"> 2668</span> </div>
<div class="line"><span class="lineno"> 2669</span>    <span class="keywordflow">if</span> (comp_press &gt; <a class="code hl_define" href="bmp3__defs_8h.html#a6e6cd922e63a8ecdcdc0c59b6c5e515f">BMP3_MAX_PRES_INT</a>)</div>
<div class="line"><span class="lineno"> 2670</span>    {</div>
<div class="line"><span class="lineno"> 2671</span>        comp_press = <a class="code hl_define" href="bmp3__defs_8h.html#a6e6cd922e63a8ecdcdc0c59b6c5e515f">BMP3_MAX_PRES_INT</a>;</div>
<div class="line"><span class="lineno"> 2672</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#a88de74c4ccf1dd0d229051922abf06f5">BMP3_W_MAX_PRES</a>;</div>
<div class="line"><span class="lineno"> 2673</span>    }</div>
<div class="line"><span class="lineno"> 2674</span> </div>
<div class="line"><span class="lineno"> 2675</span>    (*pressure) = comp_press;</div>
<div class="line"><span class="lineno"> 2676</span> </div>
<div class="line"><span class="lineno"> 2677</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2678</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a6e6cd922e63a8ecdcdc0c59b6c5e515f"><div class="ttname"><a href="bmp3__defs_8h.html#a6e6cd922e63a8ecdcdc0c59b6c5e515f">BMP3_MAX_PRES_INT</a></div><div class="ttdeci">#define BMP3_MAX_PRES_INT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00323">bmp3_defs.h:323</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a7d9229d44f9c416717b0616bf2df6a3e"><div class="ttname"><a href="bmp3__defs_8h.html#a7d9229d44f9c416717b0616bf2df6a3e">BMP3_MIN_PRES_INT</a></div><div class="ttdeci">#define BMP3_MIN_PRES_INT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00322">bmp3_defs.h:322</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a88de74c4ccf1dd0d229051922abf06f5"><div class="ttname"><a href="bmp3__defs_8h.html#a88de74c4ccf1dd0d229051922abf06f5">BMP3_W_MAX_PRES</a></div><div class="ttdeci">#define BMP3_W_MAX_PRES</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00276">bmp3_defs.h:276</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af3698f7a91157087bd05994cf92aa7d1"><div class="ttname"><a href="bmp3__defs_8h.html#af3698f7a91157087bd05994cf92aa7d1">BMP3_W_MIN_PRES</a></div><div class="ttdeci">#define BMP3_W_MIN_PRES</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00275">bmp3_defs.h:275</a></div></div>
<div class="ttc" id="astructbmp3__calib__data_html_aa1d8ba796bd972e59c1c55b4d606a35f"><div class="ttname"><a href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">bmp3_calib_data::reg_calib_data</a></div><div class="ttdeci">struct bmp3_reg_calib_data reg_calib_data</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00833">bmp3_defs.h:833</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html"><div class="ttname"><a href="structbmp3__reg__calib__data.html">bmp3_reg_calib_data</a></div><div class="ttdoc">Register Trim Variables.</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00563">bmp3_defs.h:564</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a00816e56a67724ef7051bfae69d537c4"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a00816e56a67724ef7051bfae69d537c4">bmp3_reg_calib_data::par_p3</a></div><div class="ttdeci">int8_t par_p3</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00572">bmp3_defs.h:572</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a081849c35af6533d4761a11bb512bd70"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a081849c35af6533d4761a11bb512bd70">bmp3_reg_calib_data::par_p11</a></div><div class="ttdeci">int8_t par_p11</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00580">bmp3_defs.h:580</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a108f4de6caca132c58795b1e9abf408d"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">bmp3_reg_calib_data::t_lin</a></div><div class="ttdeci">int64_t t_lin</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00581">bmp3_defs.h:581</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a2a3bba4e57f9085ccc171ec47f963f4a"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a2a3bba4e57f9085ccc171ec47f963f4a">bmp3_reg_calib_data::par_p4</a></div><div class="ttdeci">int8_t par_p4</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00573">bmp3_defs.h:573</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a3a8ccb3a112b72387c43a36e0155a278"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a3a8ccb3a112b72387c43a36e0155a278">bmp3_reg_calib_data::par_p6</a></div><div class="ttdeci">uint16_t par_p6</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00575">bmp3_defs.h:575</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a41adc35302e55f84e909f8ccae1bf075"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a41adc35302e55f84e909f8ccae1bf075">bmp3_reg_calib_data::par_p7</a></div><div class="ttdeci">int8_t par_p7</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00576">bmp3_defs.h:576</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a4a05b84eb333f465806a91e3b70d2cd8"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a4a05b84eb333f465806a91e3b70d2cd8">bmp3_reg_calib_data::par_p10</a></div><div class="ttdeci">int8_t par_p10</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00579">bmp3_defs.h:579</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a62fc7c62cea3dda52926eddcb820ffb9"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a62fc7c62cea3dda52926eddcb820ffb9">bmp3_reg_calib_data::par_p2</a></div><div class="ttdeci">int16_t par_p2</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00571">bmp3_defs.h:571</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a64c3673ac35d9867171484ad9e45cf3d"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a64c3673ac35d9867171484ad9e45cf3d">bmp3_reg_calib_data::par_p1</a></div><div class="ttdeci">int16_t par_p1</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00570">bmp3_defs.h:570</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a894b732113d106550c5a2b7c6012d7ea"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a894b732113d106550c5a2b7c6012d7ea">bmp3_reg_calib_data::par_p5</a></div><div class="ttdeci">uint16_t par_p5</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00574">bmp3_defs.h:574</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_ab09c5d1dea9a780e85e188e207274548"><div class="ttname"><a href="structbmp3__reg__calib__data.html#ab09c5d1dea9a780e85e188e207274548">bmp3_reg_calib_data::par_p8</a></div><div class="ttdeci">int8_t par_p8</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00577">bmp3_defs.h:577</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_af6368a7595506acd5eb933f409bebd8a"><div class="ttname"><a href="structbmp3__reg__calib__data.html#af6368a7595506acd5eb933f409bebd8a">bmp3_reg_calib_data::par_p9</a></div><div class="ttdeci">int16_t par_p9</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00578">bmp3_defs.h:578</a></div></div>
<div class="ttc" id="astructbmp3__uncomp__data_html_a47ece12dc176e7f52d4c27a1ea234364"><div class="ttname"><a href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">bmp3_uncomp_data::pressure</a></div><div class="ttdeci">uint64_t pressure</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00884">bmp3_defs.h:884</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00323">BMP3_MAX_PRES_INT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00322">BMP3_MIN_PRES_INT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00276">BMP3_W_MAX_PRES</a>, <a class="el" href="bmp3__defs_8h_source.html#l00275">BMP3_W_MIN_PRES</a>, <a class="el" href="bmp3__defs_8h_source.html#l00570">bmp3_reg_calib_data::par_p1</a>, <a class="el" href="bmp3__defs_8h_source.html#l00579">bmp3_reg_calib_data::par_p10</a>, <a class="el" href="bmp3__defs_8h_source.html#l00580">bmp3_reg_calib_data::par_p11</a>, <a class="el" href="bmp3__defs_8h_source.html#l00571">bmp3_reg_calib_data::par_p2</a>, <a class="el" href="bmp3__defs_8h_source.html#l00572">bmp3_reg_calib_data::par_p3</a>, <a class="el" href="bmp3__defs_8h_source.html#l00573">bmp3_reg_calib_data::par_p4</a>, <a class="el" href="bmp3__defs_8h_source.html#l00574">bmp3_reg_calib_data::par_p5</a>, <a class="el" href="bmp3__defs_8h_source.html#l00575">bmp3_reg_calib_data::par_p6</a>, <a class="el" href="bmp3__defs_8h_source.html#l00576">bmp3_reg_calib_data::par_p7</a>, <a class="el" href="bmp3__defs_8h_source.html#l00577">bmp3_reg_calib_data::par_p8</a>, <a class="el" href="bmp3__defs_8h_source.html#l00578">bmp3_reg_calib_data::par_p9</a>, <a class="el" href="bmp3__defs_8h_source.html#l00884">bmp3_uncomp_data::pressure</a>, <a class="el" href="bmp3__defs_8h_source.html#l00833">bmp3_calib_data::reg_calib_data</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00581">bmp3_reg_calib_data::t_lin</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02297">compensate_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a5bc99f8ae95747be9edb8c36404e662f_icgraph.png" border="0" usemap="#abmp3_8c_a5bc99f8ae95747be9edb8c36404e662f_icgraph" alt=""/></div>
<map name="abmp3_8c_a5bc99f8ae95747be9edb8c36404e662f_icgraph" id="abmp3_8c_a5bc99f8ae95747be9edb8c36404e662f_icgraph">
<area shape="rect" title="This internal API is used to compensate the pressure data and return the compensated pressure data in..." alt="" coords="653,5,802,32"/>
<area shape="rect" href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa" title="This internal API is used to compensate the pressure or temperature or both the data according to the..." alt="" coords="480,5,605,32"/>
<area shape="poly" title=" " alt="" coords="637,21,605,21,605,16,637,16"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="276,5,432,32"/>
<area shape="poly" title=" " alt="" coords="465,21,433,21,433,16,465,16"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="103,5,228,32"/>
<area shape="poly" title=" " alt="" coords="260,21,228,21,228,16,260,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a94a9c7724c9fa2b33cd588814062cfaf" name="a94a9c7724c9fa2b33cd588814062cfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94a9c7724c9fa2b33cd588814062cfaf">&#9670;&#160;</a></span>compensate_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t compensate_temperature </td>
          <td>(</td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *&#160;</td>
          <td class="paramname"><em>uncomp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__calib__data.html">bmp3_calib_data</a> *&#160;</td>
          <td class="paramname"><em>calib_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to compensate the raw temperature data and return the compensated temperature data in integer data type. </p>
<p>This internal API is used to compensate the raw temperature data and return the compensated temperature data in integer data type. Returns temperature in integer. Actual temperature is obtained by dividing by 100 For eg : If returned temperature is 2426 then it is 2426/100 = 24 deg Celsius.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">temperature</td><td>: Compensated temperature data in integer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uncomp_data</td><td>: Contains the uncompensated temperature data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">calib_data</td><td>: Pointer to calibration data structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02572">2572</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2575</span>{</div>
<div class="line"><span class="lineno"> 2576</span>    int8_t rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno"> 2577</span>    int64_t partial_data1;</div>
<div class="line"><span class="lineno"> 2578</span>    int64_t partial_data2;</div>
<div class="line"><span class="lineno"> 2579</span>    int64_t partial_data3;</div>
<div class="line"><span class="lineno"> 2580</span>    int64_t partial_data4;</div>
<div class="line"><span class="lineno"> 2581</span>    int64_t partial_data5;</div>
<div class="line"><span class="lineno"> 2582</span>    int64_t partial_data6;</div>
<div class="line"><span class="lineno"> 2583</span>    int64_t comp_temp;</div>
<div class="line"><span class="lineno"> 2584</span> </div>
<div class="line"><span class="lineno"> 2585</span>    partial_data1 = (int64_t)(uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#af0ccbff5b1d29af7bd4bb9d953b1574e">temperature</a> - ((int64_t)256 * calib_data-&gt;<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>.<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a779aafb6cd84f5ce285d20750af82ce6">par_t1</a>));</div>
<div class="line"><span class="lineno"> 2586</span>    partial_data2 = (int64_t)(calib_data-&gt;<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>.<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a159020c763b4f07f9296d2d305fdefe7">par_t2</a> * partial_data1);</div>
<div class="line"><span class="lineno"> 2587</span>    partial_data3 = (int64_t)(partial_data1 * partial_data1);</div>
<div class="line"><span class="lineno"> 2588</span>    partial_data4 = (int64_t)partial_data3 * calib_data-&gt;<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>.<a class="code hl_variable" href="structbmp3__reg__calib__data.html#aafa622f4ebe5a0e0f9522dc6e707399f">par_t3</a>;</div>
<div class="line"><span class="lineno"> 2589</span>    partial_data5 = (int64_t)((int64_t)(partial_data2 * 262144) + partial_data4);</div>
<div class="line"><span class="lineno"> 2590</span>    partial_data6 = (int64_t)(partial_data5 / 4294967296);</div>
<div class="line"><span class="lineno"> 2591</span> </div>
<div class="line"><span class="lineno"> 2592</span>    <span class="comment">/* Store t_lin in dev. structure for pressure calculation */</span></div>
<div class="line"><span class="lineno"> 2593</span>    calib_data-&gt;<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>.<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a108f4de6caca132c58795b1e9abf408d">t_lin</a> = (int64_t)partial_data6;</div>
<div class="line"><span class="lineno"> 2594</span>    comp_temp = (int64_t)((partial_data6 * 25) / 16384);</div>
<div class="line"><span class="lineno"> 2595</span> </div>
<div class="line"><span class="lineno"> 2596</span>    <span class="keywordflow">if</span> (comp_temp &lt; <a class="code hl_define" href="bmp3__defs_8h.html#ad86f862b07719b7cbc678bc727f425bd">BMP3_MIN_TEMP_INT</a>)</div>
<div class="line"><span class="lineno"> 2597</span>    {</div>
<div class="line"><span class="lineno"> 2598</span>        comp_temp = <a class="code hl_define" href="bmp3__defs_8h.html#ad86f862b07719b7cbc678bc727f425bd">BMP3_MIN_TEMP_INT</a>;</div>
<div class="line"><span class="lineno"> 2599</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#acdfb6c7dd92a41f81714b0b2429470e8">BMP3_W_MIN_TEMP</a>;</div>
<div class="line"><span class="lineno"> 2600</span>    }</div>
<div class="line"><span class="lineno"> 2601</span> </div>
<div class="line"><span class="lineno"> 2602</span>    <span class="keywordflow">if</span> (comp_temp &gt; <a class="code hl_define" href="bmp3__defs_8h.html#a40e168e3ea2330bfd903a7d06d5799e8">BMP3_MAX_TEMP_INT</a>)</div>
<div class="line"><span class="lineno"> 2603</span>    {</div>
<div class="line"><span class="lineno"> 2604</span>        comp_temp = <a class="code hl_define" href="bmp3__defs_8h.html#a40e168e3ea2330bfd903a7d06d5799e8">BMP3_MAX_TEMP_INT</a>;</div>
<div class="line"><span class="lineno"> 2605</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#a845dab41649db2ca93ed0fb1a10ded16">BMP3_W_MAX_TEMP</a>;</div>
<div class="line"><span class="lineno"> 2606</span>    }</div>
<div class="line"><span class="lineno"> 2607</span> </div>
<div class="line"><span class="lineno"> 2608</span>    (*temperature) = comp_temp;</div>
<div class="line"><span class="lineno"> 2609</span> </div>
<div class="line"><span class="lineno"> 2610</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2611</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a40e168e3ea2330bfd903a7d06d5799e8"><div class="ttname"><a href="bmp3__defs_8h.html#a40e168e3ea2330bfd903a7d06d5799e8">BMP3_MAX_TEMP_INT</a></div><div class="ttdeci">#define BMP3_MAX_TEMP_INT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00317">bmp3_defs.h:317</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a845dab41649db2ca93ed0fb1a10ded16"><div class="ttname"><a href="bmp3__defs_8h.html#a845dab41649db2ca93ed0fb1a10ded16">BMP3_W_MAX_TEMP</a></div><div class="ttdeci">#define BMP3_W_MAX_TEMP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00274">bmp3_defs.h:274</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_acdfb6c7dd92a41f81714b0b2429470e8"><div class="ttname"><a href="bmp3__defs_8h.html#acdfb6c7dd92a41f81714b0b2429470e8">BMP3_W_MIN_TEMP</a></div><div class="ttdeci">#define BMP3_W_MIN_TEMP</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00273">bmp3_defs.h:273</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ad86f862b07719b7cbc678bc727f425bd"><div class="ttname"><a href="bmp3__defs_8h.html#ad86f862b07719b7cbc678bc727f425bd">BMP3_MIN_TEMP_INT</a></div><div class="ttdeci">#define BMP3_MIN_TEMP_INT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00316">bmp3_defs.h:316</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a159020c763b4f07f9296d2d305fdefe7"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a159020c763b4f07f9296d2d305fdefe7">bmp3_reg_calib_data::par_t2</a></div><div class="ttdeci">uint16_t par_t2</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00568">bmp3_defs.h:568</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_a779aafb6cd84f5ce285d20750af82ce6"><div class="ttname"><a href="structbmp3__reg__calib__data.html#a779aafb6cd84f5ce285d20750af82ce6">bmp3_reg_calib_data::par_t1</a></div><div class="ttdeci">uint16_t par_t1</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00567">bmp3_defs.h:567</a></div></div>
<div class="ttc" id="astructbmp3__reg__calib__data_html_aafa622f4ebe5a0e0f9522dc6e707399f"><div class="ttname"><a href="structbmp3__reg__calib__data.html#aafa622f4ebe5a0e0f9522dc6e707399f">bmp3_reg_calib_data::par_t3</a></div><div class="ttdeci">int8_t par_t3</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00569">bmp3_defs.h:569</a></div></div>
<div class="ttc" id="astructbmp3__uncomp__data_html_af0ccbff5b1d29af7bd4bb9d953b1574e"><div class="ttname"><a href="structbmp3__uncomp__data.html#af0ccbff5b1d29af7bd4bb9d953b1574e">bmp3_uncomp_data::temperature</a></div><div class="ttdeci">int64_t temperature</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00887">bmp3_defs.h:887</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00317">BMP3_MAX_TEMP_INT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00316">BMP3_MIN_TEMP_INT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00274">BMP3_W_MAX_TEMP</a>, <a class="el" href="bmp3__defs_8h_source.html#l00273">BMP3_W_MIN_TEMP</a>, <a class="el" href="bmp3__defs_8h_source.html#l00567">bmp3_reg_calib_data::par_t1</a>, <a class="el" href="bmp3__defs_8h_source.html#l00568">bmp3_reg_calib_data::par_t2</a>, <a class="el" href="bmp3__defs_8h_source.html#l00569">bmp3_reg_calib_data::par_t3</a>, <a class="el" href="bmp3__defs_8h_source.html#l00833">bmp3_calib_data::reg_calib_data</a>, <a class="el" href="bmp3__defs_8h_source.html#l00581">bmp3_reg_calib_data::t_lin</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00887">bmp3_uncomp_data::temperature</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02297">compensate_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a94a9c7724c9fa2b33cd588814062cfaf_icgraph.png" border="0" usemap="#abmp3_8c_a94a9c7724c9fa2b33cd588814062cfaf_icgraph" alt=""/></div>
<map name="abmp3_8c_a94a9c7724c9fa2b33cd588814062cfaf_icgraph" id="abmp3_8c_a94a9c7724c9fa2b33cd588814062cfaf_icgraph">
<area shape="rect" title="This internal API is used to compensate the raw temperature data and return the compensated temperatu..." alt="" coords="653,5,821,32"/>
<area shape="rect" href="bmp3_8c.html#a6a344fb812afdfe92d84ad51ddd84faa" title="This internal API is used to compensate the pressure or temperature or both the data according to the..." alt="" coords="480,5,605,32"/>
<area shape="poly" title=" " alt="" coords="637,21,605,21,605,16,637,16"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="276,5,432,32"/>
<area shape="poly" title=" " alt="" coords="465,21,433,21,433,16,465,16"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="103,5,228,32"/>
<area shape="poly" title=" " alt="" coords="260,21,228,21,228,16,260,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a4a81cd7c079dab09de2ce6cf7bc84ea4" name="a4a81cd7c079dab09de2ce6cf7bc84ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a81cd7c079dab09de2ce6cf7bc84ea4">&#9670;&#160;</a></span>fill_filter_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fill_filter_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API fills the register address and register data of the the filter settings for burst write operation. </p>
<p>This internal API fills the register address and register data of the filter settings for burst write operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>: To store the address to fill in register buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reg_data</td><td>: To store the register data to set the filter. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>: To store the len for burst write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02257">2257</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2258</span>{</div>
<div class="line"><span class="lineno"> 2259</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> osr_settings = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>;</div>
<div class="line"><span class="lineno"> 2260</span> </div>
<div class="line"><span class="lineno"> 2261</span>    <span class="comment">/* Set the iir settings in the register variable */</span></div>
<div class="line"><span class="lineno"> 2262</span>    reg_data[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data[3], BMP3_IIR_FILTER, osr_settings.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a0ecceb6f505932d5786de218ddf81f22">iir_filter</a>);</div>
<div class="line"><span class="lineno"> 2263</span> </div>
<div class="line"><span class="lineno"> 2264</span>    <span class="comment">/* 0x1F is the register address of iir filter register */</span></div>
<div class="line"><span class="lineno"> 2265</span>    addr[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#a7f757dfba8d2d0e4a014b09a3ae9c271">BMP3_REG_CONFIG</a>;</div>
<div class="line"><span class="lineno"> 2266</span>    (*len)++;</div>
<div class="line"><span class="lineno"> 2267</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a7f757dfba8d2d0e4a014b09a3ae9c271"><div class="ttname"><a href="bmp3__defs_8h.html#a7f757dfba8d2d0e4a014b09a3ae9c271">BMP3_REG_CONFIG</a></div><div class="ttdeci">#define BMP3_REG_CONFIG</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00161">bmp3_defs.h:161</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af184bc3acd90b098767a209bcfc69839"><div class="ttname"><a href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a></div><div class="ttdeci">#define BMP3_SET_BITS(reg_data, bitname, data)</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00420">bmp3_defs.h:420</a></div></div>
<div class="ttc" id="astructbmp3__odr__filter__settings_html_a0ecceb6f505932d5786de218ddf81f22"><div class="ttname"><a href="structbmp3__odr__filter__settings.html#a0ecceb6f505932d5786de218ddf81f22">bmp3_odr_filter_settings::iir_filter</a></div><div class="ttdeci">uint8_t iir_filter</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00610">bmp3_defs.h:610</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00161">BMP3_REG_CONFIG</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00610">bmp3_odr_filter_settings::iir_filter</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a4a81cd7c079dab09de2ce6cf7bc84ea4_icgraph.png" border="0" usemap="#abmp3_8c_a4a81cd7c079dab09de2ce6cf7bc84ea4_icgraph" alt=""/></div>
<map name="abmp3_8c_a4a81cd7c079dab09de2ce6cf7bc84ea4_icgraph" id="abmp3_8c_a4a81cd7c079dab09de2ce6cf7bc84ea4_icgraph">
<area shape="rect" title="This internal API fills the register address and register data of the the filter settings for burst w..." alt="" coords="681,31,779,57"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="483,31,633,57"/>
<area shape="poly" title=" " alt="" coords="665,47,633,47,633,41,665,41"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="ace3c1c1a6176d94e747c1a958d09e6f9" name="ace3c1c1a6176d94e747c1a958d09e6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3c1c1a6176d94e747c1a958d09e6f9">&#9670;&#160;</a></span>fill_odr_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fill_odr_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API fills the register address and register data of the the ODR settings for burst write operation. </p>
<p>This internal API fills the register address and register data of the ODR settings for burst write operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>: To store the address to fill in register buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reg_data</td><td>: To store the register data to set the odr data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>: To store the len for burst write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02235">2235</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2236</span>{</div>
<div class="line"><span class="lineno"> 2237</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> *osr_settings = &amp;settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>;</div>
<div class="line"><span class="lineno"> 2238</span> </div>
<div class="line"><span class="lineno"> 2239</span>    <span class="comment">/* Limit the ODR to 0.001525879 Hz*/</span></div>
<div class="line"><span class="lineno"> 2240</span>    <span class="keywordflow">if</span> (osr_settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">odr</a> &gt; <a class="code hl_define" href="bmp3__defs_8h.html#adb896e9709481daa924987b266b782a5">BMP3_ODR_0_001_HZ</a>)</div>
<div class="line"><span class="lineno"> 2241</span>    {</div>
<div class="line"><span class="lineno"> 2242</span>        osr_settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">odr</a> = <a class="code hl_define" href="bmp3__defs_8h.html#adb896e9709481daa924987b266b782a5">BMP3_ODR_0_001_HZ</a>;</div>
<div class="line"><span class="lineno"> 2243</span>    }</div>
<div class="line"><span class="lineno"> 2244</span> </div>
<div class="line"><span class="lineno"> 2245</span>    <span class="comment">/* Set the ODR settings in the register variable */</span></div>
<div class="line"><span class="lineno"> 2246</span>    reg_data[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#af6aa0af6025a8fae542581a7062055c4">BMP3_SET_BITS_POS_0</a>(reg_data[1], BMP3_ODR, osr_settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">odr</a>);</div>
<div class="line"><span class="lineno"> 2247</span> </div>
<div class="line"><span class="lineno"> 2248</span>    <span class="comment">/* 0x1D is the register address of output data rate register */</span></div>
<div class="line"><span class="lineno"> 2249</span>    addr[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#a27889ca3d04faf85f7799cb28ad97a95">BMP3_REG_ODR</a>;</div>
<div class="line"><span class="lineno"> 2250</span>    (*len)++;</div>
<div class="line"><span class="lineno"> 2251</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a27889ca3d04faf85f7799cb28ad97a95"><div class="ttname"><a href="bmp3__defs_8h.html#a27889ca3d04faf85f7799cb28ad97a95">BMP3_REG_ODR</a></div><div class="ttdeci">#define BMP3_REG_ODR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00160">bmp3_defs.h:160</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_adb896e9709481daa924987b266b782a5"><div class="ttname"><a href="bmp3__defs_8h.html#adb896e9709481daa924987b266b782a5">BMP3_ODR_0_001_HZ</a></div><div class="ttdeci">#define BMP3_ODR_0_001_HZ</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00249">bmp3_defs.h:249</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af6aa0af6025a8fae542581a7062055c4"><div class="ttname"><a href="bmp3__defs_8h.html#af6aa0af6025a8fae542581a7062055c4">BMP3_SET_BITS_POS_0</a></div><div class="ttdeci">#define BMP3_SET_BITS_POS_0(reg_data, bitname, data)</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00425">bmp3_defs.h:425</a></div></div>
<div class="ttc" id="astructbmp3__odr__filter__settings_html_a80d924f29f20f86536e131fe16486ee5"><div class="ttname"><a href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">bmp3_odr_filter_settings::odr</a></div><div class="ttdeci">uint8_t odr</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00613">bmp3_defs.h:613</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00249">BMP3_ODR_0_001_HZ</a>, <a class="el" href="bmp3__defs_8h_source.html#l00160">BMP3_REG_ODR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00425">BMP3_SET_BITS_POS_0</a>, <a class="el" href="bmp3__defs_8h_source.html#l00613">bmp3_odr_filter_settings::odr</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ace3c1c1a6176d94e747c1a958d09e6f9_icgraph.png" border="0" usemap="#abmp3_8c_ace3c1c1a6176d94e747c1a958d09e6f9_icgraph" alt=""/></div>
<map name="abmp3_8c_ace3c1c1a6176d94e747c1a958d09e6f9_icgraph" id="abmp3_8c_ace3c1c1a6176d94e747c1a958d09e6f9_icgraph">
<area shape="rect" title="This internal API fills the register address and register data of the the ODR settings for burst writ..." alt="" coords="681,31,772,57"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="483,31,633,57"/>
<area shape="poly" title=" " alt="" coords="665,47,633,47,633,41,665,41"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a3de8c70c56e9a69d09c48d25730f64e3" name="a3de8c70c56e9a69d09c48d25730f64e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de8c70c56e9a69d09c48d25730f64e3">&#9670;&#160;</a></span>fill_osr_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fill_osr_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API fills the register address and register data of the the over sampling settings for burst write operation. </p>
<p>This internal API fills the register address and register data of the over sampling settings for burst write operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable which specifies the settings which are to be set in the sensor. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>: To store the address to fill in register buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reg_data</td><td>: To store the osr register data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>: To store the len for burst write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02199">2199</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2204</span>{</div>
<div class="line"><span class="lineno"> 2205</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> osr_settings = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>;</div>
<div class="line"><span class="lineno"> 2206</span> </div>
<div class="line"><span class="lineno"> 2207</span>    <span class="keywordflow">if</span> (desired_settings &amp; (<a class="code hl_define" href="bmp3__defs_8h.html#ae8827f907cea6b6eb0637c1427348cdf">BMP3_SEL_PRESS_OS</a> | <a class="code hl_define" href="bmp3__defs_8h.html#af198ebfc8898ac0beb7e2ebcf2402e78">BMP3_SEL_TEMP_OS</a>))</div>
<div class="line"><span class="lineno"> 2208</span>    {</div>
<div class="line"><span class="lineno"> 2209</span>        <span class="comment">/* Pressure over sampling settings check */</span></div>
<div class="line"><span class="lineno"> 2210</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#ae8827f907cea6b6eb0637c1427348cdf">BMP3_SEL_PRESS_OS</a>)</div>
<div class="line"><span class="lineno"> 2211</span>        {</div>
<div class="line"><span class="lineno"> 2212</span>            <span class="comment">/* Set the pressure over sampling settings in the</span></div>
<div class="line"><span class="lineno"> 2213</span><span class="comment">             * register variable */</span></div>
<div class="line"><span class="lineno"> 2214</span>            reg_data[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#af6aa0af6025a8fae542581a7062055c4">BMP3_SET_BITS_POS_0</a>(reg_data[0], BMP3_PRESS_OS, osr_settings.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a3973292431df56f2b563838c1f39b97d">press_os</a>);</div>
<div class="line"><span class="lineno"> 2215</span>        }</div>
<div class="line"><span class="lineno"> 2216</span> </div>
<div class="line"><span class="lineno"> 2217</span>        <span class="comment">/* Temperature over sampling settings check */</span></div>
<div class="line"><span class="lineno"> 2218</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#af198ebfc8898ac0beb7e2ebcf2402e78">BMP3_SEL_TEMP_OS</a>)</div>
<div class="line"><span class="lineno"> 2219</span>        {</div>
<div class="line"><span class="lineno"> 2220</span>            <span class="comment">/* Set the temperature over sampling settings in the</span></div>
<div class="line"><span class="lineno"> 2221</span><span class="comment">             * register variable */</span></div>
<div class="line"><span class="lineno"> 2222</span>            reg_data[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data[0], BMP3_TEMP_OS, osr_settings.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a107585c84a2fe539c98ea86220b227cf">temp_os</a>);</div>
<div class="line"><span class="lineno"> 2223</span>        }</div>
<div class="line"><span class="lineno"> 2224</span> </div>
<div class="line"><span class="lineno"> 2225</span>        <span class="comment">/* 0x1C is the register address of over sampling register */</span></div>
<div class="line"><span class="lineno"> 2226</span>        addr[*len] = <a class="code hl_define" href="bmp3__defs_8h.html#a98c1e4a3c474a51ba0fd3b819c3f2db6">BMP3_REG_OSR</a>;</div>
<div class="line"><span class="lineno"> 2227</span>        (*len)++;</div>
<div class="line"><span class="lineno"> 2228</span>    }</div>
<div class="line"><span class="lineno"> 2229</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a98c1e4a3c474a51ba0fd3b819c3f2db6"><div class="ttname"><a href="bmp3__defs_8h.html#a98c1e4a3c474a51ba0fd3b819c3f2db6">BMP3_REG_OSR</a></div><div class="ttdeci">#define BMP3_REG_OSR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00159">bmp3_defs.h:159</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ae8827f907cea6b6eb0637c1427348cdf"><div class="ttname"><a href="bmp3__defs_8h.html#ae8827f907cea6b6eb0637c1427348cdf">BMP3_SEL_PRESS_OS</a></div><div class="ttdeci">#define BMP3_SEL_PRESS_OS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00284">bmp3_defs.h:284</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_af198ebfc8898ac0beb7e2ebcf2402e78"><div class="ttname"><a href="bmp3__defs_8h.html#af198ebfc8898ac0beb7e2ebcf2402e78">BMP3_SEL_TEMP_OS</a></div><div class="ttdeci">#define BMP3_SEL_TEMP_OS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00285">bmp3_defs.h:285</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00159">BMP3_REG_OSR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00284">BMP3_SEL_PRESS_OS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00285">BMP3_SEL_TEMP_OS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00425">BMP3_SET_BITS_POS_0</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, <a class="el" href="bmp3__defs_8h_source.html#l00604">bmp3_odr_filter_settings::press_os</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00607">bmp3_odr_filter_settings::temp_os</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a3de8c70c56e9a69d09c48d25730f64e3_icgraph.png" border="0" usemap="#abmp3_8c_a3de8c70c56e9a69d09c48d25730f64e3_icgraph" alt=""/></div>
<map name="abmp3_8c_a3de8c70c56e9a69d09c48d25730f64e3_icgraph" id="abmp3_8c_a3de8c70c56e9a69d09c48d25730f64e3_icgraph">
<area shape="rect" title="This internal API fills the register address and register data of the the over sampling settings for ..." alt="" coords="681,31,772,57"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="483,31,633,57"/>
<area shape="poly" title=" " alt="" coords="665,47,633,47,633,41,665,41"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a455d1f37d94acad6b4031ca0b3044491" name="a455d1f37d94acad6b4031ca0b3044491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455d1f37d94acad6b4031ca0b3044491">&#9670;&#160;</a></span>get_calib_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t get_calib_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API reads the calibration data from the sensor, parse it then compensates it and store in the device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01786">1786</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1787</span>{</div>
<div class="line"><span class="lineno"> 1788</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1789</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#ae2cbbff2be8ac3bf20c959eed7cd3393">BMP3_REG_CALIB_DATA</a>;</div>
<div class="line"><span class="lineno"> 1790</span> </div>
<div class="line"><span class="lineno"> 1791</span>    <span class="comment">/* Array to store calibration data */</span></div>
<div class="line"><span class="lineno"> 1792</span>    uint8_t calib_data[<a class="code hl_define" href="bmp3__defs_8h.html#ac36a70839c44bd1e4ed91fa02a2a0629">BMP3_LEN_CALIB_DATA</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 1793</span> </div>
<div class="line"><span class="lineno"> 1794</span>    <span class="comment">/* Read the calibration data from the sensor */</span></div>
<div class="line"><span class="lineno"> 1795</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, calib_data, <a class="code hl_define" href="bmp3__defs_8h.html#ac36a70839c44bd1e4ed91fa02a2a0629">BMP3_LEN_CALIB_DATA</a>, dev);</div>
<div class="line"><span class="lineno"> 1796</span> </div>
<div class="line"><span class="lineno"> 1797</span>    <span class="comment">/* Parse calibration data and store it in device structure */</span></div>
<div class="line"><span class="lineno"> 1798</span>    <a class="code hl_function" href="bmp3_8c.html#a1a9dab11b748936abcec7b712d721ca6">parse_calib_data</a>(calib_data, dev);</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1801</span>}</div>
<div class="ttc" id="abmp3_8c_html_a1a9dab11b748936abcec7b712d721ca6"><div class="ttname"><a href="bmp3_8c.html#a1a9dab11b748936abcec7b712d721ca6">parse_calib_data</a></div><div class="ttdeci">static void parse_calib_data(const uint8_t *reg_data, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API is used to parse the calibration data, compensates it and store it in device struct...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02545">bmp3.c:2545</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ac36a70839c44bd1e4ed91fa02a2a0629"><div class="ttname"><a href="bmp3__defs_8h.html#ac36a70839c44bd1e4ed91fa02a2a0629">BMP3_LEN_CALIB_DATA</a></div><div class="ttdeci">#define BMP3_LEN_CALIB_DATA</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00439">bmp3_defs.h:439</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ae2cbbff2be8ac3bf20c959eed7cd3393"><div class="ttname"><a href="bmp3__defs_8h.html#ae2cbbff2be8ac3bf20c959eed7cd3393">BMP3_REG_CALIB_DATA</a></div><div class="ttdeci">#define BMP3_REG_CALIB_DATA</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00162">bmp3_defs.h:162</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00439">BMP3_LEN_CALIB_DATA</a>, <a class="el" href="bmp3__defs_8h_source.html#l00162">BMP3_REG_CALIB_DATA</a>, and <a class="el" href="bmp3_8c_source.html#l02545">parse_calib_data()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00738">bmp3_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a455d1f37d94acad6b4031ca0b3044491_cgraph.png" border="0" usemap="#abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_cgraph" alt=""/></div>
<map name="abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_cgraph" id="abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_cgraph">
<area shape="rect" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="5,31,111,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="163,5,274,32"/>
<area shape="poly" title=" " alt="" coords="111,33,147,27,148,32,111,38"/>
<area shape="rect" href="bmp3_8c.html#a1a9dab11b748936abcec7b712d721ca6" title="This internal API is used to parse the calibration data, compensates it and store it in device struct..." alt="" coords="159,56,278,83"/>
<area shape="poly" title=" " alt="" coords="111,50,143,55,143,60,111,55"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="326,5,431,32"/>
<area shape="poly" title=" " alt="" coords="274,16,310,16,310,21,274,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a455d1f37d94acad6b4031ca0b3044491_icgraph.png" border="0" usemap="#abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_icgraph" alt=""/></div>
<map name="abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_icgraph" id="abmp3_8c_a455d1f37d94acad6b4031ca0b3044491_icgraph">
<area shape="rect" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="383,31,489,57"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="258,31,335,57"/>
<area shape="poly" title=" " alt="" coords="368,47,336,47,336,41,368,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,37,210,31,211,26,243,32"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,56,210,62,209,57,242,51"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a195d7a3d3d58b7eb8ae7fb7001d288e7" name="a195d7a3d3d58b7eb8ae7fb7001d288e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195d7a3d3d58b7eb8ae7fb7001d288e7">&#9670;&#160;</a></span>get_err_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t get_err_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This API gets the fatal, command and configuration error from the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname"></td><td>Structure instance of <a class="el" href="structbmp3__status.html" title="bmp3 status flags">bmp3_status</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02945">2945</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2946</span>{</div>
<div class="line"><span class="lineno"> 2947</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2948</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 2949</span> </div>
<div class="line"><span class="lineno"> 2950</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#af63bb8bbec3bb41e07bd59a6c28b4c21">BMP3_REG_ERR</a>, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2951</span> </div>
<div class="line"><span class="lineno"> 2952</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2953</span>    {</div>
<div class="line"><span class="lineno"> 2954</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a94a993c9f8ecd7fc53503144c60d73b2">err</a>.<a class="code hl_variable" href="structbmp3__err__status.html#a298e35388b11ed30ba83e381999a1c46">fatal</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(reg_data, <a class="code hl_define" href="bmp3__defs_8h.html#aebd7ec5832249e7f9f7b6445b765d0cb">BMP3_ERR_FATAL</a>);</div>
<div class="line"><span class="lineno"> 2955</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a94a993c9f8ecd7fc53503144c60d73b2">err</a>.<a class="code hl_variable" href="structbmp3__err__status.html#a019e0db5df6e9006d1d862c84e84ffde">cmd</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, <a class="code hl_define" href="bmp3__defs_8h.html#aaa91a3d8b55f948b079a1c6dd5fd6b9a">BMP3_ERR_CMD</a>);</div>
<div class="line"><span class="lineno"> 2956</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a94a993c9f8ecd7fc53503144c60d73b2">err</a>.<a class="code hl_variable" href="structbmp3__err__status.html#a604db2b7ea4b5698d5bd160c92c71afb">conf</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, <a class="code hl_define" href="bmp3__defs_8h.html#a8f8155cdf1a48ab3c1019ea7c7913570">BMP3_ERR_CONF</a>);</div>
<div class="line"><span class="lineno"> 2957</span>    }</div>
<div class="line"><span class="lineno"> 2958</span> </div>
<div class="line"><span class="lineno"> 2959</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2960</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a628cccb7a6475df068259325e901a1c0"><div class="ttname"><a href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a></div><div class="ttdeci">#define BMP3_GET_BITS_POS_0(reg_data, bitname)</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00433">bmp3_defs.h:433</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a8f8155cdf1a48ab3c1019ea7c7913570"><div class="ttname"><a href="bmp3__defs_8h.html#a8f8155cdf1a48ab3c1019ea7c7913570">BMP3_ERR_CONF</a></div><div class="ttdeci">#define BMP3_ERR_CONF</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00168">bmp3_defs.h:168</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aaa91a3d8b55f948b079a1c6dd5fd6b9a"><div class="ttname"><a href="bmp3__defs_8h.html#aaa91a3d8b55f948b079a1c6dd5fd6b9a">BMP3_ERR_CMD</a></div><div class="ttdeci">#define BMP3_ERR_CMD</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00167">bmp3_defs.h:167</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aebd7ec5832249e7f9f7b6445b765d0cb"><div class="ttname"><a href="bmp3__defs_8h.html#aebd7ec5832249e7f9f7b6445b765d0cb">BMP3_ERR_FATAL</a></div><div class="ttdeci">#define BMP3_ERR_FATAL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00166">bmp3_defs.h:166</a></div></div>
<div class="ttc" id="astructbmp3__err__status_html_a019e0db5df6e9006d1d862c84e84ffde"><div class="ttname"><a href="structbmp3__err__status.html#a019e0db5df6e9006d1d862c84e84ffde">bmp3_err_status::cmd</a></div><div class="ttdeci">uint8_t cmd</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00658">bmp3_defs.h:658</a></div></div>
<div class="ttc" id="astructbmp3__err__status_html_a298e35388b11ed30ba83e381999a1c46"><div class="ttname"><a href="structbmp3__err__status.html#a298e35388b11ed30ba83e381999a1c46">bmp3_err_status::fatal</a></div><div class="ttdeci">uint8_t fatal</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00655">bmp3_defs.h:655</a></div></div>
<div class="ttc" id="astructbmp3__err__status_html_a604db2b7ea4b5698d5bd160c92c71afb"><div class="ttname"><a href="structbmp3__err__status.html#a604db2b7ea4b5698d5bd160c92c71afb">bmp3_err_status::conf</a></div><div class="ttdeci">uint8_t conf</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00661">bmp3_defs.h:661</a></div></div>
<div class="ttc" id="astructbmp3__status_html_a94a993c9f8ecd7fc53503144c60d73b2"><div class="ttname"><a href="structbmp3__status.html#a94a993c9f8ecd7fc53503144c60d73b2">bmp3_status::err</a></div><div class="ttdeci">struct bmp3_err_status err</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00677">bmp3_defs.h:677</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00167">BMP3_ERR_CMD</a>, <a class="el" href="bmp3__defs_8h_source.html#l00168">BMP3_ERR_CONF</a>, <a class="el" href="bmp3__defs_8h_source.html#l00166">BMP3_ERR_FATAL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00433">BMP3_GET_BITS_POS_0</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00146">BMP3_REG_ERR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00658">bmp3_err_status::cmd</a>, <a class="el" href="bmp3__defs_8h_source.html#l00661">bmp3_err_status::conf</a>, <a class="el" href="bmp3__defs_8h_source.html#l00677">bmp3_status::err</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00655">bmp3_err_status::fatal</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01204">bmp3_get_status()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_cgraph.png" border="0" usemap="#abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_cgraph" alt=""/></div>
<map name="abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_cgraph" id="abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_cgraph">
<area shape="rect" title="This API gets the fatal, command and configuration error from the sensor." alt="" coords="5,5,110,32"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="158,5,268,32"/>
<area shape="poly" title=" " alt="" coords="110,16,142,16,142,21,110,21"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="316,5,421,32"/>
<area shape="poly" title=" " alt="" coords="269,16,300,16,300,21,269,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_icgraph.png" border="0" usemap="#abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_icgraph" alt=""/></div>
<map name="abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_icgraph" id="abmp3_8c_a195d7a3d3d58b7eb8ae7fb7001d288e7_icgraph">
<area shape="rect" title="This API gets the fatal, command and configuration error from the sensor." alt="" coords="175,5,279,32"/>
<area shape="rect" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="5,5,127,32"/>
<area shape="poly" title=" " alt="" coords="159,21,127,21,127,16,159,16"/>
</map>
</div>

</div>
</div>
<a id="a368ebb915fde9c9f35eabd588b1820f0" name="a368ebb915fde9c9f35eabd588b1820f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368ebb915fde9c9f35eabd588b1820f0">&#9670;&#160;</a></span>get_int_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t get_int_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname"></td><td>Structure instance of <a class="el" href="structbmp3__status.html" title="bmp3 status flags">bmp3_status</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02924">2924</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2925</span>{</div>
<div class="line"><span class="lineno"> 2926</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2927</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 2928</span> </div>
<div class="line"><span class="lineno"> 2929</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#aac4bd972b5bd2890a1e88fdee332a8aa">BMP3_REG_INT_STATUS</a>, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2930</span> </div>
<div class="line"><span class="lineno"> 2931</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2932</span>    {</div>
<div class="line"><span class="lineno"> 2933</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#ac894dca102946b04979041c42f9cce94">intr</a>.<a class="code hl_variable" href="structbmp3__int__status.html#a4e13557d2517761031f3873ff714bc3d">fifo_wm</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(reg_data, BMP3_INT_STATUS_FWTM);</div>
<div class="line"><span class="lineno"> 2934</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#ac894dca102946b04979041c42f9cce94">intr</a>.<a class="code hl_variable" href="structbmp3__int__status.html#ae71c9bb41161f86bbc47c0aab40df149">fifo_full</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, BMP3_INT_STATUS_FFULL);</div>
<div class="line"><span class="lineno"> 2935</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#ac894dca102946b04979041c42f9cce94">intr</a>.<a class="code hl_variable" href="structbmp3__int__status.html#a163e278c9d1770b15fad3c2cb384bee3">drdy</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, BMP3_INT_STATUS_DRDY);</div>
<div class="line"><span class="lineno"> 2936</span>    }</div>
<div class="line"><span class="lineno"> 2937</span> </div>
<div class="line"><span class="lineno"> 2938</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2939</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_aac4bd972b5bd2890a1e88fdee332a8aa"><div class="ttname"><a href="bmp3__defs_8h.html#aac4bd972b5bd2890a1e88fdee332a8aa">BMP3_REG_INT_STATUS</a></div><div class="ttdeci">#define BMP3_REG_INT_STATUS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00150">bmp3_defs.h:150</a></div></div>
<div class="ttc" id="astructbmp3__int__status_html_a163e278c9d1770b15fad3c2cb384bee3"><div class="ttname"><a href="structbmp3__int__status.html#a163e278c9d1770b15fad3c2cb384bee3">bmp3_int_status::drdy</a></div><div class="ttdeci">uint8_t drdy</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00645">bmp3_defs.h:645</a></div></div>
<div class="ttc" id="astructbmp3__int__status_html_a4e13557d2517761031f3873ff714bc3d"><div class="ttname"><a href="structbmp3__int__status.html#a4e13557d2517761031f3873ff714bc3d">bmp3_int_status::fifo_wm</a></div><div class="ttdeci">uint8_t fifo_wm</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00639">bmp3_defs.h:639</a></div></div>
<div class="ttc" id="astructbmp3__int__status_html_ae71c9bb41161f86bbc47c0aab40df149"><div class="ttname"><a href="structbmp3__int__status.html#ae71c9bb41161f86bbc47c0aab40df149">bmp3_int_status::fifo_full</a></div><div class="ttdeci">uint8_t fifo_full</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00642">bmp3_defs.h:642</a></div></div>
<div class="ttc" id="astructbmp3__status_html_ac894dca102946b04979041c42f9cce94"><div class="ttname"><a href="structbmp3__status.html#ac894dca102946b04979041c42f9cce94">bmp3_status::intr</a></div><div class="ttdeci">struct bmp3_int_status intr</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00671">bmp3_defs.h:671</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00433">BMP3_GET_BITS_POS_0</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00150">BMP3_REG_INT_STATUS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00645">bmp3_int_status::drdy</a>, <a class="el" href="bmp3__defs_8h_source.html#l00642">bmp3_int_status::fifo_full</a>, <a class="el" href="bmp3__defs_8h_source.html#l00639">bmp3_int_status::fifo_wm</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00671">bmp3_status::intr</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01204">bmp3_get_status()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_cgraph.png" border="0" usemap="#abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_cgraph" alt=""/></div>
<map name="abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_cgraph" id="abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_cgraph">
<area shape="rect" title="This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor." alt="" coords="5,5,109,32"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="157,5,267,32"/>
<area shape="poly" title=" " alt="" coords="109,16,141,16,141,21,109,21"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="315,5,420,32"/>
<area shape="poly" title=" " alt="" coords="268,16,299,16,299,21,268,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_icgraph.png" border="0" usemap="#abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_icgraph" alt=""/></div>
<map name="abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_icgraph" id="abmp3_8c_a368ebb915fde9c9f35eabd588b1820f0_icgraph">
<area shape="rect" title="This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor." alt="" coords="175,5,278,32"/>
<area shape="rect" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="5,5,127,32"/>
<area shape="poly" title=" " alt="" coords="159,21,127,21,127,16,159,16"/>
</map>
</div>

</div>
</div>
<a id="a48ab3e6c4219db46f80e0d0789fbaafb" name="a48ab3e6c4219db46f80e0d0789fbaafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ab3e6c4219db46f80e0d0789fbaafb">&#9670;&#160;</a></span>get_odr_filter_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t get_odr_filter_settings </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API gets the over sampling, ODR and filter settings from the sensor. </p>
<p>This internal API gets the over sampling, ODR and filter settings of the sensor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02072">2072</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2073</span>{</div>
<div class="line"><span class="lineno"> 2074</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2075</span>    uint8_t reg_data[4];</div>
<div class="line"><span class="lineno"> 2076</span> </div>
<div class="line"><span class="lineno"> 2077</span>    <span class="comment">/* Read data beginning from 0x1C register */</span></div>
<div class="line"><span class="lineno"> 2078</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a98c1e4a3c474a51ba0fd3b819c3f2db6">BMP3_REG_OSR</a>, reg_data, 4, dev);</div>
<div class="line"><span class="lineno"> 2079</span> </div>
<div class="line"><span class="lineno"> 2080</span>    <span class="comment">/* Parse the read data and store it in dev structure */</span></div>
<div class="line"><span class="lineno"> 2081</span>    <a class="code hl_function" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c">parse_odr_filter_settings</a>(reg_data, &amp;settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>);</div>
<div class="line"><span class="lineno"> 2082</span> </div>
<div class="line"><span class="lineno"> 2083</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2084</span>}</div>
<div class="ttc" id="abmp3_8c_html_add16f6eeb6f80c2407685192259abf5c"><div class="ttname"><a href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c">parse_odr_filter_settings</a></div><div class="ttdeci">static void parse_odr_filter_settings(const uint8_t *reg_data, struct bmp3_odr_filter_settings *settings)</div><div class="ttdoc">This internal API parse the over sampling, ODR and filter settings and store in the device structure.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01870">bmp3.c:1870</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00159">BMP3_REG_OSR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, and <a class="el" href="bmp3_8c_source.html#l01870">parse_odr_filter_settings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01768">validate_normal_mode_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_cgraph.png" border="0" usemap="#abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_cgraph" alt=""/></div>
<map name="abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_cgraph" id="abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_cgraph">
<area shape="rect" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="5,31,155,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="229,5,340,32"/>
<area shape="poly" title=" " alt="" coords="155,32,214,25,214,30,156,37"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="203,56,366,83"/>
<area shape="poly" title=" " alt="" coords="156,51,188,55,187,60,155,56"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="414,5,519,32"/>
<area shape="poly" title=" " alt="" coords="340,16,399,16,399,21,340,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_icgraph.png" border="0" usemap="#abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_icgraph" alt=""/></div>
<map name="abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_icgraph" id="abmp3_8c_a48ab3e6c4219db46f80e0d0789fbaafb_icgraph">
<area shape="rect" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="816,31,965,57"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="617,23,768,65"/>
<area shape="poly" title=" " alt="" coords="800,47,768,47,768,41,800,41"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="444,31,569,57"/>
<area shape="poly" title=" " alt="" coords="601,47,569,47,569,41,601,41"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="429,47,397,47,397,41,429,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a5c69c0b99515a74ba3a121cc14051967" name="a5c69c0b99515a74ba3a121cc14051967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c69c0b99515a74ba3a121cc14051967">&#9670;&#160;</a></span>get_sensor_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t get_sensor_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__status.html">bmp3_status</a> *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API fills the fifo_config_1(fifo_mode,
fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en) settings in the reg_data variable so as to burst write in the sensor. </p>
<p>This internal API is used to parse the fifo_config_1(fifo_mode,
fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en), fifo_config_2(fifo_subsampling, data_select) and int_ctrl(fwtm_en, ffull_en) settings and store it in device structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable which specifies the settings which are to be set in the sensor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_settings</td><td>: Structure instance of <a class="el" href="structbmp3__fifo__settings.html" title="bmp3 fifo configuration">bmp3_fifo_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a></td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment"> @brief This internal API fills the fifo_config_2(fifo_sub_sampling,
 data_select) settings in the reg_data variable so as to burst write
 in the sensor.

 @param[in] desired_settings : Variable which specifies the settings which
                               are to be set in the sensor.
 @param[in] fifo_settings    : Structure instance of bmp3_fifo_settings
 @param[in] dev              : Structure instance of bmp3_dev
&amp;zwj;/
</pre><p> static int8_t fill_fifo_config_2(uint16_t desired_settings,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev);</p>
<p>/*!</p>
<p>This internal API fills the fifo interrupt control(fwtm_en, ffull_en) settings in the reg_data variable so as to burst write in the sensor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable which specifies the settings which are to be set in the sensor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_settings</td><td>: Structure instance of <a class="el" href="structbmp3__fifo__settings.html" title="bmp3 fifo configuration">bmp3_fifo_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a> &zwj;/ static int8_t fill_fifo_int_ctrl(uint16_t desired_settings,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API is used to parse the fifo_config_1(fifo_mode,
     fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en), fifo_config_2(fifo_subsampling, data_select) and int_ctrl(fwtm_en, ffull_en) settings and store it in device structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Pointer variable which stores the fifo settings data read from the sensor. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fifo_settings</td><td>: Structure instance of <a class="el" href="structbmp3__fifo__settings.html" title="bmp3 fifo configuration">bmp3_fifo_settings</a> which contains the fifo settings after parsing. &zwj;/ static void parse_fifo_settings(const uint8_t *reg_data, struct bmp3_fifo_settings *fifo_settings);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API parse the FIFO data frame from the fifo buffer and fills the byte count, uncompensated pressure and/or temperature data and no of parsed frames.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>: Pointer variable which stores the fifo settings data read from the sensor. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fifo</td><td>: Structure instance of bmp3_fifo </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count which is incremented according to the of data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Uncompensated pressure and/or temperature data which is stored after parsing fifo buffer data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">parsed_frames</td><td>: Total number of parsed frames.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail &zwj;/ static uint8_t parse_fifo_data_frame(uint8_t header,
struct bmp3_fifo_data *fifo,
uint16_t *byte_index,
struct bmp3_uncomp_data *uncomp_data,
uint8_t *parsed_frames);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count, uncompensated pressure and/or temperature data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count of fifo buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer from where the temperature and pressure frames are unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Uncompensated temperature and pressure data after unpacking from fifo buffer. &zwj;/ static void unpack_temp_press_frame(uint16_t *byte_index,
const uint8_t *fifo_buffer,
struct bmp3_uncomp_data *uncomp_data);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count and uncompensated pressure data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count of fifo buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer from where the pressure frames are unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Uncompensated pressure data after unpacking from fifo buffer. &zwj;/ static void unpack_press_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, struct bmp3_uncomp_data *uncomp_data);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count and uncompensated temperature data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count of fifo buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer from where the temperature frames are unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Uncompensated temperature data after unpacking from fifo buffer. &zwj;/ static void unpack_temp_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, struct bmp3_uncomp_data *uncomp_data);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API unpacks the time frame from the fifo data buffer and fills the byte count and update the sensor time variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count of fifo buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer from where the sensor time frames are unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sensor_time</td><td>: Variable used to store the sensor time. &zwj;/ static void unpack_time_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, uint32_t *sensor_time);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API parses the FIFO buffer and gets the header info.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">header</td><td>: Variable used to store the fifo header data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer from where the header data is retrieved. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">byte_index</td><td>: Byte count of fifo buffer. &zwj;/ static void get_header_info(uint8_t *header, const uint8_t *fifo_buffer, uint16_t *byte_index);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API parses the FIFO data frame from the fifo buffer and fills uncompensated temperature and/or pressure data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_comp</td><td>: Variable used to select either temperature or pressure or both while parsing the fifo frames. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fifo_buffer</td><td>: FIFO buffer where the temperature or pressure or both the data to be parsed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Uncompensated temperature or pressure or both the data after unpacking from fifo buffer. &zwj;/ static void parse_fifo_sensor_data(uint8_t sensor_comp, const uint8_t *fifo_buffer,
struct bmp3_uncomp_data *uncomp_data);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This internal API resets the FIFO buffer, start index, parsed frame count, configuration change, configuration error and frame_not_available variables.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">fifo</td><td>: FIFO structure instance where the fifo related variables are reset. &zwj;/ static void reset_fifo_index(struct bmp3_fifo_data *fifo);</td></tr>
  </table>
  </dd>
</dl>
<p>/*!</p>
<p>This API gets the command ready, data ready for pressure and temperature, power on reset status from the sensor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname"></td><td>Structure instance of <a class="el" href="structbmp3__status.html" title="bmp3 status flags">bmp3_status</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment"> @brief This internal API fills the fifo_config_1(fifo_mode,
 fifo_stop_on_full, fifo_time_en, fifo_press_en, fifo_temp_en) settings in the
 reg_data variable so as to burst write in the sensor.
&amp;zwj;/
</pre><p> static int8_t fill_fifo_config_1(uint16_t desired_settings,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev) { int8_t rslt; uint8_t reg_addr = BMP3_REG_FIFO_CONFIG_1; uint8_t reg_data;</p>
<p>rslt = bmp3_get_regs(reg_addr, &amp;reg_data, 1, dev);</p>
<p>if (rslt == BMP3_OK) { if (desired_settings &amp; BMP3_SEL_FIFO_MODE) { /* Fill the FIFO mode register data *&zwj;/ reg_data = BMP3_SET_BITS_POS_0(reg_data, BMP3_FIFO_MODE, fifo_settings-&gt;mode); }</p>
<p>if (desired_settings &amp; BMP3_SEL_FIFO_STOP_ON_FULL_EN) { /* Fill the stop on full data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_STOP_ON_FULL, fifo_settings-&gt;stop_on_full_en); }</p>
<p>if (desired_settings &amp; BMP3_SEL_FIFO_TIME_EN) { /* Fill the time enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_TIME_EN, fifo_settings-&gt;time_en); }</p>
<p>if (desired_settings &amp; (BMP3_SEL_FIFO_PRESS_EN | BMP3_SEL_FIFO_TEMP_EN)) { /* Fill the pressure enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_PRESS_EN, fifo_settings-&gt;press_en);</p>
<p>/* Fill the temperature enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_TEMP_EN, fifo_settings-&gt;temp_en); }</p>
<p>/* Write the power control settings in the register *&zwj;/ rslt = bmp3_set_regs(&amp;reg_addr, &amp;reg_data, 1, dev); }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This internal API fills the fifo_config_2(fifo_subsampling,
     data_select) settings in the reg_data variable so as to burst write in the sensor. &zwj;/ static int8_t fill_fifo_config_2(uint16_t desired_settings,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev) { int8_t rslt; uint8_t reg_addr = BMP3_REG_FIFO_CONFIG_2; uint8_t reg_data;</p>
<p>rslt = bmp3_get_regs(reg_addr, &amp;reg_data, 1, dev);</p>
<p>if (rslt == BMP3_OK) { if (desired_settings &amp; BMP3_SEL_FIFO_DOWN_SAMPLING) { /* To do check Normal mode <em>&zwj;/ /</em> Fill the down-sampling data *&zwj;/ reg_data = BMP3_SET_BITS_POS_0(reg_data, BMP3_FIFO_DOWN_SAMPLING, fifo_settings-&gt;down_sampling); }</p>
<p>if (desired_settings &amp; BMP3_SEL_FIFO_FILTER_EN) { /* Fill the filter enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_FILTER_EN, fifo_settings-&gt;filter_en); }</p>
<p>/* Write the power control settings in the register *&zwj;/ rslt = bmp3_set_regs(&amp;reg_addr, &amp;reg_data, 1, dev); }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This internal API fills the fifo interrupt control(fwtm_en, ffull_en) settings in the reg_data variable so as to burst write in the sensor. &zwj;/ static int8_t fill_fifo_int_ctrl(uint16_t desired_settings,
const struct bmp3_fifo_settings *fifo_settings,
struct bmp3_dev *dev) { int8_t rslt; uint8_t reg_addr = BMP3_REG_INT_CTRL; uint8_t reg_data;</p>
<p>rslt = bmp3_get_regs(reg_addr, &amp;reg_data, 1, dev);</p>
<p>if (rslt == BMP3_OK) { if (desired_settings &amp; BMP3_SEL_FIFO_FWTM_EN) { /* Fill the FIFO watermark interrupt enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_FWTM_EN, fifo_settings-&gt;fwtm_en); }</p>
<p>if (desired_settings &amp; BMP3_SEL_FIFO_FULL_EN) { /* Fill the FIFO full interrupt enable data *&zwj;/ reg_data = BMP3_SET_BITS(reg_data, BMP3_FIFO_FULL_EN, fifo_settings-&gt;ffull_en); }</p>
<p>/* Write the power control settings in the register *&zwj;/ rslt = bmp3_set_regs(&amp;reg_addr, &amp;reg_data, 1, dev); }</p>
<p>return rslt; }</p>
<p>/*!</p>
<p>This API gets the command ready, data ready for pressure and temperature, power on reset status from the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02898">2898</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2899</span>{</div>
<div class="line"><span class="lineno"> 2900</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2901</span>    uint8_t reg_addr;</div>
<div class="line"><span class="lineno"> 2902</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 2903</span> </div>
<div class="line"><span class="lineno"> 2904</span>    reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a7f0cdaf87ebb6c453b7587a196f78a14">BMP3_REG_SENS_STATUS</a>;</div>
<div class="line"><span class="lineno"> 2905</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2906</span> </div>
<div class="line"><span class="lineno"> 2907</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2908</span>    {</div>
<div class="line"><span class="lineno"> 2909</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a16216babcb99d3a5a020cbdde7b48928">sensor</a>.<a class="code hl_variable" href="structbmp3__sens__status.html#af28152c1ed5a6eb42b96ad70e92308a9">cmd_rdy</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, BMP3_STATUS_CMD_RDY);</div>
<div class="line"><span class="lineno"> 2910</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a16216babcb99d3a5a020cbdde7b48928">sensor</a>.<a class="code hl_variable" href="structbmp3__sens__status.html#a42c57252b1db483d30cb6b0337ac9029">drdy_press</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, BMP3_STATUS_DRDY_PRESS);</div>
<div class="line"><span class="lineno"> 2911</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#a16216babcb99d3a5a020cbdde7b48928">sensor</a>.<a class="code hl_variable" href="structbmp3__sens__status.html#ad316164bfab0ec3b98aba9f455d5b078">drdy_temp</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data, BMP3_STATUS_DRDY_TEMP);</div>
<div class="line"><span class="lineno"> 2912</span>        reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#ab03b74374d46f0d87af2ef4902d4d83f">BMP3_REG_EVENT</a>;</div>
<div class="line"><span class="lineno"> 2913</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2914</span>        status-&gt;<a class="code hl_variable" href="structbmp3__status.html#ab5050e3d0b4f4a6be193320c8b0bc778">pwr_on_rst</a> = reg_data &amp; 0x01;</div>
<div class="line"><span class="lineno"> 2915</span>    }</div>
<div class="line"><span class="lineno"> 2916</span> </div>
<div class="line"><span class="lineno"> 2917</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2918</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_ab03b74374d46f0d87af2ef4902d4d83f"><div class="ttname"><a href="bmp3__defs_8h.html#ab03b74374d46f0d87af2ef4902d4d83f">BMP3_REG_EVENT</a></div><div class="ttdeci">#define BMP3_REG_EVENT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00149">bmp3_defs.h:149</a></div></div>
<div class="ttc" id="astructbmp3__sens__status_html_a42c57252b1db483d30cb6b0337ac9029"><div class="ttname"><a href="structbmp3__sens__status.html#a42c57252b1db483d30cb6b0337ac9029">bmp3_sens_status::drdy_press</a></div><div class="ttdeci">uint8_t drdy_press</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00626">bmp3_defs.h:626</a></div></div>
<div class="ttc" id="astructbmp3__sens__status_html_ad316164bfab0ec3b98aba9f455d5b078"><div class="ttname"><a href="structbmp3__sens__status.html#ad316164bfab0ec3b98aba9f455d5b078">bmp3_sens_status::drdy_temp</a></div><div class="ttdeci">uint8_t drdy_temp</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00629">bmp3_defs.h:629</a></div></div>
<div class="ttc" id="astructbmp3__sens__status_html_af28152c1ed5a6eb42b96ad70e92308a9"><div class="ttname"><a href="structbmp3__sens__status.html#af28152c1ed5a6eb42b96ad70e92308a9">bmp3_sens_status::cmd_rdy</a></div><div class="ttdeci">uint8_t cmd_rdy</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00623">bmp3_defs.h:623</a></div></div>
<div class="ttc" id="astructbmp3__status_html_a16216babcb99d3a5a020cbdde7b48928"><div class="ttname"><a href="structbmp3__status.html#a16216babcb99d3a5a020cbdde7b48928">bmp3_status::sensor</a></div><div class="ttdeci">struct bmp3_sens_status sensor</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00674">bmp3_defs.h:674</a></div></div>
<div class="ttc" id="astructbmp3__status_html_ab5050e3d0b4f4a6be193320c8b0bc778"><div class="ttname"><a href="structbmp3__status.html#ab5050e3d0b4f4a6be193320c8b0bc778">bmp3_status::pwr_on_rst</a></div><div class="ttdeci">uint8_t pwr_on_rst</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00680">bmp3_defs.h:680</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00149">BMP3_REG_EVENT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00147">BMP3_REG_SENS_STATUS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00623">bmp3_sens_status::cmd_rdy</a>, <a class="el" href="bmp3__defs_8h_source.html#l00626">bmp3_sens_status::drdy_press</a>, <a class="el" href="bmp3__defs_8h_source.html#l00629">bmp3_sens_status::drdy_temp</a>, <a class="el" href="bmp3__defs_8h_source.html#l00680">bmp3_status::pwr_on_rst</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00674">bmp3_status::sensor</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01204">bmp3_get_status()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a5c69c0b99515a74ba3a121cc14051967_cgraph.png" border="0" usemap="#abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_cgraph" alt=""/></div>
<map name="abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_cgraph" id="abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_cgraph">
<area shape="rect" title="This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,..." alt="" coords="5,5,134,32"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="182,5,292,32"/>
<area shape="poly" title=" " alt="" coords="134,16,166,16,166,21,134,21"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="340,5,445,32"/>
<area shape="poly" title=" " alt="" coords="293,16,324,16,324,21,293,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a5c69c0b99515a74ba3a121cc14051967_icgraph.png" border="0" usemap="#abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_icgraph" alt=""/></div>
<map name="abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_icgraph" id="abmp3_8c_a5c69c0b99515a74ba3a121cc14051967_icgraph">
<area shape="rect" title="This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,..." alt="" coords="175,5,303,32"/>
<area shape="rect" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="5,5,127,32"/>
<area shape="poly" title=" " alt="" coords="159,21,127,21,127,16,159,16"/>
</map>
</div>

</div>
</div>
<a id="aa5c65995726d3062cf7e5659cbdc3472" name="aa5c65995726d3062cf7e5659cbdc3472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c65995726d3062cf7e5659cbdc3472">&#9670;&#160;</a></span>interleave_reg_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interleave_reg_addr </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>temp_buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API interleaves the register address between the register data buffer for burst write operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_addr</td><td>: Contains the register address array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">temp_buff</td><td>: Contains the temporary buffer to store the register data and register address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Contains the register data to be written in the temporary buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>: No of bytes of data to be written for burst write. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01807">1807</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1808</span>{</div>
<div class="line"><span class="lineno"> 1809</span>    uint32_t index;</div>
<div class="line"><span class="lineno"> 1810</span> </div>
<div class="line"><span class="lineno"> 1811</span>    <span class="keywordflow">for</span> (index = 1; index &lt; len; index++)</div>
<div class="line"><span class="lineno"> 1812</span>    {</div>
<div class="line"><span class="lineno"> 1813</span>        temp_buff[(index * 2) - 1] = reg_addr[index];</div>
<div class="line"><span class="lineno"> 1814</span>        temp_buff[index * 2] = reg_data[index];</div>
<div class="line"><span class="lineno"> 1815</span>    }</div>
<div class="line"><span class="lineno"> 1816</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aa5c65995726d3062cf7e5659cbdc3472_icgraph.png" border="0" usemap="#abmp3_8c_aa5c65995726d3062cf7e5659cbdc3472_icgraph" alt=""/></div>
<map name="abmp3_8c_aa5c65995726d3062cf7e5659cbdc3472_icgraph" id="abmp3_8c_aa5c65995726d3062cf7e5659cbdc3472_icgraph">
<area shape="rect" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="1025,183,1160,209"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="867,183,977,209"/>
<area shape="poly" title=" " alt="" coords="1010,199,978,199,978,193,1010,193"/>
<area shape="rect" href="bmp3_8c.html#abe254ed403bc857b64db09c771f6b83e" title="This API performs the soft reset of the sensor." alt="" coords="688,5,801,32"/>
<area shape="poly" title=" " alt="" coords="907,170,872,107,847,74,817,46,798,35,801,30,821,42,851,71,877,104,911,167"/>
<area shape="rect" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1" title="This API performs the soft reset of the sensor." alt="" coords="474,309,592,336"/>
<area shape="poly" title=" " alt="" coords="914,225,900,256,881,291,854,325,820,350,788,364,753,370,718,372,683,369,617,356,566,339,568,334,619,351,683,364,718,367,752,365,786,358,818,346,850,321,876,288,896,254,909,223"/>
<area shape="rect" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0" title="This internal API puts the device to sleep mode." alt="" coords="463,132,603,159"/>
<area shape="poly" title=" " alt="" coords="886,177,854,160,818,148,763,139,706,135,604,139,604,134,706,130,764,133,820,143,856,155,888,172"/>
<area shape="rect" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="670,208,818,235"/>
<area shape="poly" title=" " alt="" coords="852,209,819,213,818,208,851,203"/>
<area shape="rect" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="675,259,814,285"/>
<area shape="poly" title=" " alt="" coords="883,219,820,249,790,261,788,256,818,244,881,214"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="670,309,819,336"/>
<area shape="poly" title=" " alt="" coords="903,223,867,262,820,300,797,311,795,306,818,295,864,258,899,219"/>
<area shape="rect" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="672,157,817,184"/>
<area shape="poly" title=" " alt="" coords="851,189,817,184,818,178,852,183"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="679,56,810,83"/>
<area shape="poly" title=" " alt="" coords="897,173,861,138,818,104,783,86,785,81,820,99,865,134,901,169"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="288,208,366,235"/>
<area shape="poly" title=" " alt="" coords="489,305,355,237,357,233,492,300"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,208,210,235"/>
<area shape="poly" title=" " alt="" coords="273,224,211,224,211,219,273,219"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,157,209,184"/>
<area shape="poly" title=" " alt="" coords="273,208,203,187,204,182,275,203"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,183,55,209"/>
<area shape="poly" title=" " alt="" coords="87,210,54,203,55,198,88,205"/>
<area shape="poly" title=" " alt="" coords="89,187,56,194,55,188,88,182"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,107,396,133"/>
<area shape="poly" title=" " alt="" coords="447,137,397,131,397,126,447,132"/>
<area shape="poly" title=" " alt="" coords="295,145,211,198,189,210,187,205,209,194,292,140"/>
<area shape="poly" title=" " alt="" coords="266,141,205,159,203,154,264,136"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="444,233,622,260"/>
<area shape="poly" title=" " alt="" coords="655,235,622,239,622,233,655,229"/>
<area shape="poly" title=" " alt="" coords="429,255,345,255,258,249,202,238,203,233,258,244,345,250,429,250"/>
<area shape="poly" title=" " alt="" coords="486,229,443,213,396,199,297,182,209,175,210,170,298,177,397,193,445,208,488,224"/>
<area shape="poly" title=" " alt="" coords="660,265,622,260,623,255,660,259"/>
<area shape="poly" title=" " alt="" coords="687,306,669,300,569,263,571,258,671,295,689,301"/>
<area shape="poly" title=" " alt="" coords="689,192,671,199,571,235,569,230,669,193,687,187"/>
<area shape="poly" title=" " alt="" coords="663,63,559,60,501,64,445,72,395,88,354,108,351,104,393,83,444,67,501,58,558,55,664,58"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="471,81,595,108"/>
<area shape="poly" title=" " alt="" coords="664,82,596,90,595,85,664,76"/>
<area shape="poly" title=" " alt="" coords="456,107,397,114,397,109,455,102"/>
</map>
</div>

</div>
</div>
<a id="a9db82f2117ddfa4eccef8a018e738aab" name="a9db82f2117ddfa4eccef8a018e738aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db82f2117ddfa4eccef8a018e738aab">&#9670;&#160;</a></span>null_ptr_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t null_ptr_check </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to validate the device pointer for null conditions. </p>
<p>This internal API is used to validate the device structure pointer for null conditions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02724">2724</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2725</span>{</div>
<div class="line"><span class="lineno"> 2726</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2727</span> </div>
<div class="line"><span class="lineno"> 2728</span>    <span class="keywordflow">if</span> ((dev == <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a056343ee3b4ab8ae54a2ebc844c46199">read</a> == <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#a5ffd9caba25c47dc58dcfc8937a310e7">write</a> == <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aaa2b96147cfca18db010d5a1844ede1a">delay_us</a> == <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div>
<div class="line"><span class="lineno"> 2729</span>        (dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#adc997a5a7af63e7e518892c4188e9e6f">intf_ptr</a> == <a class="code hl_define" href="bmp3__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><span class="lineno"> 2730</span>    {</div>
<div class="line"><span class="lineno"> 2731</span>        <span class="comment">/* Device structure pointer is not valid */</span></div>
<div class="line"><span class="lineno"> 2732</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#aba1bf8670ec4ab7065cbe334b188f7d2">BMP3_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno"> 2733</span>    }</div>
<div class="line"><span class="lineno"> 2734</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2735</span>    {</div>
<div class="line"><span class="lineno"> 2736</span>        <span class="comment">/* Device structure is fine */</span></div>
<div class="line"><span class="lineno"> 2737</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno"> 2738</span>    }</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2740</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2741</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00261">BMP3_E_NULL_PTR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00926">bmp3_dev::delay_us</a>, <a class="el" href="bmp3__defs_8h_source.html#l00905">bmp3_dev::intf_ptr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00088">NULL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00920">bmp3_dev::read</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00923">bmp3_dev::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3_8c_source.html#l00738">bmp3_init()</a>, <a class="el" href="bmp3_8c_source.html#l01350">bmp3_set_op_mode()</a>, and <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a9db82f2117ddfa4eccef8a018e738aab_icgraph.png" border="0" usemap="#abmp3_8c_a9db82f2117ddfa4eccef8a018e738aab_icgraph" alt=""/></div>
<map name="abmp3_8c_a9db82f2117ddfa4eccef8a018e738aab_icgraph" id="abmp3_8c_a9db82f2117ddfa4eccef8a018e738aab_icgraph">
<area shape="rect" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="1240,740,1345,767"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="1081,537,1192,564"/>
<area shape="poly" title=" " alt="" coords="1269,729,1146,566,1150,563,1273,726"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,457,396,484"/>
<area shape="poly" title=" " alt="" coords="1284,782,1250,860,1224,904,1194,946,1156,987,1118,1022,1080,1049,1041,1069,1000,1080,956,1083,908,1076,855,1060,801,1036,749,1006,700,971,654,933,570,849,497,760,436,672,388,592,332,486,337,483,393,590,441,669,501,756,574,845,658,929,704,967,752,1001,803,1031,857,1055,909,1071,956,1077,999,1075,1039,1064,1077,1045,1115,1018,1152,983,1190,942,1220,901,1245,857,1279,780"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="681,663,758,689"/>
<area shape="poly" title=" " alt="" coords="1271,781,1198,855,1148,897,1092,937,1033,968,1002,979,972,985,941,987,911,984,882,974,854,958,837,942,826,924,820,888,818,849,814,828,806,805,767,740,730,691,734,688,771,737,810,803,819,826,823,848,825,888,831,923,841,938,858,954,884,970,912,979,941,982,971,980,1001,974,1031,963,1090,932,1145,893,1195,851,1267,777"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="1081,208,1192,235"/>
<area shape="poly" title=" " alt="" coords="1280,726,1139,236,1144,234,1285,724"/>
<area shape="rect" href="bmp3_8c.html#abe254ed403bc857b64db09c771f6b83e" title="This API performs the soft reset of the sensor." alt="" coords="888,157,1001,184"/>
<area shape="poly" title=" " alt="" coords="1133,522,1130,456,1116,369,1103,322,1085,277,1062,235,1031,198,1017,187,1001,180,1003,175,1020,183,1035,194,1066,232,1090,275,1108,321,1121,367,1135,455,1138,522"/>
<area shape="rect" href="bmp3_8c.html#ae11b6673c9cf7e6da640712c183ed2e7" title="This API gets the fifo length from the sensor." alt="" coords="872,917,1017,944"/>
<area shape="poly" title=" " alt="" coords="1138,580,1135,646,1121,734,1108,781,1090,826,1066,869,1035,907,1019,919,1016,915,1031,903,1062,866,1085,824,1103,779,1116,733,1130,646,1133,580"/>
<area shape="rect" href="bmp3_8c.html#aab06f63f2fc075f9d40bd0a16d42fda5" title="This API gets the power mode of the sensor." alt="" coords="444,483,583,509"/>
<area shape="poly" title=" " alt="" coords="1066,558,978,561,869,560,749,553,630,536,550,512,551,507,631,531,750,547,869,555,978,555,1066,553"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="866,1019,1023,1045"/>
<area shape="poly" title=" " alt="" coords="1136,580,1130,651,1113,748,1083,855,1062,908,1036,958,1004,994,970,1020,967,1016,1000,990,1031,954,1057,906,1078,853,1108,746,1124,650,1131,579"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="856,613,1033,640"/>
<area shape="poly" title=" " alt="" coords="1091,573,1034,597,986,615,984,610,1032,592,1089,568"/>
<area shape="poly" title=" " alt="" coords="1120,578,1084,619,1061,639,1034,654,999,668,961,678,885,687,814,688,758,684,759,679,814,683,884,682,960,673,997,663,1032,650,1057,635,1080,615,1115,575"/>
<area shape="rect" href="bmp3_8c.html#ad83b435b6be380ec33d48b5b84a068b1" title="This API performs the soft reset of the sensor." alt="" coords="886,461,1004,488"/>
<area shape="poly" title=" " alt="" coords="1096,532,1032,502,999,491,1000,486,1034,498,1098,527"/>
<area shape="rect" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="892,715,997,741"/>
<area shape="poly" title=" " alt="" coords="1125,579,1090,639,1064,670,1035,698,999,717,996,713,1032,694,1061,667,1085,636,1120,577"/>
<area shape="rect" href="bmp3_8c.html#a195d7a3d3d58b7eb8ae7fb7001d288e7" title="This API gets the fatal, command and configuration error from the sensor." alt="" coords="892,867,997,893"/>
<area shape="poly" title=" " alt="" coords="1137,580,1130,638,1114,712,1101,751,1084,789,1062,825,1035,857,1018,869,998,876,996,871,1015,864,1032,853,1058,822,1080,787,1096,749,1109,710,1125,637,1131,579"/>
<area shape="rect" href="bmp3_8c.html#a368ebb915fde9c9f35eabd588b1820f0" title="This API gets the interrupt (fifo watermark, fifo full, data ready) status from the sensor." alt="" coords="893,765,996,792"/>
<area shape="poly" title=" " alt="" coords="1131,580,1119,619,1100,667,1072,714,1035,755,1017,767,998,774,996,769,1015,762,1032,751,1068,711,1095,664,1114,617,1126,578"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="870,512,1019,539"/>
<area shape="poly" title=" " alt="" coords="1065,544,1020,538,1020,533,1066,539"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="451,420,576,447"/>
<area shape="poly" title=" " alt="" coords="1116,526,1081,486,1058,466,1032,452,973,431,911,417,848,410,785,407,669,412,577,424,576,419,668,407,785,402,848,404,912,412,974,426,1034,447,1061,462,1084,482,1120,523"/>
<area shape="rect" href="bmp3_8c.html#a5c69c0b99515a74ba3a121cc14051967" title="This internal API fills the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en,..." alt="" coords="880,816,1009,843"/>
<area shape="poly" title=" " alt="" coords="1134,580,1125,629,1107,690,1078,752,1059,781,1035,806,1011,821,1008,816,1032,802,1054,777,1074,749,1102,688,1120,628,1129,579"/>
<area shape="rect" href="bmp3_8c.html#a565abda70f15c7b170f0fa78447a38d0" title="This internal API puts the device to sleep mode." alt="" coords="874,309,1015,336"/>
<area shape="poly" title=" " alt="" coords="1125,523,1112,486,1093,441,1066,396,1032,357,1002,339,1004,334,1035,353,1071,393,1098,439,1117,484,1130,522"/>
<area shape="rect" href="bmp3_8c.html#a072e5dd96a990f200b803e2171b9683a" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="870,259,1019,285"/>
<area shape="poly" title=" " alt="" coords="1129,522,1120,474,1102,413,1074,352,1054,324,1032,299,1015,288,1018,284,1035,295,1059,321,1078,349,1107,412,1125,472,1134,521"/>
<area shape="rect" href="bmp3_8c.html#ab139240281afcb1f040efb009f945a48" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="876,5,1014,32"/>
<area shape="poly" title=" " alt="" coords="1128,523,1079,251,1050,112,1039,66,1031,46,1013,32,1016,28,1035,42,1044,65,1056,111,1084,250,1133,522"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="870,56,1019,83"/>
<area shape="poly" title=" " alt="" coords="1131,522,1124,451,1108,355,1078,248,1057,196,1031,147,1000,111,967,85,970,81,1004,107,1036,144,1062,194,1083,246,1113,354,1130,451,1136,521"/>
<area shape="rect" href="bmp3_8c.html#a0b42270b60c1b36ff881d3752ae477ec" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="872,208,1017,235"/>
<area shape="poly" title=" " alt="" coords="1131,522,1125,465,1109,391,1096,352,1080,314,1058,279,1032,249,1015,237,1019,233,1035,245,1062,276,1084,312,1101,350,1114,389,1130,464,1137,521"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="654,360,784,387"/>
<area shape="poly" title=" " alt="" coords="1122,524,1108,495,1088,463,1063,432,1032,408,1002,393,971,382,905,369,841,365,785,368,785,362,841,360,906,364,972,377,1004,388,1035,403,1067,428,1093,460,1113,493,1127,522"/>
<area shape="poly" title=" " alt="" coords="428,487,397,483,397,477,429,482"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,457,210,484"/>
<area shape="poly" title=" " alt="" coords="242,473,211,473,211,468,242,468"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,508,209,535"/>
<area shape="poly" title=" " alt="" coords="266,492,205,510,203,505,264,486"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,508,55,535"/>
<area shape="poly" title=" " alt="" coords="108,493,56,514,54,509,106,488"/>
<area shape="poly" title=" " alt="" coords="88,524,55,524,55,519,88,519"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="264,888,390,915"/>
<area shape="poly" title=" " alt="" coords="862,1017,390,917,391,912,863,1012"/>
<area shape="poly" title=" " alt="" coords="304,877,40,537,44,533,308,874"/>
<area shape="poly" title=" " alt="" coords="665,660,195,487,196,482,667,655"/>
<area shape="poly" title=" " alt="" coords="665,676,583,669,480,654,367,630,311,613,257,593,208,566,171,537,174,533,211,561,259,588,313,608,369,625,481,649,584,663,665,671"/>
<area shape="poly" title=" " alt="" coords="872,494,858,502,813,541,776,587,748,630,730,663,725,661,743,628,772,584,809,537,854,498,870,489"/>
<area shape="poly" title=" " alt="" coords="876,715,758,687,759,682,877,710"/>
<area shape="rect" href="bmp3_8c.html#a61fadb14757875e006860607719e47f0" title="This API sets the fifo_config_1(fifo_mode, fifo_stop_on_full, fifo_time_en, fifo_press_en,..." alt="" coords="659,816,780,843"/>
<area shape="poly" title=" " alt="" coords="877,868,780,846,781,840,878,862"/>
<area shape="poly" title=" " alt="" coords="879,796,781,818,780,813,878,791"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="644,479,795,521"/>
<area shape="poly" title=" " alt="" coords="855,518,795,511,796,506,855,513"/>
<area shape="poly" title=" " alt="" coords="636,476,556,450,558,445,638,471"/>
<area shape="poly" title=" " alt="" coords="437,451,398,459,396,454,436,446"/>
<area shape="poly" title=" " alt="" coords="865,832,781,832,781,827,865,827"/>
<area shape="poly" title=" " alt="" coords="859,319,770,318,664,325,553,343,498,359,445,378,414,396,385,418,342,459,339,455,382,414,411,392,443,374,496,353,551,338,664,319,770,313,859,314"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="631,208,808,235"/>
<area shape="poly" title=" " alt="" coords="867,257,781,238,782,233,868,252"/>
<area shape="poly" title=" " alt="" coords="641,207,556,197,456,196,404,201,353,213,304,230,260,256,235,277,215,302,199,330,186,360,169,416,162,457,157,456,164,415,181,358,194,328,211,299,231,273,256,251,302,225,352,207,403,196,456,190,556,191,642,202"/>
<area shape="poly" title=" " alt="" coords="662,243,578,274,474,319,364,377,310,411,260,447,236,473,212,498,192,510,189,505,208,494,232,469,256,443,307,406,361,373,472,314,576,269,660,238"/>
<area shape="poly" title=" " alt="" coords="866,41,858,46,813,85,776,131,748,175,730,209,725,206,743,173,771,128,809,82,854,42,863,37"/>
<area shape="poly" title=" " alt="" coords="883,91,857,104,820,130,785,159,735,210,731,206,782,155,817,125,855,99,881,86"/>
<area shape="poly" title=" " alt="" coords="857,224,809,224,809,219,857,219"/>
<area shape="poly" title=" " alt="" coords="639,378,545,388,494,397,445,411,392,434,350,459,347,455,390,429,443,405,493,392,544,383,638,373"/>
<area shape="poly" title=" " alt="" coords="657,394,563,422,561,417,656,389"/>
<area shape="poly" title=" " alt="" coords="1068,206,997,187,999,182,1069,201"/>
<area shape="poly" title=" " alt="" coords="1118,249,958,463,954,459,1114,246"/>
<area shape="poly" title=" " alt="" coords="1111,247,1076,274,1035,300,1006,311,1004,306,1032,295,1073,270,1107,243"/>
<area shape="poly" title=" " alt="" coords="1069,242,999,261,997,255,1068,237"/>
<area shape="poly" title=" " alt="" coords="1124,194,1111,160,1091,120,1065,80,1032,46,1013,35,1015,30,1035,42,1069,77,1096,117,1116,158,1129,192"/>
<area shape="poly" title=" " alt="" coords="1117,196,1081,149,1058,125,1032,104,996,86,999,81,1035,99,1061,121,1085,146,1121,193"/>
<area shape="poly" title=" " alt="" coords="1066,224,1018,224,1018,219,1066,219"/>
<area shape="poly" title=" " alt="" coords="1111,199,1076,171,1032,148,983,132,941,123,902,127,858,148,836,168,828,191,823,217,810,248,769,312,734,361,729,358,765,309,806,245,818,216,823,189,832,165,854,143,901,121,942,118,984,126,1034,143,1079,166,1114,195"/>
</map>
</div>

</div>
</div>
<a id="a0eac7300e956796b856d5f0279f5850f" name="a0eac7300e956796b856d5f0279f5850f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eac7300e956796b856d5f0279f5850f">&#9670;&#160;</a></span>parse_advance_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_advance_settings </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__adv__settings.html">bmp3_adv_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Pointer variable which stores the register data to parse. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__adv__settings.html" title="bmp3 advance settings">bmp3_adv_settings</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01849">1849</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1850</span>{</div>
<div class="line"><span class="lineno"> 1851</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__adv__settings.html#ac0ea36cba0fb165ba2a2dc95e78e86ab">i2c_wdt_en</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_I2C_WDT_EN);</div>
<div class="line"><span class="lineno"> 1852</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__adv__settings.html#a86f304287a6b0470fda2d9bb655068be">i2c_wdt_sel</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_I2C_WDT_SEL);</div>
<div class="line"><span class="lineno"> 1853</span>}</div>
<div class="ttc" id="astructbmp3__adv__settings_html_a86f304287a6b0470fda2d9bb655068be"><div class="ttname"><a href="structbmp3__adv__settings.html#a86f304287a6b0470fda2d9bb655068be">bmp3_adv_settings::i2c_wdt_sel</a></div><div class="ttdeci">uint8_t i2c_wdt_sel</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00594">bmp3_defs.h:594</a></div></div>
<div class="ttc" id="astructbmp3__adv__settings_html_ac0ea36cba0fb165ba2a2dc95e78e86ab"><div class="ttname"><a href="structbmp3__adv__settings.html#ac0ea36cba0fb165ba2a2dc95e78e86ab">bmp3_adv_settings::i2c_wdt_en</a></div><div class="ttdeci">uint8_t i2c_wdt_en</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00591">bmp3_defs.h:591</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00591">bmp3_adv_settings::i2c_wdt_en</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00594">bmp3_adv_settings::i2c_wdt_sel</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01823">parse_sett_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0eac7300e956796b856d5f0279f5850f_icgraph.png" border="0" usemap="#abmp3_8c_a0eac7300e956796b856d5f0279f5850f_icgraph" alt=""/></div>
<map name="abmp3_8c_a0eac7300e956796b856d5f0279f5850f_icgraph" id="abmp3_8c_a0eac7300e956796b856d5f0279f5850f_icgraph">
<area shape="rect" title="This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device struct..." alt="" coords="393,5,555,32"/>
<area shape="rect" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="231,5,345,32"/>
<area shape="poly" title=" " alt="" coords="378,21,345,21,345,16,378,16"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,5,183,32"/>
<area shape="poly" title=" " alt="" coords="215,21,183,21,183,16,215,16"/>
</map>
</div>

</div>
</div>
<a id="a1a9dab11b748936abcec7b712d721ca6" name="a1a9dab11b748936abcec7b712d721ca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a9dab11b748936abcec7b712d721ca6">&#9670;&#160;</a></span>parse_calib_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_calib_data </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to parse the calibration data, compensates it and store it in device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reg_data</td><td>: Contains calibration data to be parsed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02545">2545</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2546</span>{</div>
<div class="line"><span class="lineno"> 2547</span>    <span class="comment">/* Temporary variable to store the aligned trim data */</span></div>
<div class="line"><span class="lineno"> 2548</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__reg__calib__data.html">bmp3_reg_calib_data</a> *reg_calib_data = &amp;dev-&gt;<a class="code hl_variable" href="structbmp3__dev.html#aa0c2c57cc91b5783cf7398d2b7633232">calib_data</a>.<a class="code hl_variable" href="structbmp3__calib__data.html#aa1d8ba796bd972e59c1c55b4d606a35f">reg_calib_data</a>;</div>
<div class="line"><span class="lineno"> 2549</span> </div>
<div class="line"><span class="lineno"> 2550</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a779aafb6cd84f5ce285d20750af82ce6">par_t1</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[1], reg_data[0]);</div>
<div class="line"><span class="lineno"> 2551</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a159020c763b4f07f9296d2d305fdefe7">par_t2</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[3], reg_data[2]);</div>
<div class="line"><span class="lineno"> 2552</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#aafa622f4ebe5a0e0f9522dc6e707399f">par_t3</a> = (int8_t)reg_data[4];</div>
<div class="line"><span class="lineno"> 2553</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a64c3673ac35d9867171484ad9e45cf3d">par_p1</a> = (int16_t)<a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[6], reg_data[5]);</div>
<div class="line"><span class="lineno"> 2554</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a62fc7c62cea3dda52926eddcb820ffb9">par_p2</a> = (int16_t)<a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[8], reg_data[7]);</div>
<div class="line"><span class="lineno"> 2555</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a00816e56a67724ef7051bfae69d537c4">par_p3</a> = (int8_t)reg_data[9];</div>
<div class="line"><span class="lineno"> 2556</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a2a3bba4e57f9085ccc171ec47f963f4a">par_p4</a> = (int8_t)reg_data[10];</div>
<div class="line"><span class="lineno"> 2557</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a894b732113d106550c5a2b7c6012d7ea">par_p5</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[12], reg_data[11]);</div>
<div class="line"><span class="lineno"> 2558</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a3a8ccb3a112b72387c43a36e0155a278">par_p6</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[14], reg_data[13]);</div>
<div class="line"><span class="lineno"> 2559</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a41adc35302e55f84e909f8ccae1bf075">par_p7</a> = (int8_t)reg_data[15];</div>
<div class="line"><span class="lineno"> 2560</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#ab09c5d1dea9a780e85e188e207274548">par_p8</a> = (int8_t)reg_data[16];</div>
<div class="line"><span class="lineno"> 2561</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#af6368a7595506acd5eb933f409bebd8a">par_p9</a> = (int16_t)<a class="code hl_define" href="bmp3__defs_8h.html#ad0081e2592138bf72a3f56ef42a7cc27">BMP3_CONCAT_BYTES</a>(reg_data[18], reg_data[17]);</div>
<div class="line"><span class="lineno"> 2562</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a4a05b84eb333f465806a91e3b70d2cd8">par_p10</a> = (int8_t)reg_data[19];</div>
<div class="line"><span class="lineno"> 2563</span>    reg_calib_data-&gt;<a class="code hl_variable" href="structbmp3__reg__calib__data.html#a081849c35af6533d4761a11bb512bd70">par_p11</a> = (int8_t)reg_data[20];</div>
<div class="line"><span class="lineno"> 2564</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00418">BMP3_CONCAT_BYTES</a>, <a class="el" href="bmp3__defs_8h_source.html#l00929">bmp3_dev::calib_data</a>, <a class="el" href="bmp3__defs_8h_source.html#l00570">bmp3_reg_calib_data::par_p1</a>, <a class="el" href="bmp3__defs_8h_source.html#l00579">bmp3_reg_calib_data::par_p10</a>, <a class="el" href="bmp3__defs_8h_source.html#l00580">bmp3_reg_calib_data::par_p11</a>, <a class="el" href="bmp3__defs_8h_source.html#l00571">bmp3_reg_calib_data::par_p2</a>, <a class="el" href="bmp3__defs_8h_source.html#l00572">bmp3_reg_calib_data::par_p3</a>, <a class="el" href="bmp3__defs_8h_source.html#l00573">bmp3_reg_calib_data::par_p4</a>, <a class="el" href="bmp3__defs_8h_source.html#l00574">bmp3_reg_calib_data::par_p5</a>, <a class="el" href="bmp3__defs_8h_source.html#l00575">bmp3_reg_calib_data::par_p6</a>, <a class="el" href="bmp3__defs_8h_source.html#l00576">bmp3_reg_calib_data::par_p7</a>, <a class="el" href="bmp3__defs_8h_source.html#l00577">bmp3_reg_calib_data::par_p8</a>, <a class="el" href="bmp3__defs_8h_source.html#l00578">bmp3_reg_calib_data::par_p9</a>, <a class="el" href="bmp3__defs_8h_source.html#l00567">bmp3_reg_calib_data::par_t1</a>, <a class="el" href="bmp3__defs_8h_source.html#l00568">bmp3_reg_calib_data::par_t2</a>, <a class="el" href="bmp3__defs_8h_source.html#l00569">bmp3_reg_calib_data::par_t3</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00833">bmp3_calib_data::reg_calib_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01786">get_calib_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a1a9dab11b748936abcec7b712d721ca6_icgraph.png" border="0" usemap="#abmp3_8c_a1a9dab11b748936abcec7b712d721ca6_icgraph" alt=""/></div>
<map name="abmp3_8c_a1a9dab11b748936abcec7b712d721ca6_icgraph" id="abmp3_8c_a1a9dab11b748936abcec7b712d721ca6_icgraph">
<area shape="rect" title="This internal API is used to parse the calibration data, compensates it and store it in device struct..." alt="" coords="537,31,656,57"/>
<area shape="rect" href="bmp3_8c.html#a455d1f37d94acad6b4031ca0b3044491" title="This internal API reads the calibration data from the sensor, parse it then compensates it and store ..." alt="" coords="383,31,489,57"/>
<area shape="poly" title=" " alt="" coords="521,47,489,47,489,41,521,41"/>
<area shape="rect" href="bmp3_8c.html#aff608ffafb8ebd79b7a0251b75451fba" title="This internal API converts the no. of frames required by the user to bytes so as to write in the wate..." alt="" coords="258,31,335,57"/>
<area shape="poly" title=" " alt="" coords="368,47,336,47,336,41,368,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,37,210,31,211,26,243,32"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,56,210,62,209,57,242,51"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a8fcb87fba39df5da4a471d163e02c84e" name="a8fcb87fba39df5da4a471d163e02c84e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fcb87fba39df5da4a471d163e02c84e">&#9670;&#160;</a></span>parse_int_ctrl_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_int_ctrl_settings </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__int__ctrl__settings.html">bmp3_int_ctrl_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API parse the interrupt control(output mode, level,
latch and data ready) settings and store in the device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Pointer variable which stores the register data to parse. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__int__ctrl__settings.html" title="bmp3 interrupt pin settings">bmp3_int_ctrl_settings</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01842">1842</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1843</span>{</div>
<div class="line"><span class="lineno"> 1844</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__int__ctrl__settings.html#abdaf7a5c6030e71dd71a2eafecdfbae3">output_mode</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(*reg_data, BMP3_INT_OUTPUT_MODE);</div>
<div class="line"><span class="lineno"> 1845</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__int__ctrl__settings.html#a81dc69e960c5e573711edcf8dc74ef29">level</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_INT_LEVEL);</div>
<div class="line"><span class="lineno"> 1846</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__int__ctrl__settings.html#ac1799b71f6f38fc75ff3c163c54a086c">latch</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_INT_LATCH);</div>
<div class="line"><span class="lineno"> 1847</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__int__ctrl__settings.html#aa8fca821b487da86af00c9d8a411a7ff">drdy_en</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_INT_DRDY_EN);</div>
<div class="line"><span class="lineno"> 1848</span>}</div>
<div class="ttc" id="astructbmp3__int__ctrl__settings_html_a81dc69e960c5e573711edcf8dc74ef29"><div class="ttname"><a href="structbmp3__int__ctrl__settings.html#a81dc69e960c5e573711edcf8dc74ef29">bmp3_int_ctrl_settings::level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00693">bmp3_defs.h:693</a></div></div>
<div class="ttc" id="astructbmp3__int__ctrl__settings_html_aa8fca821b487da86af00c9d8a411a7ff"><div class="ttname"><a href="structbmp3__int__ctrl__settings.html#aa8fca821b487da86af00c9d8a411a7ff">bmp3_int_ctrl_settings::drdy_en</a></div><div class="ttdeci">uint8_t drdy_en</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00699">bmp3_defs.h:699</a></div></div>
<div class="ttc" id="astructbmp3__int__ctrl__settings_html_abdaf7a5c6030e71dd71a2eafecdfbae3"><div class="ttname"><a href="structbmp3__int__ctrl__settings.html#abdaf7a5c6030e71dd71a2eafecdfbae3">bmp3_int_ctrl_settings::output_mode</a></div><div class="ttdeci">uint8_t output_mode</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00690">bmp3_defs.h:690</a></div></div>
<div class="ttc" id="astructbmp3__int__ctrl__settings_html_ac1799b71f6f38fc75ff3c163c54a086c"><div class="ttname"><a href="structbmp3__int__ctrl__settings.html#ac1799b71f6f38fc75ff3c163c54a086c">bmp3_int_ctrl_settings::latch</a></div><div class="ttdeci">uint8_t latch</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00696">bmp3_defs.h:696</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00433">BMP3_GET_BITS_POS_0</a>, <a class="el" href="bmp3__defs_8h_source.html#l00699">bmp3_int_ctrl_settings::drdy_en</a>, <a class="el" href="bmp3__defs_8h_source.html#l00696">bmp3_int_ctrl_settings::latch</a>, <a class="el" href="bmp3__defs_8h_source.html#l00693">bmp3_int_ctrl_settings::level</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00690">bmp3_int_ctrl_settings::output_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01823">parse_sett_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a8fcb87fba39df5da4a471d163e02c84e_icgraph.png" border="0" usemap="#abmp3_8c_a8fcb87fba39df5da4a471d163e02c84e_icgraph" alt=""/></div>
<map name="abmp3_8c_a8fcb87fba39df5da4a471d163e02c84e_icgraph" id="abmp3_8c_a8fcb87fba39df5da4a471d163e02c84e_icgraph">
<area shape="rect" title="This internal API parse the interrupt control(output mode, level, latch and data ready) settings and ..." alt="" coords="393,5,545,32"/>
<area shape="rect" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="231,5,345,32"/>
<area shape="poly" title=" " alt="" coords="377,21,345,21,345,16,377,16"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,5,183,32"/>
<area shape="poly" title=" " alt="" coords="215,21,183,21,183,16,215,16"/>
</map>
</div>

</div>
</div>
<a id="add16f6eeb6f80c2407685192259abf5c" name="add16f6eeb6f80c2407685192259abf5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add16f6eeb6f80c2407685192259abf5c">&#9670;&#160;</a></span>parse_odr_filter_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_odr_filter_settings </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__odr__filter__settings.html">bmp3_odr_filter_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API parse the over sampling, ODR and filter settings and store in the device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Pointer variable which stores the register data to parse. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__odr__filter__settings.html" title="bmp3 odr and filter settings">bmp3_odr_filter_settings</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01870">1870</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1871</span>{</div>
<div class="line"><span class="lineno"> 1872</span>    uint8_t index = 0;</div>
<div class="line"><span class="lineno"> 1873</span> </div>
<div class="line"><span class="lineno"> 1874</span>    <span class="comment">/* ODR and filter settings index starts from one (0x1C register) */</span></div>
<div class="line"><span class="lineno"> 1875</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a3973292431df56f2b563838c1f39b97d">press_os</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(reg_data[index], BMP3_PRESS_OS);</div>
<div class="line"><span class="lineno"> 1876</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a107585c84a2fe539c98ea86220b227cf">temp_os</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data[index], BMP3_TEMP_OS);</div>
<div class="line"><span class="lineno"> 1877</span> </div>
<div class="line"><span class="lineno"> 1878</span>    <span class="comment">/* Move index to 0x1D register */</span></div>
<div class="line"><span class="lineno"> 1879</span>    index++;</div>
<div class="line"><span class="lineno"> 1880</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">odr</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(reg_data[index], BMP3_ODR);</div>
<div class="line"><span class="lineno"> 1881</span> </div>
<div class="line"><span class="lineno"> 1882</span>    <span class="comment">/* Move index to 0x1F register */</span></div>
<div class="line"><span class="lineno"> 1883</span>    index = index + 2;</div>
<div class="line"><span class="lineno"> 1884</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a0ecceb6f505932d5786de218ddf81f22">iir_filter</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(reg_data[index], BMP3_IIR_FILTER);</div>
<div class="line"><span class="lineno"> 1885</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00433">BMP3_GET_BITS_POS_0</a>, <a class="el" href="bmp3__defs_8h_source.html#l00610">bmp3_odr_filter_settings::iir_filter</a>, <a class="el" href="bmp3__defs_8h_source.html#l00613">bmp3_odr_filter_settings::odr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00604">bmp3_odr_filter_settings::press_os</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00607">bmp3_odr_filter_settings::temp_os</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02072">get_odr_filter_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01823">parse_sett_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_add16f6eeb6f80c2407685192259abf5c_icgraph.png" border="0" usemap="#abmp3_8c_add16f6eeb6f80c2407685192259abf5c_icgraph" alt=""/></div>
<map name="abmp3_8c_add16f6eeb6f80c2407685192259abf5c_icgraph" id="abmp3_8c_add16f6eeb6f80c2407685192259abf5c_icgraph">
<area shape="rect" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="1039,60,1203,87"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="842,33,991,60"/>
<area shape="poly" title=" " alt="" coords="1023,63,991,59,992,54,1024,58"/>
<area shape="rect" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="860,85,974,112"/>
<area shape="poly" title=" " alt="" coords="1024,88,974,94,974,89,1024,83"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="630,23,781,65"/>
<area shape="poly" title=" " alt="" coords="827,48,781,48,781,42,827,43"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="444,31,569,57"/>
<area shape="poly" title=" " alt="" coords="614,47,569,47,569,41,614,41"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="429,47,397,47,397,41,429,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="617,89,794,116"/>
<area shape="poly" title=" " alt="" coords="844,103,795,104,795,98,843,97"/>
</map>
</div>

</div>
</div>
<a id="a6422c146af6af181460f70bf2d373191" name="a6422c146af6af181460f70bf2d373191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6422c146af6af181460f70bf2d373191">&#9670;&#160;</a></span>parse_pwr_ctrl_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_pwr_ctrl_settings </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API parse the power control(power mode, pressure enable
and temperature enable) settings and store in the device structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Pointer variable which stores the register data to parse. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01859">1859</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1860</span>{</div>
<div class="line"><span class="lineno"> 1861</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a083f16f7e5ef228ada7957a14320a66b">op_mode</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_OP_MODE);</div>
<div class="line"><span class="lineno"> 1862</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aa888cbb311564264dd408a7c957bf004">press_en</a> = <a class="code hl_define" href="bmp3__defs_8h.html#a628cccb7a6475df068259325e901a1c0">BMP3_GET_BITS_POS_0</a>(*reg_data, BMP3_PRESS_EN);</div>
<div class="line"><span class="lineno"> 1863</span>    settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a10e2a083d00b1ba60c6f96bfc0ffee23">temp_en</a> = <a class="code hl_define" href="bmp3__defs_8h.html#ad3ce8f9cdfe76180cb45f6d1028d4e18">BMP3_GET_BITS</a>(*reg_data, BMP3_TEMP_EN);</div>
<div class="line"><span class="lineno"> 1864</span>}</div>
<div class="ttc" id="astructbmp3__settings_html_a10e2a083d00b1ba60c6f96bfc0ffee23"><div class="ttname"><a href="structbmp3__settings.html#a10e2a083d00b1ba60c6f96bfc0ffee23">bmp3_settings::temp_en</a></div><div class="ttdeci">uint8_t temp_en</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00715">bmp3_defs.h:715</a></div></div>
<div class="ttc" id="astructbmp3__settings_html_aa888cbb311564264dd408a7c957bf004"><div class="ttname"><a href="structbmp3__settings.html#aa888cbb311564264dd408a7c957bf004">bmp3_settings::press_en</a></div><div class="ttdeci">uint8_t press_en</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00712">bmp3_defs.h:712</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00429">BMP3_GET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00433">BMP3_GET_BITS_POS_0</a>, <a class="el" href="bmp3__defs_8h_source.html#l00709">bmp3_settings::op_mode</a>, <a class="el" href="bmp3__defs_8h_source.html#l00712">bmp3_settings::press_en</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00715">bmp3_settings::temp_en</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01823">parse_sett_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a6422c146af6af181460f70bf2d373191_icgraph.png" border="0" usemap="#abmp3_8c_a6422c146af6af181460f70bf2d373191_icgraph" alt=""/></div>
<map name="abmp3_8c_a6422c146af6af181460f70bf2d373191_icgraph" id="abmp3_8c_a6422c146af6af181460f70bf2d373191_icgraph">
<area shape="rect" title="This internal API parse the power control(power mode, pressure enable and temperature enable) setting..." alt="" coords="393,5,552,32"/>
<area shape="rect" href="bmp3_8c.html#ae5620d53e3c117de27ec7d4217bf7ae2" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="231,5,345,32"/>
<area shape="poly" title=" " alt="" coords="377,21,346,21,346,16,377,16"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,5,183,32"/>
<area shape="poly" title=" " alt="" coords="215,21,183,21,183,16,215,16"/>
</map>
</div>

</div>
</div>
<a id="a20da06fe77b3d93f19a83f6a0cd59b48" name="a20da06fe77b3d93f19a83f6a0cd59b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20da06fe77b3d93f19a83f6a0cd59b48">&#9670;&#160;</a></span>parse_sensor_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_sensor_data </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__uncomp__data.html">bmp3_uncomp_data</a> *&#160;</td>
          <td class="paramname"><em>uncomp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to parse the pressure and temperature data and store it in the <a class="el" href="structbmp3__uncomp__data.html" title="bmp3 sensor structure which comprises of un-compensated temperature and pressure data.">bmp3_uncomp_data</a> structure instance. </p>
<p>This internal API is used to parse the pressure or temperature or both the data and store it in the <a class="el" href="structbmp3__uncomp__data.html" title="bmp3 sensor structure which comprises of un-compensated temperature and pressure data.">bmp3_uncomp_data</a> structure instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Contains the register data which needs to be parsed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uncomp_data</td><td>: Contains the uncompensated press and temp data. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02273">2273</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2274</span>{</div>
<div class="line"><span class="lineno"> 2275</span>    <span class="comment">/* Temporary variables to store the sensor data */</span></div>
<div class="line"><span class="lineno"> 2276</span>    uint32_t data_xlsb;</div>
<div class="line"><span class="lineno"> 2277</span>    uint32_t data_lsb;</div>
<div class="line"><span class="lineno"> 2278</span>    uint32_t data_msb;</div>
<div class="line"><span class="lineno"> 2279</span> </div>
<div class="line"><span class="lineno"> 2280</span>    <span class="comment">/* Store the parsed register values for pressure data */</span></div>
<div class="line"><span class="lineno"> 2281</span>    data_xlsb = (uint32_t)reg_data[0];</div>
<div class="line"><span class="lineno"> 2282</span>    data_lsb = (uint32_t)reg_data[1] &lt;&lt; 8;</div>
<div class="line"><span class="lineno"> 2283</span>    data_msb = (uint32_t)reg_data[2] &lt;&lt; 16;</div>
<div class="line"><span class="lineno"> 2284</span>    uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#a47ece12dc176e7f52d4c27a1ea234364">pressure</a> = data_msb | data_lsb | data_xlsb;</div>
<div class="line"><span class="lineno"> 2285</span> </div>
<div class="line"><span class="lineno"> 2286</span>    <span class="comment">/* Store the parsed register values for temperature data */</span></div>
<div class="line"><span class="lineno"> 2287</span>    data_xlsb = (uint32_t)reg_data[3];</div>
<div class="line"><span class="lineno"> 2288</span>    data_lsb = (uint32_t)reg_data[4] &lt;&lt; 8;</div>
<div class="line"><span class="lineno"> 2289</span>    data_msb = (uint32_t)reg_data[5] &lt;&lt; 16;</div>
<div class="line"><span class="lineno"> 2290</span>    uncomp_data-&gt;<a class="code hl_variable" href="structbmp3__uncomp__data.html#af0ccbff5b1d29af7bd4bb9d953b1574e">temperature</a> = data_msb | data_lsb | data_xlsb;</div>
<div class="line"><span class="lineno"> 2291</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00884">bmp3_uncomp_data::pressure</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00887">bmp3_uncomp_data::temperature</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01428">bmp3_get_sensor_data()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a20da06fe77b3d93f19a83f6a0cd59b48_icgraph.png" border="0" usemap="#abmp3_8c_a20da06fe77b3d93f19a83f6a0cd59b48_icgraph" alt=""/></div>
<map name="abmp3_8c_a20da06fe77b3d93f19a83f6a0cd59b48_icgraph" id="abmp3_8c_a20da06fe77b3d93f19a83f6a0cd59b48_icgraph">
<area shape="rect" title="This internal API is used to parse the pressure and temperature data and store it in the bmp3_uncomp_..." alt="" coords="480,5,612,32"/>
<area shape="rect" href="bmp3_8c.html#a8b7c253abd6cd44aa260578a10395697" title="This API reads the pressure, temperature or both data from the sensor, compensates the data and store..." alt="" coords="276,5,432,32"/>
<area shape="poly" title=" " alt="" coords="465,21,433,21,433,16,465,16"/>
<area shape="rect" href="group___r_t_o_s___tasks.html#ga3271a69550bc5f9966c76521e5823891" title="Function implementing the Sensor_Task thread." alt="" coords="103,5,228,32"/>
<area shape="poly" title=" " alt="" coords="260,21,228,21,228,16,260,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ae5620d53e3c117de27ec7d4217bf7ae2" name="ae5620d53e3c117de27ec7d4217bf7ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5620d53e3c117de27ec7d4217bf7ae2">&#9670;&#160;</a></span>parse_sett_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_sett_data </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>reg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API parse the power control(power mode, pressure enable
and temperature enable), over sampling, ODR, filter and interrupt control settings and store in the device structure. </p>
<p>This internal API parse the power control(power mode, pressure enable
and temperature enable), over sampling, ODR, filter, interrupt control and advance settings and store in the device structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_data</td><td>: Register data to be parsed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01823">1823</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1824</span>{</div>
<div class="line"><span class="lineno"> 1825</span>    <span class="comment">/* Parse interrupt control settings and store in device structure */</span></div>
<div class="line"><span class="lineno"> 1826</span>    <a class="code hl_function" href="bmp3_8c.html#a8fcb87fba39df5da4a471d163e02c84e">parse_int_ctrl_settings</a>(&amp;reg_data[0], &amp;settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aa89d8f327de480729ab6a128e7701165">int_settings</a>);</div>
<div class="line"><span class="lineno"> 1827</span> </div>
<div class="line"><span class="lineno"> 1828</span>    <span class="comment">/* Parse advance settings and store in device structure */</span></div>
<div class="line"><span class="lineno"> 1829</span>    <a class="code hl_function" href="bmp3_8c.html#a0eac7300e956796b856d5f0279f5850f">parse_advance_settings</a>(&amp;reg_data[1], &amp;settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aca1162abd81172d91afb475fc92795c1">adv_settings</a>);</div>
<div class="line"><span class="lineno"> 1830</span> </div>
<div class="line"><span class="lineno"> 1831</span>    <span class="comment">/* Parse power control settings and store in device structure */</span></div>
<div class="line"><span class="lineno"> 1832</span>    <a class="code hl_function" href="bmp3_8c.html#a6422c146af6af181460f70bf2d373191">parse_pwr_ctrl_settings</a>(&amp;reg_data[2], settings);</div>
<div class="line"><span class="lineno"> 1833</span> </div>
<div class="line"><span class="lineno"> 1834</span>    <span class="comment">/* Parse ODR and filter settings and store in device structure */</span></div>
<div class="line"><span class="lineno"> 1835</span>    <a class="code hl_function" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c">parse_odr_filter_settings</a>(&amp;reg_data[3], &amp;settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>);</div>
<div class="line"><span class="lineno"> 1836</span>}</div>
<div class="ttc" id="abmp3_8c_html_a0eac7300e956796b856d5f0279f5850f"><div class="ttname"><a href="bmp3_8c.html#a0eac7300e956796b856d5f0279f5850f">parse_advance_settings</a></div><div class="ttdeci">static void parse_advance_settings(const uint8_t *reg_data, struct bmp3_adv_settings *settings)</div><div class="ttdoc">This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device struct...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01849">bmp3.c:1849</a></div></div>
<div class="ttc" id="abmp3_8c_html_a6422c146af6af181460f70bf2d373191"><div class="ttname"><a href="bmp3_8c.html#a6422c146af6af181460f70bf2d373191">parse_pwr_ctrl_settings</a></div><div class="ttdeci">static void parse_pwr_ctrl_settings(const uint8_t *reg_data, struct bmp3_settings *settings)</div><div class="ttdoc">This internal API parse the power control(power mode, pressure enable and temperature enable) setting...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01859">bmp3.c:1859</a></div></div>
<div class="ttc" id="abmp3_8c_html_a8fcb87fba39df5da4a471d163e02c84e"><div class="ttname"><a href="bmp3_8c.html#a8fcb87fba39df5da4a471d163e02c84e">parse_int_ctrl_settings</a></div><div class="ttdeci">static void parse_int_ctrl_settings(const uint8_t *reg_data, struct bmp3_int_ctrl_settings *settings)</div><div class="ttdoc">This internal API parse the interrupt control(output mode, level, latch and data ready) settings and ...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01842">bmp3.c:1842</a></div></div>
<div class="ttc" id="astructbmp3__settings_html_aa89d8f327de480729ab6a128e7701165"><div class="ttname"><a href="structbmp3__settings.html#aa89d8f327de480729ab6a128e7701165">bmp3_settings::int_settings</a></div><div class="ttdeci">struct bmp3_int_ctrl_settings int_settings</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00721">bmp3_defs.h:721</a></div></div>
<div class="ttc" id="astructbmp3__settings_html_aca1162abd81172d91afb475fc92795c1"><div class="ttname"><a href="structbmp3__settings.html#aca1162abd81172d91afb475fc92795c1">bmp3_settings::adv_settings</a></div><div class="ttdeci">struct bmp3_adv_settings adv_settings</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00724">bmp3_defs.h:724</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00724">bmp3_settings::adv_settings</a>, <a class="el" href="bmp3__defs_8h_source.html#l00721">bmp3_settings::int_settings</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, <a class="el" href="bmp3_8c_source.html#l01849">parse_advance_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01842">parse_int_ctrl_settings()</a>, <a class="el" href="bmp3_8c_source.html#l01870">parse_odr_filter_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01859">parse_pwr_ctrl_settings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00953">bmp3_get_sensor_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_cgraph.png" border="0" usemap="#abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_cgraph" alt=""/></div>
<map name="abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_cgraph" id="abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_cgraph">
<area shape="rect" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,81,120,108"/>
<area shape="rect" href="bmp3_8c.html#a0eac7300e956796b856d5f0279f5850f" title="This internal API parse the advance (i2c_wdt_en, i2c_wdt_sel) settings and store in the device struct..." alt="" coords="168,5,330,32"/>
<area shape="poly" title=" " alt="" coords="88,78,167,42,185,35,186,40,169,46,91,83"/>
<area shape="rect" href="bmp3_8c.html#a8fcb87fba39df5da4a471d163e02c84e" title="This internal API parse the interrupt control(output mode, level, latch and data ready) settings and ..." alt="" coords="173,56,326,83"/>
<area shape="poly" title=" " alt="" coords="120,84,157,79,158,84,120,90"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="168,107,331,133"/>
<area shape="poly" title=" " alt="" coords="120,100,152,104,152,109,120,105"/>
<area shape="rect" href="bmp3_8c.html#a6422c146af6af181460f70bf2d373191" title="This internal API parse the power control(power mode, pressure enable and temperature enable) setting..." alt="" coords="170,157,329,184"/>
<area shape="poly" title=" " alt="" coords="91,106,169,143,186,149,185,154,167,148,88,111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_icgraph.png" border="0" usemap="#abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_icgraph" alt=""/></div>
<map name="abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_icgraph" id="abmp3_8c_ae5620d53e3c117de27ec7d4217bf7ae2_icgraph">
<area shape="rect" title="This internal API parse the power control(power mode, pressure enable and temperature enable),..." alt="" coords="231,5,345,32"/>
<area shape="rect" href="bmp3_8c.html#ae7bbd9da06309195baa80bdc5d8579fe" title="This API gets the power control(power mode, pressure enable and temperature enable),..." alt="" coords="5,5,183,32"/>
<area shape="poly" title=" " alt="" coords="215,21,183,21,183,16,215,16"/>
</map>
</div>

</div>
</div>
<a id="aad90cd219d0ff052e613f123f25a79e3" name="aad90cd219d0ff052e613f123f25a79e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad90cd219d0ff052e613f123f25a79e3">&#9670;&#160;</a></span>pow_bmp3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t pow_bmp3 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>power</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API is used to calculate the power functionality. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">base</td><td>: Contains the base value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">power</td><td>: Contains the power value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Output of power function. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Calculated</td><td>power function output in integer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02683">2683</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2684</span>{</div>
<div class="line"><span class="lineno"> 2685</span>    uint32_t pow_output = 1;</div>
<div class="line"><span class="lineno"> 2686</span> </div>
<div class="line"><span class="lineno"> 2687</span>    <span class="keywordflow">while</span> (power != 0)</div>
<div class="line"><span class="lineno"> 2688</span>    {</div>
<div class="line"><span class="lineno"> 2689</span>        pow_output = base * pow_output;</div>
<div class="line"><span class="lineno"> 2690</span>        power--;</div>
<div class="line"><span class="lineno"> 2691</span>    }</div>
<div class="line"><span class="lineno"> 2692</span> </div>
<div class="line"><span class="lineno"> 2693</span>    <span class="keywordflow">return</span> pow_output;</div>
<div class="line"><span class="lineno"> 2694</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02153">calculate_press_meas_time()</a>, and <a class="el" href="bmp3_8c_source.html#l02176">calculate_temp_meas_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aad90cd219d0ff052e613f123f25a79e3_icgraph.png" border="0" usemap="#abmp3_8c_aad90cd219d0ff052e613f123f25a79e3_icgraph" alt=""/></div>
<map name="abmp3_8c_aad90cd219d0ff052e613f123f25a79e3_icgraph" id="abmp3_8c_aad90cd219d0ff052e613f123f25a79e3_icgraph">
<area shape="rect" title="This internal API is used to calculate the power functionality." alt="" coords="1279,35,1363,61"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="1047,9,1231,36"/>
<area shape="poly" title=" " alt="" coords="1263,43,1231,38,1232,33,1264,37"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="1049,60,1229,87"/>
<area shape="poly" title=" " alt="" coords="1264,59,1230,63,1229,58,1263,53"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="855,27,999,69"/>
<area shape="poly" title=" " alt="" coords="1032,38,1000,42,999,37,1032,33"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="657,5,806,32"/>
<area shape="poly" title=" " alt="" coords="839,38,806,32,807,27,840,32"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="656,56,807,99"/>
<area shape="poly" title=" " alt="" coords="840,64,808,69,807,63,839,58"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,8,435,35"/>
<area shape="poly" title=" " alt="" coords="641,22,436,23,436,18,641,17"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,8,210,35"/>
<area shape="poly" title=" " alt="" coords="243,24,211,24,211,19,243,19"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,59,209,85"/>
<area shape="poly" title=" " alt="" coords="280,42,210,61,209,55,278,37"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,33,55,60"/>
<area shape="poly" title=" " alt="" coords="88,38,55,44,54,39,87,33"/>
<area shape="poly" title=" " alt="" coords="88,61,55,54,56,49,89,56"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="483,60,608,87"/>
<area shape="poly" title=" " alt="" coords="640,78,608,77,608,72,641,73"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="278,59,416,85"/>
<area shape="poly" title=" " alt="" coords="468,75,416,75,416,70,468,70"/>
<area shape="poly" title=" " alt="" coords="278,57,209,38,210,33,280,51"/>
<area shape="poly" title=" " alt="" coords="262,75,209,75,209,69,262,69"/>
<area shape="poly" title=" " alt="" coords="1033,63,1000,59,1000,54,1034,58"/>
</map>
</div>

</div>
</div>
<a id="a565abda70f15c7b170f0fa78447a38d0" name="a565abda70f15c7b170f0fa78447a38d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a565abda70f15c7b170f0fa78447a38d0">&#9670;&#160;</a></span>put_device_to_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t put_device_to_sleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API puts the device to sleep mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01743">1743</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1744</span>{</div>
<div class="line"><span class="lineno"> 1745</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1746</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a>;</div>
<div class="line"><span class="lineno"> 1747</span> </div>
<div class="line"><span class="lineno"> 1748</span>    <span class="comment">/* Temporary variable to store the value read from op-mode register */</span></div>
<div class="line"><span class="lineno"> 1749</span>    uint8_t op_mode_reg_val;</div>
<div class="line"><span class="lineno"> 1750</span> </div>
<div class="line"><span class="lineno"> 1751</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a>, &amp;op_mode_reg_val, 1, dev);</div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1754</span>    {</div>
<div class="line"><span class="lineno"> 1755</span>        <span class="comment">/* Set the power mode */</span></div>
<div class="line"><span class="lineno"> 1756</span>        op_mode_reg_val = op_mode_reg_val &amp; (~(<a class="code hl_define" href="bmp3__defs_8h.html#afdef99c6c8ed5e1c1f615734760f6a7e">BMP3_OP_MODE_MSK</a>));</div>
<div class="line"><span class="lineno"> 1757</span> </div>
<div class="line"><span class="lineno"> 1758</span>        <span class="comment">/* Write the power mode in the register */</span></div>
<div class="line"><span class="lineno"> 1759</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;op_mode_reg_val, 1, dev);</div>
<div class="line"><span class="lineno"> 1760</span>    }</div>
<div class="line"><span class="lineno"> 1761</span> </div>
<div class="line"><span class="lineno"> 1762</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1763</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_afdef99c6c8ed5e1c1f615734760f6a7e"><div class="ttname"><a href="bmp3__defs_8h.html#afdef99c6c8ed5e1c1f615734760f6a7e">BMP3_OP_MODE_MSK</a></div><div class="ttdeci">#define BMP3_OP_MODE_MSK</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00345">bmp3_defs.h:345</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00345">BMP3_OP_MODE_MSK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00158">BMP3_REG_PWR_CTRL</a>, and <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01350">bmp3_set_op_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a565abda70f15c7b170f0fa78447a38d0_cgraph.png" border="0" usemap="#abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_cgraph" alt=""/></div>
<map name="abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_cgraph" id="abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_cgraph">
<area shape="rect" title="This internal API puts the device to sleep mode." alt="" coords="5,31,146,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="194,5,304,32"/>
<area shape="poly" title=" " alt="" coords="146,31,178,26,179,32,147,36"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="194,56,304,83"/>
<area shape="poly" title=" " alt="" coords="147,52,179,56,178,62,146,57"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="366,5,472,32"/>
<area shape="poly" title=" " alt="" coords="305,16,351,16,351,21,305,21"/>
<area shape="poly" title=" " alt="" coords="296,53,357,34,358,39,297,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="352,56,486,83"/>
<area shape="poly" title=" " alt="" coords="305,67,336,67,336,72,305,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a565abda70f15c7b170f0fa78447a38d0_icgraph.png" border="0" usemap="#abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_icgraph" alt=""/></div>
<map name="abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_icgraph" id="abmp3_8c_a565abda70f15c7b170f0fa78447a38d0_icgraph">
<area shape="rect" title="This internal API puts the device to sleep mode." alt="" coords="444,31,585,57"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="429,47,397,47,397,41,429,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a072e5dd96a990f200b803e2171b9683a" name="a072e5dd96a990f200b803e2171b9683a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a072e5dd96a990f200b803e2171b9683a">&#9670;&#160;</a></span>set_advance_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_advance_settings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the settings selected by the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable used to select the settings which are to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02037">2037</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2039</span>{</div>
<div class="line"><span class="lineno"> 2040</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2041</span>    uint8_t reg_addr;</div>
<div class="line"><span class="lineno"> 2042</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 2043</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__adv__settings.html">bmp3_adv_settings</a> adv_settings = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aca1162abd81172d91afb475fc92795c1">adv_settings</a>;</div>
<div class="line"><span class="lineno"> 2044</span> </div>
<div class="line"><span class="lineno"> 2045</span>    reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a6e3a4c985d20d76ac2f5ee481028e58f">BMP3_REG_IF_CONF</a>;</div>
<div class="line"><span class="lineno"> 2046</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2049</span>    {</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a90209f264db493db753cccbff1340e48">BMP3_SEL_I2C_WDT_EN</a>)</div>
<div class="line"><span class="lineno"> 2051</span>        {</div>
<div class="line"><span class="lineno"> 2052</span>            <span class="comment">/* Set the i2c watch dog enable bits */</span></div>
<div class="line"><span class="lineno"> 2053</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_I2C_WDT_EN, adv_settings.<a class="code hl_variable" href="structbmp3__adv__settings.html#ac0ea36cba0fb165ba2a2dc95e78e86ab">i2c_wdt_en</a>);</div>
<div class="line"><span class="lineno"> 2054</span>        }</div>
<div class="line"><span class="lineno"> 2055</span> </div>
<div class="line"><span class="lineno"> 2056</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a0a27c639455c2a64ced515b2e83b4a91">BMP3_SEL_I2C_WDT</a>)</div>
<div class="line"><span class="lineno"> 2057</span>        {</div>
<div class="line"><span class="lineno"> 2058</span>            <span class="comment">/* Set the i2c watch dog select bits */</span></div>
<div class="line"><span class="lineno"> 2059</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_I2C_WDT_SEL, adv_settings.<a class="code hl_variable" href="structbmp3__adv__settings.html#a86f304287a6b0470fda2d9bb655068be">i2c_wdt_sel</a>);</div>
<div class="line"><span class="lineno"> 2060</span>        }</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2063</span>    }</div>
<div class="line"><span class="lineno"> 2064</span> </div>
<div class="line"><span class="lineno"> 2065</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2066</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a0a27c639455c2a64ced515b2e83b4a91"><div class="ttname"><a href="bmp3__defs_8h.html#a0a27c639455c2a64ced515b2e83b4a91">BMP3_SEL_I2C_WDT</a></div><div class="ttdeci">#define BMP3_SEL_I2C_WDT</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00292">bmp3_defs.h:292</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a6e3a4c985d20d76ac2f5ee481028e58f"><div class="ttname"><a href="bmp3__defs_8h.html#a6e3a4c985d20d76ac2f5ee481028e58f">BMP3_REG_IF_CONF</a></div><div class="ttdeci">#define BMP3_REG_IF_CONF</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00157">bmp3_defs.h:157</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a90209f264db493db753cccbff1340e48"><div class="ttname"><a href="bmp3__defs_8h.html#a90209f264db493db753cccbff1340e48">BMP3_SEL_I2C_WDT_EN</a></div><div class="ttdeci">#define BMP3_SEL_I2C_WDT_EN</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00291">bmp3_defs.h:291</a></div></div>
<div class="ttc" id="astructbmp3__adv__settings_html"><div class="ttname"><a href="structbmp3__adv__settings.html">bmp3_adv_settings</a></div><div class="ttdoc">bmp3 advance settings</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00588">bmp3_defs.h:589</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00724">bmp3_settings::adv_settings</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00157">BMP3_REG_IF_CONF</a>, <a class="el" href="bmp3__defs_8h_source.html#l00292">BMP3_SEL_I2C_WDT</a>, <a class="el" href="bmp3__defs_8h_source.html#l00291">BMP3_SEL_I2C_WDT_EN</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00591">bmp3_adv_settings::i2c_wdt_en</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00594">bmp3_adv_settings::i2c_wdt_sel</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00909">bmp3_set_sensor_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a072e5dd96a990f200b803e2171b9683a_cgraph.png" border="0" usemap="#abmp3_8c_a072e5dd96a990f200b803e2171b9683a_cgraph" alt=""/></div>
<map name="abmp3_8c_a072e5dd96a990f200b803e2171b9683a_cgraph" id="abmp3_8c_a072e5dd96a990f200b803e2171b9683a_cgraph">
<area shape="rect" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="5,31,154,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="202,5,312,32"/>
<area shape="poly" title=" " alt="" coords="154,31,186,26,187,31,154,36"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="202,56,312,83"/>
<area shape="poly" title=" " alt="" coords="154,52,187,57,186,62,154,57"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="374,5,480,32"/>
<area shape="poly" title=" " alt="" coords="313,16,359,16,359,21,313,21"/>
<area shape="poly" title=" " alt="" coords="304,53,365,34,366,39,305,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="360,56,494,83"/>
<area shape="poly" title=" " alt="" coords="313,67,344,67,344,72,313,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a072e5dd96a990f200b803e2171b9683a_icgraph.png" border="0" usemap="#abmp3_8c_a072e5dd96a990f200b803e2171b9683a_icgraph" alt=""/></div>
<map name="abmp3_8c_a072e5dd96a990f200b803e2171b9683a_icgraph" id="abmp3_8c_a072e5dd96a990f200b803e2171b9683a_icgraph">
<area shape="rect" title="This internal API sets the advance (i2c_wdt_en, i2c_wdt_sel) settings of the sensor based on the sett..." alt="" coords="483,31,632,57"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="ab139240281afcb1f040efb009f945a48" name="ab139240281afcb1f040efb009f945a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab139240281afcb1f040efb009f945a48">&#9670;&#160;</a></span>set_int_ctrl_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_int_ctrl_settings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API sets the interrupt control (output mode, level, latch and data ready) settings of the sensor based on the settings selected by the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable used to select the settings which are to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01987">1987</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1990</span>{</div>
<div class="line"><span class="lineno"> 1991</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1992</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 1993</span>    uint8_t reg_addr;</div>
<div class="line"><span class="lineno"> 1994</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structbmp3__int__ctrl__settings.html">bmp3_int_ctrl_settings</a> int_settings;</div>
<div class="line"><span class="lineno"> 1995</span> </div>
<div class="line"><span class="lineno"> 1996</span>    reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#ad3235e7f3d847a9bdf3dcf69334cbf72">BMP3_REG_INT_CTRL</a>;</div>
<div class="line"><span class="lineno"> 1997</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 2000</span>    {</div>
<div class="line"><span class="lineno"> 2001</span>        int_settings = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aa89d8f327de480729ab6a128e7701165">int_settings</a>;</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a4341c72c2f58dc376780e40bc8c9c4be">BMP3_SEL_OUTPUT_MODE</a>)</div>
<div class="line"><span class="lineno"> 2004</span>        {</div>
<div class="line"><span class="lineno"> 2005</span>            <span class="comment">/* Set the interrupt output mode bits */</span></div>
<div class="line"><span class="lineno"> 2006</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af6aa0af6025a8fae542581a7062055c4">BMP3_SET_BITS_POS_0</a>(reg_data, BMP3_INT_OUTPUT_MODE, int_settings.output_mode);</div>
<div class="line"><span class="lineno"> 2007</span>        }</div>
<div class="line"><span class="lineno"> 2008</span> </div>
<div class="line"><span class="lineno"> 2009</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a638ecf0b8821112dfcea5813bfde4eee">BMP3_SEL_LEVEL</a>)</div>
<div class="line"><span class="lineno"> 2010</span>        {</div>
<div class="line"><span class="lineno"> 2011</span>            <span class="comment">/* Set the interrupt level bits */</span></div>
<div class="line"><span class="lineno"> 2012</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_INT_LEVEL, int_settings.level);</div>
<div class="line"><span class="lineno"> 2013</span>        }</div>
<div class="line"><span class="lineno"> 2014</span> </div>
<div class="line"><span class="lineno"> 2015</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#ae471eb19d0486a55b0c5bf4a18a3d6b8">BMP3_SEL_LATCH</a>)</div>
<div class="line"><span class="lineno"> 2016</span>        {</div>
<div class="line"><span class="lineno"> 2017</span>            <span class="comment">/* Set the interrupt latch bits */</span></div>
<div class="line"><span class="lineno"> 2018</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_INT_LATCH, int_settings.latch);</div>
<div class="line"><span class="lineno"> 2019</span>        }</div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a64a88ad7e37cf32b917f4c132ed62975">BMP3_SEL_DRDY_EN</a>)</div>
<div class="line"><span class="lineno"> 2022</span>        {</div>
<div class="line"><span class="lineno"> 2023</span>            <span class="comment">/* Set the interrupt data ready bits */</span></div>
<div class="line"><span class="lineno"> 2024</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_INT_DRDY_EN, int_settings.drdy_en);</div>
<div class="line"><span class="lineno"> 2025</span>        }</div>
<div class="line"><span class="lineno"> 2026</span> </div>
<div class="line"><span class="lineno"> 2027</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 2028</span>    }</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2031</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_a4341c72c2f58dc376780e40bc8c9c4be"><div class="ttname"><a href="bmp3__defs_8h.html#a4341c72c2f58dc376780e40bc8c9c4be">BMP3_SEL_OUTPUT_MODE</a></div><div class="ttdeci">#define BMP3_SEL_OUTPUT_MODE</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00288">bmp3_defs.h:288</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a638ecf0b8821112dfcea5813bfde4eee"><div class="ttname"><a href="bmp3__defs_8h.html#a638ecf0b8821112dfcea5813bfde4eee">BMP3_SEL_LEVEL</a></div><div class="ttdeci">#define BMP3_SEL_LEVEL</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00289">bmp3_defs.h:289</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a64a88ad7e37cf32b917f4c132ed62975"><div class="ttname"><a href="bmp3__defs_8h.html#a64a88ad7e37cf32b917f4c132ed62975">BMP3_SEL_DRDY_EN</a></div><div class="ttdeci">#define BMP3_SEL_DRDY_EN</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00283">bmp3_defs.h:283</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ae471eb19d0486a55b0c5bf4a18a3d6b8"><div class="ttname"><a href="bmp3__defs_8h.html#ae471eb19d0486a55b0c5bf4a18a3d6b8">BMP3_SEL_LATCH</a></div><div class="ttdeci">#define BMP3_SEL_LATCH</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00290">bmp3_defs.h:290</a></div></div>
<div class="ttc" id="astructbmp3__int__ctrl__settings_html"><div class="ttname"><a href="structbmp3__int__ctrl__settings.html">bmp3_int_ctrl_settings</a></div><div class="ttdoc">bmp3 interrupt pin settings</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00687">bmp3_defs.h:688</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00156">BMP3_REG_INT_CTRL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00283">BMP3_SEL_DRDY_EN</a>, <a class="el" href="bmp3__defs_8h_source.html#l00290">BMP3_SEL_LATCH</a>, <a class="el" href="bmp3__defs_8h_source.html#l00289">BMP3_SEL_LEVEL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00288">BMP3_SEL_OUTPUT_MODE</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00425">BMP3_SET_BITS_POS_0</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00699">bmp3_int_ctrl_settings::drdy_en</a>, <a class="el" href="bmp3__defs_8h_source.html#l00721">bmp3_settings::int_settings</a>, <a class="el" href="bmp3__defs_8h_source.html#l00696">bmp3_int_ctrl_settings::latch</a>, <a class="el" href="bmp3__defs_8h_source.html#l00693">bmp3_int_ctrl_settings::level</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00690">bmp3_int_ctrl_settings::output_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00909">bmp3_set_sensor_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ab139240281afcb1f040efb009f945a48_cgraph.png" border="0" usemap="#abmp3_8c_ab139240281afcb1f040efb009f945a48_cgraph" alt=""/></div>
<map name="abmp3_8c_ab139240281afcb1f040efb009f945a48_cgraph" id="abmp3_8c_ab139240281afcb1f040efb009f945a48_cgraph">
<area shape="rect" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="5,31,144,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="192,5,302,32"/>
<area shape="poly" title=" " alt="" coords="143,31,175,26,176,32,144,36"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="192,56,302,83"/>
<area shape="poly" title=" " alt="" coords="144,52,176,56,175,62,143,57"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="364,5,470,32"/>
<area shape="poly" title=" " alt="" coords="303,16,349,16,349,21,303,21"/>
<area shape="poly" title=" " alt="" coords="294,53,355,34,356,39,295,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="350,56,484,83"/>
<area shape="poly" title=" " alt="" coords="303,67,334,67,334,72,303,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_ab139240281afcb1f040efb009f945a48_icgraph.png" border="0" usemap="#abmp3_8c_ab139240281afcb1f040efb009f945a48_icgraph" alt=""/></div>
<map name="abmp3_8c_ab139240281afcb1f040efb009f945a48_icgraph" id="abmp3_8c_ab139240281afcb1f040efb009f945a48_icgraph">
<area shape="rect" title="This internal API sets the interrupt control (output mode, level, latch and data ready) settings of t..." alt="" coords="483,31,622,57"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a2b913d2a13a0820beb7d1ca325c7b5a5" name="a2b913d2a13a0820beb7d1ca325c7b5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b913d2a13a0820beb7d1ca325c7b5a5">&#9670;&#160;</a></span>set_normal_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_normal_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API sets the normal mode in the sensor. </p>
<p>This internal API converts the no. of frames required by the user to bytes so as to write in the watermark length register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment"> @brief This internal API resets the FIFO buffer, start index,
 parsed frame count, configuration change, configuration error and
 frame_not_available variables.
&amp;zwj;/
</pre><p> //static void reset_fifo_index(struct bmp3_fifo_data &lt;em&gt;fifo) //{ // / Loop variable <em>&zwj;/ // uint16_t index; // // /</em> Variable for FIFO size <em>&zwj;/ // uint16_t fifo_size = 512; // // /</em> The size of FIFO in BMP3 is 512 bytes <em>&zwj;/ // for (index = 0; index &lt; fifo_size; index++) // { // /</em> Initialize data buffer to zero <em>&zwj;/ // fifo-&gt;buffer[index] = 0; // } // // fifo-&gt;byte_count = 0; // fifo-&gt;start_idx = 0; // fifo-&gt;parsed_frames = 0; // fifo-&gt;config_change = 0; // fifo-&gt;config_err = 0; // fifo-&gt;frame_not_available = 0; //} // ///</em>! // * This internal API parse the FIFO data frame from the fifo buffer and // * fills the byte count, uncompensated pressure and/or temperature data and no // * of parsed frames. // *&zwj;/ //static uint8_t parse_fifo_data_frame(uint8_t header, // struct <a class="el" href="structbmp3__fifo__data.html" title="bmp3 fifo frame">bmp3_fifo_data</a> *fifo, // uint16_t *byte_index, // struct <a class="el" href="structbmp3__uncomp__data.html" title="bmp3 sensor structure which comprises of un-compensated temperature and pressure data.">bmp3_uncomp_data</a> *uncomp_data, // uint8_t *parsed_frames) //{ // uint8_t t_p_frame = FALSE; // // switch (header) // { // case BMP3_FIFO_TEMP_PRESS_FRAME: // unpack_temp_press_frame(byte_index, fifo-&gt;buffer, uncomp_data); // *parsed_frames = *parsed_frames + 1; // t_p_frame = BMP3_PRESS_TEMP; // break; // case BMP3_FIFO_TEMP_FRAME: // unpack_temp_frame(byte_index, fifo-&gt;buffer, uncomp_data); // *parsed_frames = *parsed_frames + 1; // t_p_frame = BMP3_TEMP; // break; // case BMP3_FIFO_PRESS_FRAME: // unpack_press_frame(byte_index, fifo-&gt;buffer, uncomp_data); // *parsed_frames = *parsed_frames + 1; // t_p_frame = BMP3_PRESS; // break; // case BMP3_FIFO_TIME_FRAME: // unpack_time_frame(byte_index, fifo-&gt;buffer, &amp;fifo-&gt;sensor_time); // break; // case BMP3_FIFO_CONFIG_CHANGE: // fifo-&gt;config_change = 1; // *byte_index = *byte_index + 1; // break; // case BMP3_FIFO_ERROR_FRAME: // fifo-&gt;config_err = 1; // *byte_index = *byte_index + 1; // break; // case BMP3_FIFO_EMPTY_FRAME: // *byte_index = fifo-&gt;byte_count; // break; // default: // fifo-&gt;config_err = 1; // *byte_index = *byte_index + 1; // break; // } // // return t_p_frame; //}</p>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count, uncompensated pressure and/or temperature data. &zwj;/ static void unpack_temp_press_frame(uint16_t *byte_index,
const uint8_t *fifo_buffer,
struct bmp3_uncomp_data *uncomp_data) { parse_fifo_sensor_data((BMP3_PRESS_TEMP), &amp;fifo_buffer[*byte_index], uncomp_data); *byte_index = *byte_index + BMP3_LEN_P_T_DATA; }</p>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count and uncompensated temperature data. &zwj;/ static void unpack_temp_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, struct bmp3_uncomp_data *uncomp_data) { parse_fifo_sensor_data(BMP3_TEMP, &amp;fifo_buffer[*byte_index], uncomp_data); *byte_index = *byte_index + BMP3_LEN_T_DATA; }</p>
<p>/*!</p>
<p>This internal API unpacks the FIFO data frame from the fifo buffer and fills the byte count and uncompensated pressure data. &zwj;/ static void unpack_press_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, struct bmp3_uncomp_data *uncomp_data) { parse_fifo_sensor_data(BMP3_PRESS, &amp;fifo_buffer[*byte_index], uncomp_data); *byte_index = *byte_index + BMP3_LEN_P_DATA; }</p>
<p>/*!</p>
<p>This internal API unpacks the time frame from the fifo data buffer and fills the byte count and update the sensor time variable. &zwj;/ static void unpack_time_frame(uint16_t *byte_index, const uint8_t *fifo_buffer, uint32_t *sensor_time) { uint16_t index = *byte_index; uint32_t xlsb = fifo_buffer[index]; uint32_t lsb = ((uint32_t)fifo_buffer[index + 1]) &lt;&lt; 8; uint32_t msb = ((uint32_t)fifo_buffer[index + 2]) &lt;&lt; 16;</p>
<p>*sensor_time = msb | lsb | xlsb; *byte_index = *byte_index + BMP3_LEN_SENSOR_TIME; }</p>
<p>/*!</p>
<p>This internal API parses the FIFO data frame from the fifo buffer and fills uncompensated temperature and/or pressure data. &zwj;/ static void parse_fifo_sensor_data(uint8_t sensor_comp, const uint8_t &lt;em&gt;fifo_buffer,
struct bmp3_uncomp_data *uncomp_data) { / Temporary variables to store the sensor data *&zwj;/ uint32_t data_xlsb; uint32_t data_lsb; uint32_t data_msb;</p>
<p>/* Store the parsed register values for temperature data *&zwj;/ data_xlsb = (uint32_t)fifo_buffer[0]; data_lsb = (uint32_t)fifo_buffer[1] &lt;&lt; 8; data_msb = (uint32_t)fifo_buffer[2] &lt;&lt; 16;</p>
<p>if (sensor_comp == BMP3_TEMP) { /* Update uncompensated temperature *&zwj;/ uncomp_data-&gt;temperature = data_msb | data_lsb | data_xlsb; }</p>
<p>if (sensor_comp == BMP3_PRESS) { /* Update uncompensated pressure *&zwj;/ uncomp_data-&gt;pressure = data_msb | data_lsb | data_xlsb; }</p>
<p>if (sensor_comp == (BMP3_PRESS_TEMP)) { uncomp_data-&gt;temperature = data_msb | data_lsb | data_xlsb;</p>
<p>/* Store the parsed register values for pressure data *&zwj;/ data_xlsb = (uint32_t)fifo_buffer[3]; data_lsb = (uint32_t)fifo_buffer[4] &lt;&lt; 8; data_msb = (uint32_t)fifo_buffer[5] &lt;&lt; 16; uncomp_data-&gt;pressure = data_msb | data_lsb | data_xlsb; } }</p>
<p>/*!</p>
<p>This internal API parses the FIFO buffer and gets the header info.</p>
<p>This internal API sets the normal mode in the sensor. </p>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01680">1680</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1681</span>{</div>
<div class="line"><span class="lineno"> 1682</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1683</span>    uint8_t conf_err_status;</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9">validate_normal_mode_settings</a>(settings, dev);</div>
<div class="line"><span class="lineno"> 1686</span> </div>
<div class="line"><span class="lineno"> 1687</span>    <span class="comment">/* If OSR and ODR settings are proper then write the power mode */</span></div>
<div class="line"><span class="lineno"> 1688</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1689</span>    {</div>
<div class="line"><span class="lineno"> 1690</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3">write_power_mode</a>(settings, dev);</div>
<div class="line"><span class="lineno"> 1691</span> </div>
<div class="line"><span class="lineno"> 1692</span>        <span class="comment">/* check for configuration error */</span></div>
<div class="line"><span class="lineno"> 1693</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1694</span>        {</div>
<div class="line"><span class="lineno"> 1695</span>            <span class="comment">/* Read the configuration error status */</span></div>
<div class="line"><span class="lineno"> 1696</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#af63bb8bbec3bb41e07bd59a6c28b4c21">BMP3_REG_ERR</a>, &amp;conf_err_status, 1, dev);</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>            <span class="comment">/* Check if conf. error flag is set */</span></div>
<div class="line"><span class="lineno"> 1699</span>            <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1700</span>            {</div>
<div class="line"><span class="lineno"> 1701</span>                <span class="keywordflow">if</span> (conf_err_status &amp; <a class="code hl_define" href="bmp3__defs_8h.html#a8f8155cdf1a48ab3c1019ea7c7913570">BMP3_ERR_CONF</a>)</div>
<div class="line"><span class="lineno"> 1702</span>                {</div>
<div class="line"><span class="lineno"> 1703</span>                    <span class="comment">/* OSR and ODR configuration is not proper */</span></div>
<div class="line"><span class="lineno"> 1704</span>                    rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab68f1b3cf4fbd550ae554c7b6c73d342">BMP3_E_CONFIGURATION_ERR</a>;</div>
<div class="line"><span class="lineno"> 1705</span>                }</div>
<div class="line"><span class="lineno"> 1706</span>            }</div>
<div class="line"><span class="lineno"> 1707</span>        }</div>
<div class="line"><span class="lineno"> 1708</span>    }</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1711</span>}</div>
<div class="ttc" id="abmp3_8c_html_aa8f20bfa932dd5919e9bf0318b1abea9"><div class="ttname"><a href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9">validate_normal_mode_settings</a></div><div class="ttdeci">static int8_t validate_normal_mode_settings(struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API validate the normal mode settings of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l01768">bmp3.c:1768</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_ab68f1b3cf4fbd550ae554c7b6c73d342"><div class="ttname"><a href="bmp3__defs_8h.html#ab68f1b3cf4fbd550ae554c7b6c73d342">BMP3_E_CONFIGURATION_ERR</a></div><div class="ttdeci">#define BMP3_E_CONFIGURATION_ERR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00265">bmp3_defs.h:265</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00265">BMP3_E_CONFIGURATION_ERR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00168">BMP3_ERR_CONF</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00146">BMP3_REG_ERR</a>, <a class="el" href="bmp3_8c_source.html#l01768">validate_normal_mode_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01716">write_power_mode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01350">bmp3_set_op_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_cgraph.png" border="0" usemap="#abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_cgraph" alt=""/></div>
<map name="abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_cgraph" id="abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_cgraph">
<area shape="rect" title="This internal API sets the normal mode in the sensor." alt="" coords="5,224,130,251"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="611,224,721,251"/>
<area shape="poly" title=" " alt="" coords="130,235,595,235,595,240,130,240"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="178,157,329,200"/>
<area shape="poly" title=" " alt="" coords="111,221,168,203,170,208,113,226"/>
<area shape="rect" href="bmp3_8c.html#a0e46cadc4471037934f6291e8544c8e3" title="This internal API writes the power mode in the sensor." alt="" coords="386,275,517,301"/>
<area shape="poly" title=" " alt="" coords="131,246,178,253,371,277,371,282,177,259,130,251"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="820,224,926,251"/>
<area shape="poly" title=" " alt="" coords="722,235,804,235,804,240,722,240"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="377,173,526,200"/>
<area shape="poly" title=" " alt="" coords="329,179,362,180,361,186,329,184"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="380,77,524,120"/>
<area shape="poly" title=" " alt="" coords="307,154,382,124,384,129,309,159"/>
<area shape="poly" title=" " alt="" coords="512,198,596,218,595,223,511,203"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="584,173,748,200"/>
<area shape="poly" title=" " alt="" coords="526,184,569,184,569,189,526,189"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="574,5,758,32"/>
<area shape="poly" title=" " alt="" coords="496,74,573,42,594,34,596,40,575,46,498,79"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="576,56,756,83"/>
<area shape="poly" title=" " alt="" coords="524,86,560,81,561,86,524,91"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="590,107,742,149"/>
<area shape="poly" title=" " alt="" coords="524,106,575,113,574,118,524,111"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="831,31,915,57"/>
<area shape="poly" title=" " alt="" coords="758,27,816,34,815,40,758,33"/>
<area shape="poly" title=" " alt="" coords="756,56,815,48,816,54,757,61"/>
<area shape="poly" title=" " alt="" coords="511,271,595,251,596,256,512,277"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="611,275,721,301"/>
<area shape="poly" title=" " alt="" coords="517,285,595,285,595,291,517,291"/>
<area shape="poly" title=" " alt="" coords="721,272,804,251,806,256,722,277"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="806,275,940,301"/>
<area shape="poly" title=" " alt="" coords="722,285,790,285,790,291,722,291"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_icgraph.png" border="0" usemap="#abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_icgraph" alt=""/></div>
<map name="abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_icgraph" id="abmp3_8c_a2b913d2a13a0820beb7d1ca325c7b5a5_icgraph">
<area shape="rect" title="This internal API sets the normal mode in the sensor." alt="" coords="444,31,569,57"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="429,47,397,47,397,41,429,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="acb43446db76a5e581b68fb613c129de3" name="acb43446db76a5e581b68fb613c129de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb43446db76a5e581b68fb613c129de3">&#9670;&#160;</a></span>set_odr_filter_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_odr_filter_settings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings selected by the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Variable used to select the settings which are to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01928">1928</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1929</span>{</div>
<div class="line"><span class="lineno"> 1930</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1931</span> </div>
<div class="line"><span class="lineno"> 1932</span>    <span class="comment">/* No of registers to be configured is 3*/</span></div>
<div class="line"><span class="lineno"> 1933</span>    uint8_t reg_addr[3] = { 0 };</div>
<div class="line"><span class="lineno"> 1934</span> </div>
<div class="line"><span class="lineno"> 1935</span>    <span class="comment">/* No of register data to be read is 4 */</span></div>
<div class="line"><span class="lineno"> 1936</span>    uint8_t reg_data[4];</div>
<div class="line"><span class="lineno"> 1937</span>    uint8_t len = 0;</div>
<div class="line"><span class="lineno"> 1938</span> </div>
<div class="line"><span class="lineno"> 1939</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a98c1e4a3c474a51ba0fd3b819c3f2db6">BMP3_REG_OSR</a>, reg_data, 4, dev);</div>
<div class="line"><span class="lineno"> 1940</span> </div>
<div class="line"><span class="lineno"> 1941</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1942</span>    {</div>
<div class="line"><span class="lineno"> 1943</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>((<a class="code hl_define" href="bmp3__defs_8h.html#ae8827f907cea6b6eb0637c1427348cdf">BMP3_SEL_PRESS_OS</a> | <a class="code hl_define" href="bmp3__defs_8h.html#af198ebfc8898ac0beb7e2ebcf2402e78">BMP3_SEL_TEMP_OS</a>), desired_settings))</div>
<div class="line"><span class="lineno"> 1944</span>        {</div>
<div class="line"><span class="lineno"> 1945</span>            <span class="comment">/* Fill the over sampling register address and</span></div>
<div class="line"><span class="lineno"> 1946</span><span class="comment">            * register data to be written in the sensor */</span></div>
<div class="line"><span class="lineno"> 1947</span>            <a class="code hl_function" href="bmp3_8c.html#a3de8c70c56e9a69d09c48d25730f64e3">fill_osr_data</a>(desired_settings, reg_addr, reg_data, &amp;len, settings);</div>
<div class="line"><span class="lineno"> 1948</span>        }</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#a8b487a37937cb716538e9e12ba41c32c">BMP3_SEL_ODR</a>, desired_settings))</div>
<div class="line"><span class="lineno"> 1951</span>        {</div>
<div class="line"><span class="lineno"> 1952</span>            <span class="comment">/* Fill the output data rate register address and</span></div>
<div class="line"><span class="lineno"> 1953</span><span class="comment">             * register data to be written in the sensor */</span></div>
<div class="line"><span class="lineno"> 1954</span>            <a class="code hl_function" href="bmp3_8c.html#ace3c1c1a6176d94e747c1a958d09e6f9">fill_odr_data</a>(reg_addr, reg_data, &amp;len, settings);</div>
<div class="line"><span class="lineno"> 1955</span>        }</div>
<div class="line"><span class="lineno"> 1956</span> </div>
<div class="line"><span class="lineno"> 1957</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87">are_settings_changed</a>(<a class="code hl_define" href="bmp3__defs_8h.html#acaa1dd97b22e8a3febc62ee80cd40ba9">BMP3_SEL_IIR_FILTER</a>, desired_settings))</div>
<div class="line"><span class="lineno"> 1958</span>        {</div>
<div class="line"><span class="lineno"> 1959</span>            <span class="comment">/* Fill the iir filter register address and</span></div>
<div class="line"><span class="lineno"> 1960</span><span class="comment">             * register data to be written in the sensor */</span></div>
<div class="line"><span class="lineno"> 1961</span>            <a class="code hl_function" href="bmp3_8c.html#a4a81cd7c079dab09de2ce6cf7bc84ea4">fill_filter_data</a>(reg_addr, reg_data, &amp;len, settings);</div>
<div class="line"><span class="lineno"> 1962</span>        }</div>
<div class="line"><span class="lineno"> 1963</span> </div>
<div class="line"><span class="lineno"> 1964</span>        <span class="keywordflow">if</span> (settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a083f16f7e5ef228ada7957a14320a66b">op_mode</a> == <a class="code hl_define" href="bmp3__defs_8h.html#afa87e0442708786815dcf129108b60fb">BMP3_MODE_NORMAL</a>)</div>
<div class="line"><span class="lineno"> 1965</span>        {</div>
<div class="line"><span class="lineno"> 1966</span>            <span class="comment">/* For normal mode, OSR and ODR settings should</span></div>
<div class="line"><span class="lineno"> 1967</span><span class="comment">             * be proper */</span></div>
<div class="line"><span class="lineno"> 1968</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a">validate_osr_and_odr_settings</a>(settings);</div>
<div class="line"><span class="lineno"> 1969</span>        }</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span>        <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1972</span>        {</div>
<div class="line"><span class="lineno"> 1973</span>            <span class="comment">/* Burst write the over sampling, ODR and filter</span></div>
<div class="line"><span class="lineno"> 1974</span><span class="comment">             * settings in the register */</span></div>
<div class="line"><span class="lineno"> 1975</span>            rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(reg_addr, reg_data, len, dev);</div>
<div class="line"><span class="lineno"> 1976</span>        }</div>
<div class="line"><span class="lineno"> 1977</span>    }</div>
<div class="line"><span class="lineno"> 1978</span> </div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1980</span>}</div>
<div class="ttc" id="abmp3_8c_html_a150879a00fe76c1022dacadc9c33818a"><div class="ttname"><a href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a">validate_osr_and_odr_settings</a></div><div class="ttdeci">static int8_t validate_osr_and_odr_settings(const struct bmp3_settings *settings)</div><div class="ttdoc">This internal API validate the over sampling, ODR settings of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02090">bmp3.c:2090</a></div></div>
<div class="ttc" id="abmp3_8c_html_a3de8c70c56e9a69d09c48d25730f64e3"><div class="ttname"><a href="bmp3_8c.html#a3de8c70c56e9a69d09c48d25730f64e3">fill_osr_data</a></div><div class="ttdeci">static void fill_osr_data(uint32_t desired_settings, uint8_t *addr, uint8_t *reg_data, uint8_t *len, const struct bmp3_settings *settings)</div><div class="ttdoc">This internal API fills the register address and register data of the the over sampling settings for ...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02199">bmp3.c:2199</a></div></div>
<div class="ttc" id="abmp3_8c_html_a4a81cd7c079dab09de2ce6cf7bc84ea4"><div class="ttname"><a href="bmp3_8c.html#a4a81cd7c079dab09de2ce6cf7bc84ea4">fill_filter_data</a></div><div class="ttdeci">static void fill_filter_data(uint8_t *addr, uint8_t *reg_data, uint8_t *len, const struct bmp3_settings *settings)</div><div class="ttdoc">This internal API fills the register address and register data of the the filter settings for burst w...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02257">bmp3.c:2257</a></div></div>
<div class="ttc" id="abmp3_8c_html_ace3c1c1a6176d94e747c1a958d09e6f9"><div class="ttname"><a href="bmp3_8c.html#ace3c1c1a6176d94e747c1a958d09e6f9">fill_odr_data</a></div><div class="ttdeci">static void fill_odr_data(uint8_t *addr, uint8_t *reg_data, uint8_t *len, struct bmp3_settings *settings)</div><div class="ttdoc">This internal API fills the register address and register data of the the ODR settings for burst writ...</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02235">bmp3.c:2235</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_a8b487a37937cb716538e9e12ba41c32c"><div class="ttname"><a href="bmp3__defs_8h.html#a8b487a37937cb716538e9e12ba41c32c">BMP3_SEL_ODR</a></div><div class="ttdeci">#define BMP3_SEL_ODR</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00287">bmp3_defs.h:287</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_acaa1dd97b22e8a3febc62ee80cd40ba9"><div class="ttname"><a href="bmp3__defs_8h.html#acaa1dd97b22e8a3febc62ee80cd40ba9">BMP3_SEL_IIR_FILTER</a></div><div class="ttdeci">#define BMP3_SEL_IIR_FILTER</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00286">bmp3_defs.h:286</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l02702">are_settings_changed()</a>, <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00178">BMP3_MODE_NORMAL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00159">BMP3_REG_OSR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00286">BMP3_SEL_IIR_FILTER</a>, <a class="el" href="bmp3__defs_8h_source.html#l00287">BMP3_SEL_ODR</a>, <a class="el" href="bmp3__defs_8h_source.html#l00284">BMP3_SEL_PRESS_OS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00285">BMP3_SEL_TEMP_OS</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3_8c_source.html#l02257">fill_filter_data()</a>, <a class="el" href="bmp3_8c_source.html#l02235">fill_odr_data()</a>, <a class="el" href="bmp3_8c_source.html#l02199">fill_osr_data()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00709">bmp3_settings::op_mode</a>, and <a class="el" href="bmp3_8c_source.html#l02090">validate_osr_and_odr_settings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00909">bmp3_set_sensor_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_acb43446db76a5e581b68fb613c129de3_cgraph.png" border="0" usemap="#abmp3_8c_acb43446db76a5e581b68fb613c129de3_cgraph" alt=""/></div>
<map name="abmp3_8c_acb43446db76a5e581b68fb613c129de3_cgraph" id="abmp3_8c_acb43446db76a5e581b68fb613c129de3_cgraph">
<area shape="rect" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="5,157,155,184"/>
<area shape="rect" href="bmp3_8c.html#aa56ad91f72c293cfac24a7ec7c944e87" title="This internal API is used to identify the settings which the user wants to modify in the sensor." alt="" coords="203,5,351,32"/>
<area shape="poly" title=" " alt="" coords="89,155,133,101,165,69,201,42,210,37,213,41,204,46,169,73,137,104,93,158"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="222,56,332,83"/>
<area shape="poly" title=" " alt="" coords="99,155,145,124,201,92,215,86,217,91,204,97,147,129,102,159"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="222,107,332,133"/>
<area shape="poly" title=" " alt="" coords="134,154,207,135,208,140,136,159"/>
<area shape="rect" href="bmp3_8c.html#a4a81cd7c079dab09de2ce6cf7bc84ea4" title="This internal API fills the register address and register data of the the filter settings for burst w..." alt="" coords="228,157,326,184"/>
<area shape="poly" title=" " alt="" coords="155,168,213,168,213,173,155,173"/>
<area shape="rect" href="bmp3_8c.html#ace3c1c1a6176d94e747c1a958d09e6f9" title="This internal API fills the register address and register data of the the ODR settings for burst writ..." alt="" coords="231,208,322,235"/>
<area shape="poly" title=" " alt="" coords="136,182,217,203,215,208,134,187"/>
<area shape="rect" href="bmp3_8c.html#a3de8c70c56e9a69d09c48d25730f64e3" title="This internal API fills the register address and register data of the the over sampling settings for ..." alt="" coords="231,259,322,285"/>
<area shape="poly" title=" " alt="" coords="102,182,147,213,204,244,217,250,215,255,201,249,145,217,99,187"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="205,309,349,352"/>
<area shape="poly" title=" " alt="" coords="94,183,139,236,170,267,204,295,210,299,207,303,201,299,166,271,135,240,90,186"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="438,56,543,83"/>
<area shape="poly" title=" " alt="" coords="333,67,423,67,423,72,333,72"/>
<area shape="poly" title=" " alt="" coords="332,104,422,83,424,88,333,110"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="424,107,558,133"/>
<area shape="poly" title=" " alt="" coords="333,117,408,117,408,123,333,123"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="399,267,582,293"/>
<area shape="poly" title=" " alt="" coords="349,311,416,295,417,300,350,316"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="400,317,581,344"/>
<area shape="poly" title=" " alt="" coords="350,328,385,328,385,333,350,333"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="414,368,567,411"/>
<area shape="poly" title=" " alt="" coords="350,348,400,362,399,367,349,353"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="630,292,715,319"/>
<area shape="poly" title=" " alt="" coords="583,290,615,295,614,300,582,295"/>
<area shape="poly" title=" " alt="" coords="581,315,614,311,615,316,581,321"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_acb43446db76a5e581b68fb613c129de3_icgraph.png" border="0" usemap="#abmp3_8c_acb43446db76a5e581b68fb613c129de3_icgraph" alt=""/></div>
<map name="abmp3_8c_acb43446db76a5e581b68fb613c129de3_icgraph" id="abmp3_8c_acb43446db76a5e581b68fb613c129de3_icgraph">
<area shape="rect" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="483,31,633,57"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a0b42270b60c1b36ff881d3752ae477ec" name="a0b42270b60c1b36ff881d3752ae477ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b42270b60c1b36ff881d3752ae477ec">&#9670;&#160;</a></span>set_pwr_ctrl_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_pwr_ctrl_settings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API sets the pressure enable and temperature enable settings of the sensor. </p>
<p>This API sets the pressure enable and temperature enable settings of the sensor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_settings</td><td>: Contains the settings which user wants to change. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01891">1891</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1894</span>{</div>
<div class="line"><span class="lineno"> 1895</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1896</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a>;</div>
<div class="line"><span class="lineno"> 1897</span>    uint8_t reg_data;</div>
<div class="line"><span class="lineno"> 1898</span> </div>
<div class="line"><span class="lineno"> 1899</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 1900</span> </div>
<div class="line"><span class="lineno"> 1901</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1902</span>    {</div>
<div class="line"><span class="lineno"> 1903</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#ac37520dcdfaa2e68f4ba55cf46f409b1">BMP3_SEL_PRESS_EN</a>)</div>
<div class="line"><span class="lineno"> 1904</span>        {</div>
<div class="line"><span class="lineno"> 1905</span>            <span class="comment">/* Set the pressure enable settings in the</span></div>
<div class="line"><span class="lineno"> 1906</span><span class="comment">             * register variable */</span></div>
<div class="line"><span class="lineno"> 1907</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af6aa0af6025a8fae542581a7062055c4">BMP3_SET_BITS_POS_0</a>(reg_data, BMP3_PRESS_EN, settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aa888cbb311564264dd408a7c957bf004">press_en</a>);</div>
<div class="line"><span class="lineno"> 1908</span>        }</div>
<div class="line"><span class="lineno"> 1909</span> </div>
<div class="line"><span class="lineno"> 1910</span>        <span class="keywordflow">if</span> (desired_settings &amp; <a class="code hl_define" href="bmp3__defs_8h.html#aeb04ad661a7386c8be6487bac2c849c4">BMP3_SEL_TEMP_EN</a>)</div>
<div class="line"><span class="lineno"> 1911</span>        {</div>
<div class="line"><span class="lineno"> 1912</span>            <span class="comment">/* Set the temperature enable settings in the</span></div>
<div class="line"><span class="lineno"> 1913</span><span class="comment">             * register variable */</span></div>
<div class="line"><span class="lineno"> 1914</span>            reg_data = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(reg_data, BMP3_TEMP_EN, settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a10e2a083d00b1ba60c6f96bfc0ffee23">temp_en</a>);</div>
<div class="line"><span class="lineno"> 1915</span>        }</div>
<div class="line"><span class="lineno"> 1916</span> </div>
<div class="line"><span class="lineno"> 1917</span>        <span class="comment">/* Write the power control settings in the register */</span></div>
<div class="line"><span class="lineno"> 1918</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;reg_data, 1, dev);</div>
<div class="line"><span class="lineno"> 1919</span>    }</div>
<div class="line"><span class="lineno"> 1920</span> </div>
<div class="line"><span class="lineno"> 1921</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1922</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_ac37520dcdfaa2e68f4ba55cf46f409b1"><div class="ttname"><a href="bmp3__defs_8h.html#ac37520dcdfaa2e68f4ba55cf46f409b1">BMP3_SEL_PRESS_EN</a></div><div class="ttdeci">#define BMP3_SEL_PRESS_EN</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00281">bmp3_defs.h:281</a></div></div>
<div class="ttc" id="abmp3__defs_8h_html_aeb04ad661a7386c8be6487bac2c849c4"><div class="ttname"><a href="bmp3__defs_8h.html#aeb04ad661a7386c8be6487bac2c849c4">BMP3_SEL_TEMP_EN</a></div><div class="ttdeci">#define BMP3_SEL_TEMP_EN</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00282">bmp3_defs.h:282</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00158">BMP3_REG_PWR_CTRL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00281">BMP3_SEL_PRESS_EN</a>, <a class="el" href="bmp3__defs_8h_source.html#l00282">BMP3_SEL_TEMP_EN</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3__defs_8h_source.html#l00425">BMP3_SET_BITS_POS_0</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00712">bmp3_settings::press_en</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00715">bmp3_settings::temp_en</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l00909">bmp3_set_sensor_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_cgraph.png" border="0" usemap="#abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_cgraph" alt=""/></div>
<map name="abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_cgraph" id="abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_cgraph">
<area shape="rect" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="5,31,151,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="199,5,309,32"/>
<area shape="poly" title=" " alt="" coords="151,31,183,26,184,31,152,36"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="199,56,309,83"/>
<area shape="poly" title=" " alt="" coords="152,52,184,57,183,62,151,57"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="372,5,477,32"/>
<area shape="poly" title=" " alt="" coords="310,16,356,16,356,21,310,21"/>
<area shape="poly" title=" " alt="" coords="301,53,362,34,363,39,302,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="357,56,491,83"/>
<area shape="poly" title=" " alt="" coords="310,67,341,67,341,72,310,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_icgraph.png" border="0" usemap="#abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_icgraph" alt=""/></div>
<map name="abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_icgraph" id="abmp3_8c_a0b42270b60c1b36ff881d3752ae477ec_icgraph">
<area shape="rect" title="This internal API sets the pressure enable and temperature enable settings of the sensor." alt="" coords="483,31,629,57"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,31,435,57"/>
<area shape="poly" title=" " alt="" coords="468,47,436,47,436,41,468,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,33,210,28,211,23,243,27"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,61,210,65,209,60,242,55"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="aa8f20bfa932dd5919e9bf0318b1abea9" name="aa8f20bfa932dd5919e9bf0318b1abea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f20bfa932dd5919e9bf0318b1abea9">&#9670;&#160;</a></span>validate_normal_mode_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t validate_normal_mode_settings </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API validate the normal mode settings of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01768">1768</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1769</span>{</div>
<div class="line"><span class="lineno"> 1770</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb">get_odr_filter_settings</a>(settings, dev);</div>
<div class="line"><span class="lineno"> 1773</span> </div>
<div class="line"><span class="lineno"> 1774</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1775</span>    {</div>
<div class="line"><span class="lineno"> 1776</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a">validate_osr_and_odr_settings</a>(settings);</div>
<div class="line"><span class="lineno"> 1777</span>    }</div>
<div class="line"><span class="lineno"> 1778</span> </div>
<div class="line"><span class="lineno"> 1779</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1780</span>}</div>
<div class="ttc" id="abmp3_8c_html_a48ab3e6c4219db46f80e0d0789fbaafb"><div class="ttname"><a href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb">get_odr_filter_settings</a></div><div class="ttdeci">static int8_t get_odr_filter_settings(struct bmp3_settings *settings, struct bmp3_dev *dev)</div><div class="ttdoc">This internal API gets the over sampling, ODR and filter settings from the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02072">bmp3.c:2072</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3_8c_source.html#l02072">get_odr_filter_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l02090">validate_osr_and_odr_settings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01680">set_normal_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_cgraph.png" border="0" usemap="#abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_cgraph" alt=""/></div>
<map name="abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_cgraph" id="abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_cgraph">
<area shape="rect" title="This internal API validate the normal mode settings of the sensor." alt="" coords="5,99,157,141"/>
<area shape="rect" href="bmp3_8c.html#a48ab3e6c4219db46f80e0d0789fbaafb" title="This internal API gets the over sampling, ODR and filter settings from the sensor." alt="" coords="205,56,354,83"/>
<area shape="poly" title=" " alt="" coords="156,98,209,84,210,90,158,103"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="207,128,352,171"/>
<area shape="poly" title=" " alt="" coords="157,129,192,134,191,139,156,134"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="438,5,549,32"/>
<area shape="poly" title=" " alt="" coords="338,53,423,33,424,38,340,58"/>
<area shape="rect" href="bmp3_8c.html#add16f6eeb6f80c2407685192259abf5c" title="This internal API parse the over sampling, ODR and filter settings and store in the device structure." alt="" coords="412,56,575,83"/>
<area shape="poly" title=" " alt="" coords="354,67,396,67,396,72,354,72"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="633,5,739,32"/>
<area shape="poly" title=" " alt="" coords="549,16,618,16,618,21,549,21"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="402,107,585,133"/>
<area shape="poly" title=" " alt="" coords="351,137,386,132,387,137,352,142"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="404,157,584,184"/>
<area shape="poly" title=" " alt="" coords="352,154,388,158,388,163,351,159"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="418,208,570,251"/>
<area shape="poly" title=" " alt="" coords="338,169,403,194,420,200,418,205,401,198,336,174"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="644,132,728,159"/>
<area shape="poly" title=" " alt="" coords="586,130,629,135,628,140,586,135"/>
<area shape="poly" title=" " alt="" coords="584,156,628,150,629,155,585,161"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_icgraph.png" border="0" usemap="#abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_icgraph" alt=""/></div>
<map name="abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_icgraph" id="abmp3_8c_aa8f20bfa932dd5919e9bf0318b1abea9_icgraph">
<area shape="rect" title="This internal API validate the normal mode settings of the sensor." alt="" coords="617,23,768,65"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="444,31,569,57"/>
<area shape="poly" title=" " alt="" coords="601,47,569,47,569,41,601,41"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="429,47,397,47,397,41,429,41"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
</map>
</div>

</div>
</div>
<a id="a150879a00fe76c1022dacadc9c33818a" name="a150879a00fe76c1022dacadc9c33818a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150879a00fe76c1022dacadc9c33818a">&#9670;&#160;</a></span>validate_osr_and_odr_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t validate_osr_and_odr_settings </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API validate the over sampling, ODR settings of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether ODR and OSR settings are valid or not. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02090">2090</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2091</span>{</div>
<div class="line"><span class="lineno"> 2092</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2093</span> </div>
<div class="line"><span class="lineno"> 2094</span>    <span class="comment">/* According to BMP388 datasheet at Section 3.9.2. &quot;Measurement rate in</span></div>
<div class="line"><span class="lineno"> 2095</span><span class="comment">     * forced mode and normal mode&quot; there is also the constant of 234us also to</span></div>
<div class="line"><span class="lineno"> 2096</span><span class="comment">     * be considered in the sum. */</span></div>
<div class="line"><span class="lineno"> 2097</span>    uint32_t meas_t = 234;</div>
<div class="line"><span class="lineno"> 2098</span>    uint32_t meas_t_p = 0;</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>    <span class="comment">/* Sampling period corresponding to ODR in microseconds  */</span></div>
<div class="line"><span class="lineno"> 2101</span>    uint32_t odr[18] = {</div>
<div class="line"><span class="lineno"> 2102</span>        5000, 10000, 20000, 40000, 80000, 160000, 320000, 640000, 1280000, 2560000, 5120000, 10240000, 20480000,</div>
<div class="line"><span class="lineno"> 2103</span>        40960000, 81920000, 163840000, 327680000, 655360000</div>
<div class="line"><span class="lineno"> 2104</span>    };</div>
<div class="line"><span class="lineno"> 2105</span> </div>
<div class="line"><span class="lineno"> 2106</span>    <span class="keywordflow">if</span> (settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#aa888cbb311564264dd408a7c957bf004">press_en</a>)</div>
<div class="line"><span class="lineno"> 2107</span>    {</div>
<div class="line"><span class="lineno"> 2108</span>        <span class="comment">/* Calculate the pressure measurement duration */</span></div>
<div class="line"><span class="lineno"> 2109</span>        meas_t_p += <a class="code hl_function" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d">calculate_press_meas_time</a>(settings);</div>
<div class="line"><span class="lineno"> 2110</span>    }</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>    <span class="keywordflow">if</span> (settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a10e2a083d00b1ba60c6f96bfc0ffee23">temp_en</a>)</div>
<div class="line"><span class="lineno"> 2113</span>    {</div>
<div class="line"><span class="lineno"> 2114</span>        <span class="comment">/* Calculate the temperature measurement duration */</span></div>
<div class="line"><span class="lineno"> 2115</span>        meas_t_p += <a class="code hl_function" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88">calculate_temp_meas_time</a>(settings);</div>
<div class="line"><span class="lineno"> 2116</span>    }</div>
<div class="line"><span class="lineno"> 2117</span> </div>
<div class="line"><span class="lineno"> 2118</span>    <span class="comment">/* Constant 234us added to the summation of temperature and pressure measurement duration */</span></div>
<div class="line"><span class="lineno"> 2119</span>    meas_t += meas_t_p;</div>
<div class="line"><span class="lineno"> 2120</span> </div>
<div class="line"><span class="lineno"> 2121</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c">verify_meas_time_and_odr_duration</a>(meas_t, odr[settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#ad5a0340fef9bb40b6129385ce843e56c">odr_filter</a>.<a class="code hl_variable" href="structbmp3__odr__filter__settings.html#a80d924f29f20f86536e131fe16486ee5">odr</a>]);</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2124</span>}</div>
<div class="ttc" id="abmp3_8c_html_a85a2bc8d090721c752c43de36850859c"><div class="ttname"><a href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c">verify_meas_time_and_odr_duration</a></div><div class="ttdeci">static int8_t verify_meas_time_and_odr_duration(uint32_t meas_t, uint32_t odr_duration)</div><div class="ttdoc">This internal API checks whether the measurement time and ODR duration of the sensor are proper.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02130">bmp3.c:2130</a></div></div>
<div class="ttc" id="abmp3_8c_html_ad7d2decc3baee2641dbc98728dfdad88"><div class="ttname"><a href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88">calculate_temp_meas_time</a></div><div class="ttdeci">static uint32_t calculate_temp_meas_time(const struct bmp3_settings *settings)</div><div class="ttdoc">This internal API calculates the temperature measurement duration of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02176">bmp3.c:2176</a></div></div>
<div class="ttc" id="abmp3_8c_html_ae863eb025f3f05bea233fcc92c75a28d"><div class="ttname"><a href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d">calculate_press_meas_time</a></div><div class="ttdeci">static uint32_t calculate_press_meas_time(const struct bmp3_settings *settings)</div><div class="ttdoc">This internal API calculates the pressure measurement duration of the sensor.</div><div class="ttdef"><b>Definition</b> <a href="bmp3_8c_source.html#l02153">bmp3.c:2153</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l02153">calculate_press_meas_time()</a>, <a class="el" href="bmp3_8c_source.html#l02176">calculate_temp_meas_time()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00613">bmp3_odr_filter_settings::odr</a>, <a class="el" href="bmp3__defs_8h_source.html#l00718">bmp3_settings::odr_filter</a>, <a class="el" href="bmp3__defs_8h_source.html#l00712">bmp3_settings::press_en</a>, <a class="el" href="bmp3__defs_8h_source.html#l00715">bmp3_settings::temp_en</a>, and <a class="el" href="bmp3_8c_source.html#l02130">verify_meas_time_and_odr_duration()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01928">set_odr_filter_settings()</a>, and <a class="el" href="bmp3_8c_source.html#l01768">validate_normal_mode_settings()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a150879a00fe76c1022dacadc9c33818a_cgraph.png" border="0" usemap="#abmp3_8c_a150879a00fe76c1022dacadc9c33818a_cgraph" alt=""/></div>
<map name="abmp3_8c_a150879a00fe76c1022dacadc9c33818a_cgraph" id="abmp3_8c_a150879a00fe76c1022dacadc9c33818a_cgraph">
<area shape="rect" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="5,48,150,91"/>
<area shape="rect" href="bmp3_8c.html#ae863eb025f3f05bea233fcc92c75a28d" title="This internal API calculates the pressure measurement duration of the sensor." alt="" coords="198,5,381,32"/>
<area shape="poly" title=" " alt="" coords="150,49,215,34,217,39,151,55"/>
<area shape="rect" href="bmp3_8c.html#ad7d2decc3baee2641dbc98728dfdad88" title="This internal API calculates the temperature measurement duration of the sensor." alt="" coords="199,56,380,83"/>
<area shape="poly" title=" " alt="" coords="150,67,183,67,183,72,150,72"/>
<area shape="rect" href="bmp3_8c.html#a85a2bc8d090721c752c43de36850859c" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="213,107,366,149"/>
<area shape="poly" title=" " alt="" coords="151,87,199,100,197,105,150,92"/>
<area shape="rect" href="bmp3_8c.html#aad90cd219d0ff052e613f123f25a79e3" title="This internal API is used to calculate the power functionality." alt="" coords="429,31,513,57"/>
<area shape="poly" title=" " alt="" coords="382,29,414,33,413,39,381,34"/>
<area shape="poly" title=" " alt="" coords="379,54,413,49,414,55,380,59"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a150879a00fe76c1022dacadc9c33818a_icgraph.png" border="0" usemap="#abmp3_8c_a150879a00fe76c1022dacadc9c33818a_icgraph" alt=""/></div>
<map name="abmp3_8c_a150879a00fe76c1022dacadc9c33818a_icgraph" id="abmp3_8c_a150879a00fe76c1022dacadc9c33818a_icgraph">
<area shape="rect" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="855,27,999,69"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="657,5,806,32"/>
<area shape="poly" title=" " alt="" coords="839,38,806,32,807,27,840,32"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="656,56,807,99"/>
<area shape="poly" title=" " alt="" coords="840,64,808,69,807,63,839,58"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,8,435,35"/>
<area shape="poly" title=" " alt="" coords="641,22,436,23,436,18,641,17"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,8,210,35"/>
<area shape="poly" title=" " alt="" coords="243,24,211,24,211,19,243,19"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,59,209,85"/>
<area shape="poly" title=" " alt="" coords="280,42,210,61,209,55,278,37"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,33,55,60"/>
<area shape="poly" title=" " alt="" coords="88,38,55,44,54,39,87,33"/>
<area shape="poly" title=" " alt="" coords="88,61,55,54,56,49,89,56"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="483,60,608,87"/>
<area shape="poly" title=" " alt="" coords="640,78,608,77,608,72,641,73"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="278,59,416,85"/>
<area shape="poly" title=" " alt="" coords="468,75,416,75,416,70,468,70"/>
<area shape="poly" title=" " alt="" coords="278,57,209,38,210,33,280,51"/>
<area shape="poly" title=" " alt="" coords="262,75,209,75,209,69,262,69"/>
</map>
</div>

</div>
</div>
<a id="a85a2bc8d090721c752c43de36850859c" name="a85a2bc8d090721c752c43de36850859c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a2bc8d090721c752c43de36850859c">&#9670;&#160;</a></span>verify_meas_time_and_odr_duration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t verify_meas_time_and_odr_duration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>meas_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>odr_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API checks whether the measurement time and ODR duration of the sensor are proper. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">meas_t</td><td>: Pressure and temperature measurement time in microseconds. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">odr_duration</td><td>: Duration in microseconds corresponding to the ODR value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether ODR and OSR settings are valid or not. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l02130">2130</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2131</span>{</div>
<div class="line"><span class="lineno"> 2132</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 2133</span> </div>
<div class="line"><span class="lineno"> 2134</span>    <span class="keywordflow">if</span> (meas_t &lt; odr_duration)</div>
<div class="line"><span class="lineno"> 2135</span>    {</div>
<div class="line"><span class="lineno"> 2136</span>        <span class="comment">/* If measurement duration is less than ODR duration</span></div>
<div class="line"><span class="lineno"> 2137</span><span class="comment">         * then OSR and ODR settings are fine */</span></div>
<div class="line"><span class="lineno"> 2138</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>;</div>
<div class="line"><span class="lineno"> 2139</span>    }</div>
<div class="line"><span class="lineno"> 2140</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2141</span>    {</div>
<div class="line"><span class="lineno"> 2142</span>        <span class="comment">/* OSR and ODR settings are not proper */</span></div>
<div class="line"><span class="lineno"> 2143</span>        rslt = <a class="code hl_define" href="bmp3__defs_8h.html#ac33f662a7ea3f4aaccdc42bf03487560">BMP3_E_INVALID_ODR_OSR_SETTINGS</a>;</div>
<div class="line"><span class="lineno"> 2144</span>    }</div>
<div class="line"><span class="lineno"> 2145</span> </div>
<div class="line"><span class="lineno"> 2146</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 2147</span>}</div>
<div class="ttc" id="abmp3__defs_8h_html_ac33f662a7ea3f4aaccdc42bf03487560"><div class="ttname"><a href="bmp3__defs_8h.html#ac33f662a7ea3f4aaccdc42bf03487560">BMP3_E_INVALID_ODR_OSR_SETTINGS</a></div><div class="ttdeci">#define BMP3_E_INVALID_ODR_OSR_SETTINGS</div><div class="ttdef"><b>Definition</b> <a href="bmp3__defs_8h_source.html#l00263">bmp3_defs.h:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3__defs_8h_source.html#l00263">BMP3_E_INVALID_ODR_OSR_SETTINGS</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l02090">validate_osr_and_odr_settings()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a85a2bc8d090721c752c43de36850859c_icgraph.png" border="0" usemap="#abmp3_8c_a85a2bc8d090721c752c43de36850859c_icgraph" alt=""/></div>
<map name="abmp3_8c_a85a2bc8d090721c752c43de36850859c_icgraph" id="abmp3_8c_a85a2bc8d090721c752c43de36850859c_icgraph">
<area shape="rect" title="This internal API checks whether the measurement time and ODR duration of the sensor are proper." alt="" coords="1047,27,1200,69"/>
<area shape="rect" href="bmp3_8c.html#a150879a00fe76c1022dacadc9c33818a" title="This internal API validate the over sampling, ODR settings of the sensor." alt="" coords="855,27,999,69"/>
<area shape="poly" title=" " alt="" coords="1032,51,1000,51,1000,45,1032,45"/>
<area shape="rect" href="bmp3_8c.html#acb43446db76a5e581b68fb613c129de3" title="This internal API sets the over sampling, ODR and filter settings of the sensor based on the settings..." alt="" coords="657,5,806,32"/>
<area shape="poly" title=" " alt="" coords="839,38,806,32,807,27,840,32"/>
<area shape="rect" href="bmp3_8c.html#aa8f20bfa932dd5919e9bf0318b1abea9" title="This internal API validate the normal mode settings of the sensor." alt="" coords="656,56,807,99"/>
<area shape="poly" title=" " alt="" coords="840,64,808,69,807,63,839,58"/>
<area shape="rect" href="bmp3_8c.html#a0a53f320e8c5a13d452bc24dfc7de58a" title="This API sets the power control(pressure enable and temperature enable), over sampling,..." alt="" coords="258,8,435,35"/>
<area shape="poly" title=" " alt="" coords="641,22,436,23,436,18,641,17"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,8,210,35"/>
<area shape="poly" title=" " alt="" coords="243,24,211,24,211,19,243,19"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,59,209,85"/>
<area shape="poly" title=" " alt="" coords="280,42,210,61,209,55,278,37"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,33,55,60"/>
<area shape="poly" title=" " alt="" coords="88,38,55,44,54,39,87,33"/>
<area shape="poly" title=" " alt="" coords="88,61,55,54,56,49,89,56"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="483,60,608,87"/>
<area shape="poly" title=" " alt="" coords="640,78,608,77,608,72,641,73"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="278,59,416,85"/>
<area shape="poly" title=" " alt="" coords="468,75,416,75,416,70,468,70"/>
<area shape="poly" title=" " alt="" coords="278,57,209,38,210,33,280,51"/>
<area shape="poly" title=" " alt="" coords="262,75,209,75,209,69,262,69"/>
</map>
</div>

</div>
</div>
<a id="a0e46cadc4471037934f6291e8544c8e3" name="a0e46cadc4471037934f6291e8544c8e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e46cadc4471037934f6291e8544c8e3">&#9670;&#160;</a></span>write_power_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t write_power_mode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp3__settings.html">bmp3_settings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp3__dev.html">bmp3_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal API writes the power mode in the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>: Structure instance of <a class="el" href="structbmp3__settings.html" title="bmp3 device settings">bmp3_settings</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>: Structure instance of <a class="el" href="structbmp3__dev.html" title="bmp3 device structure">bmp3_dev</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of API execution status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>-&gt; Success </td></tr>
    <tr><td class="paramname">&gt;0</td><td>-&gt; Warning </td></tr>
    <tr><td class="paramname">&lt;0</td><td>-&gt; Fail </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmp3_8c_source.html#l01716">1716</a> of file <a class="el" href="bmp3_8c_source.html">bmp3.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1717</span>{</div>
<div class="line"><span class="lineno"> 1718</span>    int8_t rslt;</div>
<div class="line"><span class="lineno"> 1719</span>    uint8_t reg_addr = <a class="code hl_define" href="bmp3__defs_8h.html#a071f152995f1259a527ae22c44844671">BMP3_REG_PWR_CTRL</a>;</div>
<div class="line"><span class="lineno"> 1720</span>    uint8_t op_mode = settings-&gt;<a class="code hl_variable" href="structbmp3__settings.html#a083f16f7e5ef228ada7957a14320a66b">op_mode</a>;</div>
<div class="line"><span class="lineno"> 1721</span> </div>
<div class="line"><span class="lineno"> 1722</span>    <span class="comment">/* Temporary variable to store the value read from op-mode register */</span></div>
<div class="line"><span class="lineno"> 1723</span>    uint8_t op_mode_reg_val;</div>
<div class="line"><span class="lineno"> 1724</span> </div>
<div class="line"><span class="lineno"> 1725</span>    <span class="comment">/* Read the power mode register */</span></div>
<div class="line"><span class="lineno"> 1726</span>    rslt = <a class="code hl_function" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7">bmp3_get_regs</a>(reg_addr, &amp;op_mode_reg_val, 1, dev);</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>    <span class="comment">/* Set the power mode */</span></div>
<div class="line"><span class="lineno"> 1729</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp3__defs_8h.html#ab5fc37ec1cd737b6ccaa1460086d80ca">BMP3_OK</a>)</div>
<div class="line"><span class="lineno"> 1730</span>    {</div>
<div class="line"><span class="lineno"> 1731</span>        op_mode_reg_val = <a class="code hl_define" href="bmp3__defs_8h.html#af184bc3acd90b098767a209bcfc69839">BMP3_SET_BITS</a>(op_mode_reg_val, BMP3_OP_MODE, op_mode);</div>
<div class="line"><span class="lineno"> 1732</span> </div>
<div class="line"><span class="lineno"> 1733</span>        <span class="comment">/* Write the power mode in the register */</span></div>
<div class="line"><span class="lineno"> 1734</span>        rslt = <a class="code hl_function" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe">bmp3_set_regs</a>(&amp;reg_addr, &amp;op_mode_reg_val, 1, dev);</div>
<div class="line"><span class="lineno"> 1735</span>    }</div>
<div class="line"><span class="lineno"> 1736</span> </div>
<div class="line"><span class="lineno"> 1737</span>    <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno"> 1738</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bmp3_8c_source.html#l00794">bmp3_get_regs()</a>, <a class="el" href="bmp3__defs_8h_source.html#l00258">BMP3_OK</a>, <a class="el" href="bmp3__defs_8h_source.html#l00158">BMP3_REG_PWR_CTRL</a>, <a class="el" href="bmp3__defs_8h_source.html#l00420">BMP3_SET_BITS</a>, <a class="el" href="bmp3_8c_source.html#l00844">bmp3_set_regs()</a>, and <a class="el" href="bmp3__defs_8h_source.html#l00709">bmp3_settings::op_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp3_8c_source.html#l01350">bmp3_set_op_mode()</a>, and <a class="el" href="bmp3_8c_source.html#l01680">set_normal_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0e46cadc4471037934f6291e8544c8e3_cgraph.png" border="0" usemap="#abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_cgraph" alt=""/></div>
<map name="abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_cgraph" id="abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_cgraph">
<area shape="rect" title="This internal API writes the power mode in the sensor." alt="" coords="5,31,136,57"/>
<area shape="rect" href="bmp3_8c.html#a9e0c2cdecfdac8aa6ed4e35940f7ade7" title="This API reads the data from the given register address of the sensor." alt="" coords="184,5,294,32"/>
<area shape="poly" title=" " alt="" coords="135,32,168,27,169,32,136,37"/>
<area shape="rect" href="bmp3_8c.html#ad02d16a9569a75f9df070348eb7cb1fe" title="This API writes the given data to the register address of the sensor." alt="" coords="184,56,294,83"/>
<area shape="poly" title=" " alt="" coords="136,51,169,56,168,61,135,56"/>
<area shape="rect" href="bmp3_8c.html#a9db82f2117ddfa4eccef8a018e738aab" title="This internal API is used to validate the device pointer for null conditions." alt="" coords="356,5,462,32"/>
<area shape="poly" title=" " alt="" coords="295,16,341,16,341,21,295,21"/>
<area shape="poly" title=" " alt="" coords="286,53,347,34,348,39,287,58"/>
<area shape="rect" href="bmp3_8c.html#aa5c65995726d3062cf7e5659cbdc3472" title="This internal API interleaves the register address between the register data buffer for burst write o..." alt="" coords="342,56,476,83"/>
<area shape="poly" title=" " alt="" coords="295,67,326,67,326,72,295,72"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bmp3_8c_a0e46cadc4471037934f6291e8544c8e3_icgraph.png" border="0" usemap="#abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_icgraph" alt=""/></div>
<map name="abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_icgraph" id="abmp3_8c_a0e46cadc4471037934f6291e8544c8e3_icgraph">
<area shape="rect" title="This internal API writes the power mode in the sensor." alt="" coords="617,31,747,57"/>
<area shape="rect" href="bmp3_8c.html#a47d3b5b195ea0155ff037fdf7f1ad527" title="This API sets the power mode of the sensor." alt="" coords="258,31,396,57"/>
<area shape="poly" title=" " alt="" coords="601,47,396,47,396,41,601,41"/>
<area shape="rect" href="bmp3_8c.html#a2b913d2a13a0820beb7d1ca325c7b5a5" title="This internal API sets the normal mode in the sensor." alt="" coords="444,56,569,83"/>
<area shape="poly" title=" " alt="" coords="602,58,570,63,569,58,601,53"/>
<area shape="rect" href="group__bmp3.html#ga5930eb3a2ebc74ef4996cb5cc0e835fc" title="Initializes the backup barometer (BMP390)." alt="" coords="103,5,210,32"/>
<area shape="poly" title=" " alt="" coords="242,34,210,29,211,24,243,29"/>
<area shape="rect" href="group__bmp3.html#gab8d904a31124b1eca5f4922c14340746" title="Initializes the primary barometer (BMP390)." alt="" coords="104,56,209,83"/>
<area shape="poly" title=" " alt="" coords="243,59,210,64,209,59,242,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="88,58,55,52,56,46,89,53"/>
<area shape="poly" title=" " alt="" coords="429,61,397,56,397,51,429,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74665e7a93125a1b96de8fab7d5a3847.html">Davinci_2</a></li><li class="navelem"><a class="el" href="dir_2270421e09f92bb67b3cc59e68204e53.html">Core</a></li><li class="navelem"><a class="el" href="dir_6b82e2a9fde87d91fd1a6e472f875448.html">Src</a></li><li class="navelem"><a class="el" href="bmp3_8c.html">bmp3.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
