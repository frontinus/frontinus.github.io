<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Da Vinci Firmware: Davinci_2/Core/Inc/main.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PRT-logo-horizontal-dark-resized.png"/></td>
  <td id="projectalign">
   <div id="projectname">Da Vinci Firmware<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Firmware for the DaVinci-M rocket avionics board.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('main_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>: Header for <a class="el" href="main_8c.html" title=": Main program body for the flight computer. Initializes hardware, RTOS, and starts all application t...">main.c</a> file. This file contains the common defines of the application.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h__dep__incl.png" border="0" usemap="#a_davinci__2_2_core_2_inc_2main_8hdep" alt=""/></div>
<map name="a_davinci__2_2_core_2_inc_2main_8hdep" id="a_davinci__2_2_core_2_inc_2main_8hdep">
<area shape="rect" title=": Header for main.c file. This file contains the common defines of the application." alt="" coords="681,5,815,48"/>
<area shape="rect" href="flight__control_8h.html" title="Defines the states, events, and data structures for the rocket&#39;s main Flight State Machine (FSM)." alt="" coords="5,96,139,139"/>
<area shape="poly" title=" " alt="" coords="666,36,433,58,292,76,151,99,140,101,139,96,150,93,291,71,433,53,665,31"/>
<area shape="rect" href="profiler_8h.html" title="DWT&#45;based microsecond profiler for ARM Cortex&#45;M microcontrollers." alt="" coords="395,96,528,139"/>
<area shape="poly" title=" " alt="" coords="667,56,529,98,528,93,666,50"/>
<area shape="rect" href="main_8c.html" title=": Main program body for the flight computer. Initializes hardware, RTOS, and starts all application t..." alt="" coords="276,187,412,229"/>
<area shape="poly" title=" " alt="" coords="666,36,588,45,505,57,432,75,404,86,384,98,368,118,357,141,348,187,343,186,352,139,364,115,381,94,402,81,430,70,504,52,587,39,665,31"/>
<area shape="rect" href="utilities_8h.html" title="Provides low&#45;level hardware drivers, sensor initialization routines, and various utility functions fo..." alt="" coords="603,96,736,139"/>
<area shape="poly" title=" " alt="" coords="722,62,689,97,685,94,718,58"/>
<area shape="rect" href="z__qflash___w25_q_x_x_x_8h.html" title="Driver for W25Qxxx series Quad&#45;SPI NOR Flash memory." alt="" coords="163,96,320,139"/>
<area shape="poly" title=" " alt="" coords="666,43,339,99,320,102,319,97,338,93,666,38"/>
<area shape="rect" href="z__qflash___w25_q_x_x_x_8c.html" title=" " alt="" coords="435,187,592,229"/>
<area shape="poly" title=" " alt="" coords="668,56,628,74,592,98,571,119,552,143,525,187,521,185,548,140,567,116,589,94,626,69,665,51"/>
<area shape="rect" href="buzzer_8c.html" title="Implementation of the PWM buzzer driver." alt="" coords="760,96,896,139"/>
<area shape="poly" title=" " alt="" coords="779,58,812,94,808,97,775,61"/>
<area shape="rect" href="freertos_8c.html" title=" " alt="" coords="920,96,1056,139"/>
<area shape="poly" title=" " alt="" coords="819,51,933,93,931,98,817,56"/>
<area shape="rect" href="lis2mdl__reg_8c.html" title="LIS2MDL driver file." alt="" coords="1080,96,1216,139"/>
<area shape="poly" title=" " alt="" coords="831,42,1069,93,1081,96,1079,101,1067,99,829,47"/>
<area shape="rect" href="lsm6dso32__reg_8c.html" title="LSM6DSO32 driver file." alt="" coords="1240,96,1376,139"/>
<area shape="poly" title=" " alt="" coords="830,34,1013,58,1228,93,1241,96,1239,101,1228,99,1013,63,830,40"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html" title="This file provides code for the MSP Initialization and de&#45;Initialization codes." alt="" coords="1399,96,1556,139"/>
<area shape="poly" title=" " alt="" coords="830,31,1081,53,1234,71,1388,93,1399,95,1398,100,1388,99,1234,76,1080,59,830,36"/>
<area shape="rect" href="stm32h7xx__it_8c.html" title="Interrupt Service Routines." alt="" coords="1579,96,1714,139"/>
<area shape="poly" title=" " alt="" coords="830,28,970,34,1154,46,1361,65,1568,93,1579,95,1578,101,1568,99,1360,70,1154,51,970,39,830,33"/>
<area shape="rect" href="flight__control_8c.html" title=" " alt="" coords="67,187,202,229"/>
<area shape="poly" title=" " alt="" coords="97,150,122,185,118,188,93,153"/>
<area shape="poly" title=" " alt="" coords="424,150,373,188,370,184,420,146"/>
<area shape="rect" href="utilities_8c.html" title="Implementation of low&#45;level hardware drivers and utility functions." alt="" coords="615,187,750,229"/>
<area shape="poly" title=" " alt="" coords="677,154,682,186,677,187,672,155"/>
<area shape="poly" title=" " alt="" coords="207,151,161,188,158,184,203,146"/>
<area shape="poly" title=" " alt="" coords="278,147,322,184,318,188,275,151"/>
<area shape="poly" title=" " alt="" coords="320,141,450,183,449,189,318,146"/>
</map>
</div>
</div>
<p><a href="main_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae70bce6c39d0b570a7523b86738cec4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ae70bce6c39d0b570a7523b86738cec4b">HAL_TIM_MspPostInit</a> (TIM_HandleTypeDef *htim)</td></tr>
<tr class="separator:ae70bce6c39d0b570a7523b86738cec4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1730ffe1e560465665eb47d9264826f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a1730ffe1e560465665eb47d9264826f9">Error_Handler</a> (void)</td></tr>
<tr class="memdesc:a1730ffe1e560465665eb47d9264826f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed in case of error occurrence.  <br /></td></tr>
<tr class="separator:a1730ffe1e560465665eb47d9264826f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae818b2c2c207642468860f8fa7cbe56f"><td class="memItemLeft" align="right" valign="top">QSPI_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#gae818b2c2c207642468860f8fa7cbe56f">hqspi</a></td></tr>
<tr class="memdesc:gae818b2c2c207642468860f8fa7cbe56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL QSPI handle for the external flash memory.  <br /></td></tr>
<tr class="separator:gae818b2c2c207642468860f8fa7cbe56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9da65f935e805137e2eb4e18c5ab224"><td class="memItemLeft" align="right" valign="top">SPI_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#gab9da65f935e805137e2eb4e18c5ab224">hspi2</a></td></tr>
<tr class="memdesc:gab9da65f935e805137e2eb4e18c5ab224"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL SPI handle for Sensor Bus 1 (e.g., IMU, Baro).  <br /></td></tr>
<tr class="separator:gab9da65f935e805137e2eb4e18c5ab224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec51920045aad7f70cbfd1f58228d866"><td class="memItemLeft" align="right" valign="top">SPI_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#gaec51920045aad7f70cbfd1f58228d866">hspi3</a></td></tr>
<tr class="memdesc:gaec51920045aad7f70cbfd1f58228d866"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL SPI handle for Sensor Bus 2 (e.g., secondary sensors).  <br /></td></tr>
<tr class="separator:gaec51920045aad7f70cbfd1f58228d866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga859a9bb217bb4010bb2bffb6881478c0"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#ga859a9bb217bb4010bb2bffb6881478c0">htim15</a></td></tr>
<tr class="memdesc:ga859a9bb217bb4010bb2bffb6881478c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL Timer handle for the buzzer PWM.  <br /></td></tr>
<tr class="separator:ga859a9bb217bb4010bb2bffb6881478c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf20e0da8d1d2d642fcd2c1b869394bcf"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#gaf20e0da8d1d2d642fcd2c1b869394bcf">mainp</a></td></tr>
<tr class="memdesc:gaf20e0da8d1d2d642fcd2c1b869394bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status flag for the main parachute pyro channel.  <br /></td></tr>
<tr class="separator:gaf20e0da8d1d2d642fcd2c1b869394bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f6b9948886b71a18a636cce7acd5e52"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#ga9f6b9948886b71a18a636cce7acd5e52">drogue</a></td></tr>
<tr class="memdesc:ga9f6b9948886b71a18a636cce7acd5e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status flag for the drogue parachute pyro channel.  <br /></td></tr>
<tr class="separator:ga9f6b9948886b71a18a636cce7acd5e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cf27eef143ce97274946c621c1b5c6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#ga1cf27eef143ce97274946c621c1b5c6c">flag_kf</a></td></tr>
<tr class="memdesc:ga1cf27eef143ce97274946c621c1b5c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTOS event flag to trigger the Kalman Filter task.  <br /></td></tr>
<tr class="separator:ga1cf27eef143ce97274946c621c1b5c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dd0ab7e3442a6c2767b63b3916f473f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#ga3dd0ab7e3442a6c2767b63b3916f473f">flag_MPC</a></td></tr>
<tr class="memdesc:ga3dd0ab7e3442a6c2767b63b3916f473f"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTOS event flag to trigger the MPC task.  <br /></td></tr>
<tr class="separator:ga3dd0ab7e3442a6c2767b63b3916f473f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9944ecd09a3da3fa55c8c1846ba56f6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#ga9944ecd09a3da3fa55c8c1846ba56f6d">flag_flash</a></td></tr>
<tr class="memdesc:ga9944ecd09a3da3fa55c8c1846ba56f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTOS event flag to trigger the data logging task.  <br /></td></tr>
<tr class="separator:ga9944ecd09a3da3fa55c8c1846ba56f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac214107f44ddc446c55d6c07952198f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___global___variables.html#gac214107f44ddc446c55d6c07952198f7">flag_attitude</a></td></tr>
<tr class="memdesc:gac214107f44ddc446c55d6c07952198f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTOS event flag to trigger the attitude estimation task.  <br /></td></tr>
<tr class="separator:gac214107f44ddc446c55d6c07952198f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>: Header for <a class="el" href="main_8c.html" title=": Main program body for the flight computer. Initializes hardware, RTOS, and starts all application t...">main.c</a> file. This file contains the common defines of the application. </p>
<dl class="section author"><dt>Author</dt><dd>Francesco Abate, Tommaso Gualtierotti</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2025 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS.</p>
<p>&mdash; Doxygen Main Page and Groups &mdash;</p>
<p>/** </p>

<p class="definition">Definition in file <a class="el" href="main_8h_source.html">main.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1730ffe1e560465665eb47d9264826f9" name="a1730ffe1e560465665eb47d9264826f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1730ffe1e560465665eb47d9264826f9">&#9670;&#160;</a></span>Error_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Error_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed in case of error occurrence. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l02042">2042</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2043</span>{</div>
<div class="line"><span class="lineno"> 2044</span>  <span class="comment">/* USER CODE BEGIN Error_Handler_Debug */</span></div>
<div class="line"><span class="lineno"> 2045</span>  <span class="comment">/* User can add his own implementation to report the HAL error return state */</span></div>
<div class="line"><span class="lineno"> 2046</span>  __disable_irq();</div>
<div class="line"><span class="lineno"> 2047</span>  <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno"> 2048</span>  {</div>
<div class="line"><span class="lineno"> 2049</span>  }</div>
<div class="line"><span class="lineno"> 2050</span>  <span class="comment">/* USER CODE END Error_Handler_Debug */</span></div>
<div class="line"><span class="lineno"> 2051</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="buzzer_8c_source.html#l00023">buzzer_init()</a>, <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l00247">HAL_FDCAN_MspInit()</a>, <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l01063">HAL_PCD_MspInit()</a>, <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l00324">HAL_QSPI_MspInit()</a>, <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l00466">HAL_SPI_MspInit()</a>, <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l00877">HAL_UART_MspInit()</a>, <a class="el" href="main_8c_source.html#l00399">main()</a>, <a class="el" href="main_8c_source.html#l00696">MX_ADC1_Init()</a>, <a class="el" href="main_8c_source.html#l00765">MX_ADC2_Init()</a>, <a class="el" href="main_8c_source.html#l00825">MX_ADC3_Init()</a>, <a class="el" href="main_8c_source.html#l00885">MX_FDCAN1_Init()</a>, <a class="el" href="main_8c_source.html#l00938">MX_QUADSPI_Init()</a>, <a class="el" href="main_8c_source.html#l00973">MX_SPI1_Init()</a>, <a class="el" href="main_8c_source.html#l01021">MX_SPI2_Init()</a>, <a class="el" href="main_8c_source.html#l01069">MX_SPI3_Init()</a>, <a class="el" href="main_8c_source.html#l01242">MX_TIM13_Init()</a>, <a class="el" href="main_8c_source.html#l01273">MX_TIM15_Init()</a>, <a class="el" href="main_8c_source.html#l01117">MX_TIM2_Init()</a>, <a class="el" href="main_8c_source.html#l01166">MX_TIM6_Init()</a>, <a class="el" href="main_8c_source.html#l01204">MX_TIM7_Init()</a>, <a class="el" href="main_8c_source.html#l01339">MX_UART4_Init()</a>, <a class="el" href="main_8c_source.html#l01387">MX_USART1_UART_Init()</a>, <a class="el" href="main_8c_source.html#l01435">MX_USB_OTG_FS_PCD_Init()</a>, <a class="el" href="main_8c_source.html#l00669">PeriphCommonClock_Config()</a>, <a class="el" href="main_8c_source.html#l01943">StartReceiveVel_Task()</a>, and <a class="el" href="main_8c_source.html#l00611">SystemClock_Config()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a1730ffe1e560465665eb47d9264826f9_icgraph.png" border="0" usemap="#amain_8h_a1730ffe1e560465665eb47d9264826f9_icgraph" alt=""/></div>
<map name="amain_8h_a1730ffe1e560465665eb47d9264826f9_icgraph" id="amain_8h_a1730ffe1e560465665eb47d9264826f9_icgraph">
<area shape="rect" title="This function is executed in case of error occurrence." alt="" coords="347,639,448,665"/>
<area shape="rect" href="group___buzzer.html#ga709dac87a1589f61ba05980f37ea80a4" title="Initializes the buzzer object and its associated timer hardware." alt="" coords="159,5,243,32"/>
<area shape="poly" title=" " alt="" coords="393,623,387,500,371,329,359,242,343,163,322,97,310,72,297,53,272,34,243,25,244,20,275,30,301,49,315,69,327,95,348,161,364,241,377,329,392,500,398,623"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,765,55,792"/>
<area shape="poly" title=" " alt="" coords="393,623,389,506,375,346,363,265,346,192,324,134,311,112,297,97,273,78,248,65,224,57,200,54,176,57,152,65,128,78,105,96,96,110,87,134,73,206,61,303,51,413,39,628,34,765,29,765,34,627,46,412,55,302,67,206,82,132,91,108,101,93,126,73,150,60,175,52,200,49,225,52,250,60,275,74,301,93,316,109,329,132,351,191,368,264,380,345,394,506,399,623"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html#a7729f7e90a0cc1112a18a31a7ded98fa" title="FDCAN MSP Initialization This function configures the hardware resources used in this example." alt="" coords="125,107,276,133"/>
<area shape="poly" title=" " alt="" coords="392,624,384,518,367,375,354,303,338,237,319,183,297,147,275,132,278,128,301,143,324,181,344,235,359,302,372,374,389,518,397,623"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html#a73af972b44ba2890202363cd8b197dad" title="PCD MSP Initialization This function configures the hardware resources used in this example." alt="" coords="134,157,268,184"/>
<area shape="poly" title=" " alt="" coords="391,624,382,528,363,400,351,335,335,277,318,230,297,198,283,187,267,180,269,175,286,183,301,194,322,227,340,276,356,334,369,399,387,527,397,623"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html#ade8059377d8637fabb9a22fa1d50b558" title="QSPI MSP Initialization This function configures the hardware resources used in this example." alt="" coords="133,208,269,235"/>
<area shape="poly" title=" " alt="" coords="391,624,379,537,360,425,332,318,316,276,297,248,284,238,268,231,270,226,287,234,301,245,320,274,337,316,365,424,385,537,396,623"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html#a17f583be14b22caffa6c4e56dcd035ef" title="SPI MSP Initialization This function configures the hardware resources used in this example." alt="" coords="138,259,264,285"/>
<area shape="poly" title=" " alt="" coords="395,623,393,557,380,469,368,423,351,378,327,336,297,299,282,288,264,281,266,276,284,283,301,295,332,333,356,376,373,421,385,468,398,556,400,623"/>
<area shape="rect" href="stm32h7xx__hal__msp_8c.html#a0e553b32211877322f949b14801bbfa7" title="UART MSP Initialization This function configures the hardware resources used in this example." alt="" coords="131,309,271,336"/>
<area shape="poly" title=" " alt="" coords="393,623,388,565,374,492,361,453,345,415,324,380,297,350,270,334,273,329,301,346,328,377,350,413,366,451,379,490,393,565,398,623"/>
<area shape="rect" href="main_8c.html#aaa163e37853e6fc971474824d9f655ca" title="ADC1 Initialization Function." alt="" coords="146,360,256,387"/>
<area shape="poly" title=" " alt="" coords="391,623,383,575,367,514,339,453,320,425,297,401,278,388,255,381,257,376,280,383,301,397,324,422,343,450,372,513,388,573,396,622"/>
<area shape="rect" href="main_8c.html#a4e987f0fdef6459c1a03ca830bac23f5" title="ADC2 Initialization Function." alt="" coords="146,411,256,437"/>
<area shape="poly" title=" " alt="" coords="388,624,377,585,359,538,333,491,297,451,277,439,255,432,257,427,280,435,301,447,337,488,364,536,382,583,393,623"/>
<area shape="rect" href="main_8c.html#ae1e1b355e2d7714a267fee7e71891e59" title="ADC3 Initialization Function." alt="" coords="146,461,256,488"/>
<area shape="poly" title=" " alt="" coords="384,625,351,563,327,530,297,502,277,491,255,484,257,479,279,486,301,498,331,526,356,560,388,623"/>
<area shape="rect" href="main_8c.html#a68844b039d74e2d8b8821617d54ae786" title="FDCAN1 Initialization Function." alt="" coords="137,512,264,539"/>
<area shape="poly" title=" " alt="" coords="376,628,342,589,321,569,298,553,264,539,266,534,300,548,324,565,346,585,380,624"/>
<area shape="rect" href="main_8c.html#a235a6a2390a0390247a052c05cc07dd4" title="QUADSPI Initialization Function." alt="" coords="134,563,268,589"/>
<area shape="poly" title=" " alt="" coords="359,633,298,604,263,592,265,587,300,599,361,628"/>
<area shape="rect" href="main_8c.html#a28dbf2494083ac5f39daa87bf09e4eb3" title="SPI1 Initialization Function." alt="" coords="150,613,252,640"/>
<area shape="poly" title=" " alt="" coords="331,646,252,636,253,631,332,641"/>
<area shape="rect" href="main_8c.html#ade0c8abfcfc1615647bfdd244bd1ee00" title="SPI2 Initialization Function." alt="" coords="150,664,252,691"/>
<area shape="poly" title=" " alt="" coords="332,663,253,673,252,668,331,658"/>
<area shape="rect" href="main_8c.html#ad13211e797777a447435fa0b54dcac7c" title="SPI3 Initialization Function." alt="" coords="150,715,252,741"/>
<area shape="poly" title=" " alt="" coords="361,676,300,705,253,720,252,715,298,700,359,671"/>
<area shape="rect" href="main_8c.html#aee30fc17845c31e290c51c421da470db" title="TIM13 Initialization Function." alt="" coords="146,765,256,792"/>
<area shape="poly" title=" " alt="" coords="380,680,346,719,324,739,300,756,257,772,256,768,298,751,321,735,342,715,376,676"/>
<area shape="rect" href="main_8c.html#ac9b592ca8ef85a0898f4e6540524aa38" title="TIM15 Initialization Function." alt="" coords="146,816,256,843"/>
<area shape="poly" title=" " alt="" coords="388,681,356,744,331,778,301,806,280,818,257,825,256,820,278,813,297,802,327,774,351,741,384,679"/>
<area shape="rect" href="main_8c.html#af952250b2d49718b385e14a76fa7c1b8" title="TIM2 Initialization Function." alt="" coords="149,867,252,893"/>
<area shape="poly" title=" " alt="" coords="393,681,382,721,364,768,337,816,301,857,278,870,254,878,252,873,276,865,297,853,333,813,359,766,377,719,388,680"/>
<area shape="rect" href="main_8c.html#af5e0e0fbbf2e1ec351699c09950583fe" title="TIM6 Initialization Function." alt="" coords="149,917,252,944"/>
<area shape="poly" title=" " alt="" coords="396,682,388,731,372,791,343,854,324,882,301,907,278,921,254,929,252,924,276,916,297,903,320,879,339,851,367,790,383,729,391,681"/>
<area shape="rect" href="main_8c.html#a1f9e6286a5c651e752b639453b290d9d" title="TIM7 Initialization Function." alt="" coords="149,968,252,995"/>
<area shape="poly" title=" " alt="" coords="398,681,393,739,379,814,366,853,350,891,328,927,301,958,279,972,254,980,252,975,276,968,297,954,324,924,345,889,361,851,374,812,388,739,393,681"/>
<area shape="rect" href="main_8c.html#ada2fde91c9d08b4055b4d171690255d0" title="UART4 Initialization Function." alt="" coords="143,1019,259,1045"/>
<area shape="poly" title=" " alt="" coords="400,681,398,748,385,836,373,883,356,928,332,971,301,1009,282,1022,260,1030,259,1025,279,1017,297,1005,327,968,351,926,368,881,380,835,393,747,395,681"/>
<area shape="rect" href="main_8c.html#a62f4b77e20bccafe98a183771749c20c" title="USART1 Initialization Function." alt="" coords="117,1069,285,1096"/>
<area shape="poly" title=" " alt="" coords="396,681,385,767,365,880,337,988,320,1030,301,1059,285,1071,282,1067,297,1055,316,1028,332,986,360,879,379,767,391,680"/>
<area shape="rect" href="main_8c.html#a03b71abc2ed6e7a94a08e94b1d74542f" title="USB_OTG_FS Initialization Function." alt="" coords="103,1120,299,1147"/>
<area shape="poly" title=" " alt="" coords="397,681,387,777,369,905,356,970,340,1028,322,1077,301,1110,286,1121,283,1117,297,1106,318,1074,335,1027,351,969,363,904,382,776,391,680"/>
<area shape="rect" href="main_8c.html#a336c5acb34a801b2984e602b97ed7b73" title="Peripherals Common Clock Configuration." alt="" coords="106,1171,296,1197"/>
<area shape="poly" title=" " alt="" coords="397,681,389,786,372,930,359,1002,344,1069,324,1123,301,1160,286,1172,283,1168,297,1157,319,1121,338,1067,354,1001,367,929,384,786,392,680"/>
<area shape="rect" href="main_8c.html#adc15c3349aff78c6599fac58869b5ba9" title="Function implementing the ReceiveVel_Task thread." alt="" coords="126,1221,276,1248"/>
<area shape="poly" title=" " alt="" coords="398,681,391,796,375,955,363,1035,347,1109,326,1169,314,1193,301,1211,278,1227,275,1223,297,1207,310,1190,321,1167,341,1107,357,1034,370,954,386,796,393,681"/>
<area shape="rect" href="main_8c.html#a70af21c671abfcc773614a9a4f63d920" title="System Clock Configuration." alt="" coords="128,1272,274,1299"/>
<area shape="poly" title=" " alt="" coords="398,681,393,805,378,979,366,1068,349,1149,328,1216,315,1242,301,1262,275,1279,272,1275,297,1258,311,1239,323,1214,344,1148,361,1067,373,978,388,805,393,681"/>
<area shape="poly" title=" " alt="" coords="145,28,123,37,105,52,97,68,89,95,75,174,54,394,40,621,34,765,29,765,35,621,48,393,70,173,84,93,92,66,101,49,120,33,143,23"/>
<area shape="poly" title=" " alt="" coords="132,383,117,390,105,400,87,429,73,471,52,580,40,690,35,765,29,765,35,689,47,579,68,470,83,427,101,397,114,386,130,378"/>
<area shape="poly" title=" " alt="" coords="132,434,117,441,105,451,89,475,76,511,55,604,42,699,35,765,30,765,36,698,50,603,71,510,85,473,101,448,114,437,130,429"/>
<area shape="poly" title=" " alt="" coords="132,485,105,502,91,522,79,551,58,629,36,765,30,765,53,627,74,550,87,519,101,498,130,480"/>
<area shape="poly" title=" " alt="" coords="124,539,104,553,84,577,67,605,46,666,37,724,34,765,29,765,31,723,41,665,63,603,79,574,101,549,122,535"/>
<area shape="poly" title=" " alt="" coords="121,592,104,603,87,621,73,642,53,688,41,732,35,765,30,764,36,731,48,686,69,640,83,618,101,599,118,588"/>
<area shape="poly" title=" " alt="" coords="136,638,104,654,79,680,60,711,38,766,33,764,55,709,75,677,101,650,134,633"/>
<area shape="poly" title=" " alt="" coords="136,691,104,705,68,735,42,767,38,764,64,732,101,700,134,686"/>
<area shape="poly" title=" " alt="" coords="135,747,103,756,56,772,54,767,102,751,134,742"/>
<area shape="poly" title=" " alt="" coords="130,781,55,781,55,776,130,776"/>
<area shape="poly" title=" " alt="" coords="130,815,102,807,54,790,56,785,103,801,132,810"/>
<area shape="poly" title=" " alt="" coords="133,871,101,857,64,826,38,794,42,790,68,822,104,852,135,866"/>
<area shape="poly" title=" " alt="" coords="133,924,101,907,75,880,55,849,33,794,38,792,60,846,79,877,104,903,135,919"/>
<area shape="poly" title=" " alt="" coords="133,976,101,958,83,939,69,918,48,871,36,827,30,793,35,792,41,825,53,869,73,915,87,936,104,954,136,971"/>
<area shape="poly" title=" " alt="" coords="127,1025,101,1009,79,983,63,954,41,892,31,834,29,792,34,792,37,834,46,891,67,952,84,980,104,1005,130,1020"/>
<area shape="poly" title=" " alt="" coords="104,1062,101,1059,87,1038,74,1008,53,930,30,793,36,792,58,929,79,1006,91,1036,105,1056,108,1058"/>
<area shape="poly" title=" " alt="" coords="103,1112,101,1110,85,1085,71,1048,50,954,36,859,30,793,35,792,42,859,55,953,76,1046,89,1082,105,1106,107,1109"/>
<area shape="poly" title=" " alt="" coords="103,1163,101,1160,83,1131,68,1088,47,978,35,868,29,793,35,792,40,868,52,978,73,1086,87,1129,105,1157,107,1159"/>
<area shape="poly" title=" " alt="" coords="110,1220,101,1211,81,1177,65,1128,53,1068,44,1002,33,877,29,793,34,792,38,877,49,1002,58,1067,70,1126,86,1175,105,1208,114,1216"/>
<area shape="poly" title=" " alt="" coords="113,1272,101,1262,79,1223,62,1167,49,1100,41,1026,31,886,29,793,34,793,36,886,46,1026,55,1099,67,1166,84,1221,105,1258,116,1268"/>
</map>
</div>

</div>
</div>
<a id="ae70bce6c39d0b570a7523b86738cec4b" name="ae70bce6c39d0b570a7523b86738cec4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70bce6c39d0b570a7523b86738cec4b">&#9670;&#160;</a></span>HAL_TIM_MspPostInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_TIM_MspPostInit </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>htim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TIM2 GPIO Configuration PA2 ---&mdash;&gt; TIM2_CH3</p>
<p>TIM15 GPIO Configuration PE6 ---&mdash;&gt; TIM15_CH2</p>

<p class="definition">Definition at line <a class="el" href="stm32h7xx__hal__msp_8c_source.html#l00739">739</a> of file <a class="el" href="stm32h7xx__hal__msp_8c_source.html">stm32h7xx_hal_msp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  740</span>{</div>
<div class="line"><span class="lineno">  741</span>  GPIO_InitTypeDef GPIO_InitStruct = {0};</div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span>(htim-&gt;Instance==TIM2)</div>
<div class="line"><span class="lineno">  743</span>  {</div>
<div class="line"><span class="lineno">  744</span>    <span class="comment">/* USER CODE BEGIN TIM2_MspPostInit 0 */</span></div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="comment">/* USER CODE END TIM2_MspPostInit 0 */</span></div>
<div class="line"><span class="lineno">  747</span>    __HAL_RCC_GPIOA_CLK_ENABLE();</div>
<div class="line"><span class="lineno">  751</span>    GPIO_InitStruct.Pin = TIM2_CH3_PWM_AIRBRAKES_Pin;</div>
<div class="line"><span class="lineno">  752</span>    GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;</div>
<div class="line"><span class="lineno">  753</span>    GPIO_InitStruct.Pull = GPIO_NOPULL;</div>
<div class="line"><span class="lineno">  754</span>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;</div>
<div class="line"><span class="lineno">  755</span>    GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;</div>
<div class="line"><span class="lineno">  756</span>    HAL_GPIO_Init(TIM2_CH3_PWM_AIRBRAKES_GPIO_Port, &amp;GPIO_InitStruct);</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>    <span class="comment">/* USER CODE BEGIN TIM2_MspPostInit 1 */</span></div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="comment">/* USER CODE END TIM2_MspPostInit 1 */</span></div>
<div class="line"><span class="lineno">  761</span>  }</div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(htim-&gt;Instance==TIM15)</div>
<div class="line"><span class="lineno">  763</span>  {</div>
<div class="line"><span class="lineno">  764</span>    <span class="comment">/* USER CODE BEGIN TIM15_MspPostInit 0 */</span></div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>    <span class="comment">/* USER CODE END TIM15_MspPostInit 0 */</span></div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>    __HAL_RCC_GPIOE_CLK_ENABLE();</div>
<div class="line"><span class="lineno">  772</span>    GPIO_InitStruct.Pin = TIM15_CH2_BUZZER_Pin;</div>
<div class="line"><span class="lineno">  773</span>    GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;</div>
<div class="line"><span class="lineno">  774</span>    GPIO_InitStruct.Pull = GPIO_NOPULL;</div>
<div class="line"><span class="lineno">  775</span>    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;</div>
<div class="line"><span class="lineno">  776</span>    GPIO_InitStruct.Alternate = GPIO_AF4_TIM15;</div>
<div class="line"><span class="lineno">  777</span>    HAL_GPIO_Init(TIM15_CH2_BUZZER_GPIO_Port, &amp;GPIO_InitStruct);</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">/* USER CODE BEGIN TIM15_MspPostInit 1 */</span></div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">/* USER CODE END TIM15_MspPostInit 1 */</span></div>
<div class="line"><span class="lineno">  782</span>  }</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="main_8c_source.html#l01273">MX_TIM15_Init()</a>, and <a class="el" href="main_8c_source.html#l01117">MX_TIM2_Init()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ae70bce6c39d0b570a7523b86738cec4b_icgraph.png" border="0" usemap="#amain_8h_ae70bce6c39d0b570a7523b86738cec4b_icgraph" alt=""/></div>
<map name="amain_8h_ae70bce6c39d0b570a7523b86738cec4b_icgraph" id="amain_8h_ae70bce6c39d0b570a7523b86738cec4b_icgraph">
<area shape="rect" title=" " alt="" coords="261,31,415,57"/>
<area shape="rect" href="main_8c.html#ac9b592ca8ef85a0898f4e6540524aa38" title="TIM15 Initialization Function." alt="" coords="103,5,213,32"/>
<area shape="poly" title=" " alt="" coords="245,34,213,29,214,24,246,28"/>
<area shape="rect" href="main_8c.html#af952250b2d49718b385e14a76fa7c1b8" title="TIM2 Initialization Function." alt="" coords="106,56,210,83"/>
<area shape="poly" title=" " alt="" coords="246,60,210,65,209,59,245,54"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,31,55,57"/>
<area shape="poly" title=" " alt="" coords="88,35,55,42,54,37,87,30"/>
<area shape="poly" title=" " alt="" coords="90,59,54,51,55,46,91,53"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74665e7a93125a1b96de8fab7d5a3847.html">Davinci_2</a></li><li class="navelem"><a class="el" href="dir_2270421e09f92bb67b3cc59e68204e53.html">Core</a></li><li class="navelem"><a class="el" href="dir_8953985c8f7f8178c476555601a95ec2.html">Inc</a></li><li class="navelem"><a class="el" href="main_8h.html">main.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
